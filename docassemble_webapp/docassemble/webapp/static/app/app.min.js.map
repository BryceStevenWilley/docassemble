{"version":3,"sources":["docassemble_webapp/docassemble/webapp/static/app/app.js"],"sourcesContent":["var $;\n\ndocument.addEventListener(\"DOMContentLoaded\", function () {\n  if (typeof $ == \"undefined\") {\n    $ = jQuery.noConflict();\n  }\n  if (daJsEmbed) {\n    daTargetDiv = \"#\" + daJsEmbed;\n  } else {\n    daTargetDiv = \"#dabody\";\n  }\n  daPreloadImage(daImageToPreLoad);\n  if (daAutoColorScheme) {\n    if (window.matchMedia(\"(prefers-color-scheme: dark)\").matches) {\n      daDesiredColorScheme = 1;\n    } else {\n      daDesiredColorScheme = 0;\n    }\n    if (daCurrentColorScheme != daDesiredColorScheme) {\n      document.documentElement.setAttribute(\n        \"data-bs-theme\",\n        daDesiredColorScheme ? \"dark\" : \"light\",\n      );\n      $.ajax({\n        type: \"PATCH\",\n        url: daUrlChangeColorScheme,\n        xhrFields: {\n          withCredentials: true,\n        },\n        data: \"scheme=\" + daDesiredColorScheme,\n        success: function (data) {\n          daCurrentColorScheme = data.scheme;\n        },\n        error: function (xhr, status, error) {\n          console.log(\"Unable to change desired color scheme.\");\n        },\n        dataType: \"json\",\n      });\n    }\n  }\n  $(document).ready(daReadyFunction);\n  if (!daObserverMode) {\n    $(window).ready(daUpdateHeight);\n    $(window).resize(daUpdateHeight);\n  }\n  daConfigureJqueryFuncs();\n  for (var i = 0; i < daInitialExtraScripts.length; i++) {\n    daEvalExtraScript(daInitialExtraScripts[i]);\n  }\n  for (var i = 0; i < daCustomItems.length; i++) {\n    try {\n      daGlobalEval(daCustomItems[i].js);\n    } catch {\n      console.log(\n        \"Error with JavaScript code of CustomDataType \" +\n          daCustomItems[i].datatype,\n      );\n    }\n  }\n});\n\nvar daCtx,\n  daColor = \"#000\";\nvar daWindowWidth;\nvar daTheWidth;\nvar daAspectRatio;\nvar daTheBorders;\nvar daIsEmpty;\n\nfunction daInitializeSignature(penColor) {\n  daColor = penColor;\n  daAspectRatio = 0.4;\n  daTheBorders = 30;\n  daIsEmpty = 1;\n  setTimeout(function () {\n    if (!isCanvasSupported()) {\n      daPost({ da_success: 0, da_ajax: 1 });\n    }\n    daNewCanvas();\n    $(document).on(\"touchmove\", function (event) {\n      if (window.matchMedia(\"(max-width: 575px)\").matches) {\n        event.preventDefault();\n      }\n    });\n  }, 500);\n  $(window).on(\"resize\", function () {\n    daResizeCanvas();\n  });\n  $(window).on(\"orientationchange\", function () {\n    daResizeCanvas();\n  });\n\n  // $(\".dasigpalette\").click(function(){\n  //   $(\".dasigpalette\").css(\"border-color\", \"#777\");\n  //   $(\".dasigpalette\").css(\"border-style\", \"solid\");\n  //   $(this).css(\"border-color\", \"#fff\");\n  //   $(this).css(\"border-style\", \"dashed\");\n  //   daColor = $(this).css(\"background-color\");\n  //   daCtx.beginPath();\n  //   daCtx.lineJoin=\"round\";\n  //   daCtx.strokeStyle = daColor;\n  //   daCtx.fillStyle = daColor;\n  // });\n  $(\".dasigclear\").click(function (e) {\n    e.preventDefault();\n    daNewCanvas();\n    return false;\n  });\n  $(\".dasigsave\").click(function (e) {\n    e.preventDefault();\n    if (daIsEmpty && document.getElementById(\"da_sig_required\").value == \"1\") {\n      $(\"#daerrormess\").removeClass(\"dasignotshowing\");\n      setTimeout(function () {\n        $(\"#daerrormess\").addClass(\"dasignotshowing\");\n      }, 3000);\n    } else {\n      $(\".dasigclear\").attr(\"disabled\", true);\n      $(\".dasigsave\").attr(\"disabled\", true);\n      daSaveCanvas();\n    }\n    return false;\n  });\n}\n\n// function to setup a new canvas for drawing\n\nfunction daResizeCanvas() {\n  //var cheight = $(window).height()-($(\"#sigheader\").height() + $(\"#sigtoppart\").height() + $(\"#sigbottompart\").height());\n  if ($(window).width() != daWindowWidth) {\n    daWindowWidth = $(window).width();\n    setTimeout(function () {\n      daNewCanvas();\n    }, 200);\n  }\n  //console.log(\"I resized\");\n  return;\n  // var cheight = $(window).width()*daAspectRatio;\n  // if (cheight > $(window).height()-theTop){\n  //   cheight = $(window).height()-theTop;\n  // }\n  // if (cheight > 350){\n  //   cheight = 350;\n  // }\n  // var cwidth = $(window).width() - daTheBorders;\n\n  // $(\"#sigcontent\").height(cheight);\n  // //$(\"#sigcontent\").css('top', ($(\"#sigheader\").height() + $(\"#sigtoppart\").height()) + \"px\");\n  // //$(\"#sigbottompart\").css('top', (cheight) + \"px\");\n  // $(\"#sigcanvas\").width(cwidth);\n  // $(\"#sigcanvas\").height(cheight);\n  // theTop = $(\"#sigcanvas\").offset().top;\n  // theLeft = $(\"#sigcanvas\").offset().left;\n  // daTheWidth = cwidth/100.0;\n  // if (daTheWidth < 1){\n  //   daTheWidth = 1;\n  // }\n  // return;\n}\n\nfunction daSaveCanvas() {\n  var dataURL = document.getElementById(\"dasigcanvas\").toDataURL();\n  //console.log(dataURL)\n  daSpinnerTimeout = setTimeout(daShowSpinner, 1000);\n  daPost({ da_success: 1, da_the_image: dataURL, da_ajax: 1 });\n}\n\nfunction daNewCanvas() {\n  //console.log(\"running daNewCanvas\");\n  daWindowWidth = $(window).width();\n  var cwidth = $(window).width() - daTheBorders;\n  var contentwidth = $(\"#dasigpage\").outerWidth(true);\n  if (cwidth > contentwidth) {\n    cwidth = contentwidth;\n  }\n  var cheight = cwidth * daAspectRatio;\n  var otherHeights =\n    $(\"#dasigheader\").outerHeight(true) +\n    $(\"#dasigtoppart\").outerHeight(true) +\n    $(\"#dasigmidpart\").outerHeight(true) +\n    $(\"#dasigbottompart\").outerHeight(true);\n  //console.log(\"height is \" + $(window).height());\n  //console.log(\"otherHeights are \" + otherHeights);\n  if (cheight > $(window).height() - otherHeights) {\n    cheight = $(window).height() - otherHeights;\n  }\n  if (cheight > 275 || cheight < 30) {\n    cheight = 275;\n  }\n  $(\"#dasigcontent\").height(cheight);\n  var canvas =\n    '<canvas class=\"form-control\" id=\"dasigcanvas\" width=\"' +\n    cwidth +\n    'px\" height=\"' +\n    cheight +\n    'px\"></canvas>';\n  $(\"#dasigcontent\").html(canvas);\n  //theTop = $(\"#sigcanvas\").offset().top;\n  //theLeft = $(\"#sigcanvas\").offset().left;\n  daTheWidth = (daThicknessScalingFactor * cwidth) / 100.0;\n  if (daTheWidth < 1) {\n    daTheWidth = 1;\n  }\n\n  // setup canvas\n  // daCtx=document.getElementById(\"sigcanvas\").getContext(\"2d\");\n  $(\"#dasigcanvas\").each(function () {\n    daCtx = $(this)[0].getContext(\"2d\");\n    daCtx.strokeStyle = daColor;\n    daCtx.fillStyle = daColor;\n    daCtx.lineWidth = daTheWidth;\n  });\n\n  // setup to trigger drawing on mouse or touch\n  $(\"#dasigcanvas\").drawTouch();\n  $(\"#dasigcanvas\").drawPointer();\n  $(\"#dasigcanvas\").drawMouse();\n  //$(document).on(\"touchend\", function(event){event.preventDefault();});\n  //$(document).on(\"touchcancel\", function(event){event.preventDefault();});\n  //$(document).on(\"touchstart\", function(event){event.preventDefault();});\n  //$(\"meta[name=viewport]\").attr('content', \"width=device-width, minimum-scale=1.0, maximum-scale=1.0, initial-scale=1.0, user-scalable=0\");\n  daIsEmpty = 1;\n  setTimeout(function () {\n    if (daJsEmbed) {\n      $(daTargetDiv)[0].scrollTo(0, 1);\n      if (daSteps > 1) {\n        $(daTargetDiv)[0].scrollIntoView();\n      }\n    } else {\n      window.scrollTo(0, 1);\n    }\n  }, 10);\n}\n\nfunction daPost(params) {\n  for (var key in params) {\n    if (params.hasOwnProperty(key)) {\n      var hiddenField = document.getElementById(key);\n      if (hiddenField != null) {\n        hiddenField.setAttribute(\"value\", params[key]);\n      } else {\n        console.log(\"Key does not exist: \" + key);\n        return;\n      }\n    }\n  }\n  $(\"#dasigform\").submit();\n  return;\n}\n\nfunction isCanvasSupported() {\n  var elem = document.createElement(\"canvas\");\n  return !!(elem.getContext && elem.getContext(\"2d\"));\n}\n\nvar daAutocomplete = Object();\n\nfunction daWaitForGoogle(waitForPlaces) {\n  return new Promise((resolve) => {\n    let attempts = 0;\n    const maxAttempts = 50;\n    const interval = setInterval(() => {\n      var found = false;\n      try {\n        if (google.maps === undefined) {\n          throw new Error(\"google maps not defined\");\n        }\n        if (waitForPlaces) {\n          if (google.maps.places === undefined) {\n            throw new Error(\"places not defined\");\n          }\n        }\n        found = true;\n      } catch (e) {}\n      if (found || attempts >= maxAttempts) {\n        clearInterval(interval);\n        resolve(found);\n      }\n      attempts++;\n    }, 100);\n  });\n}\n\nfunction daInitAutocomplete(info) {\n  daAutocomplete = Object();\n  for (var i = 0; i < info.length; ++i) {\n    var id = info[i][0];\n    var opts = info[i][1];\n    daAutocomplete[id] = { id: info[i][0], opts: info[i][1], suggestions: {} };\n  }\n}\n\nasync function daInitAutocompleteOld(info) {\n  await daWaitForGoogle(true);\n  for (var i = 0; i < info.length; ++i) {\n    var id = info[i][0];\n    var opts = info[i][1];\n    daAutocomplete[id] = new google.maps.places.Autocomplete(\n      document.getElementById(id),\n      opts,\n    );\n    google.maps.event.addListener(\n      daAutocomplete[id],\n      \"place_changed\",\n      daFillInAddressFor(id),\n    );\n  }\n}\n\nfunction daFillInAddressFor(id) {\n  return function () {\n    daFillInAddressOld(id);\n  };\n}\n\nasync function daInitMap(daMapInfo) {\n  var googleLoaded = await daWaitForGoogle(false);\n  if (!googleLoaded) {\n    console.log(\"Could not load Google Maps library\");\n    return;\n  }\n  await google.maps.importLibrary(\"core\");\n  var timePeriod = 0;\n  maps = [];\n  var map_info_length = daMapInfo.length;\n  for (var i = 0; i < map_info_length; i++) {\n    the_map = daMapInfo[i];\n    var bounds = new google.maps.LatLngBounds();\n    maps[i] = daAddMap(i, the_map.center.latitude, the_map.center.longitude);\n    marker_length = the_map.markers.length;\n    if (marker_length == 1) {\n      show_marker = true;\n    } else {\n      show_marker = false;\n    }\n    for (var j = 0; j < marker_length; j++) {\n      var new_marker = await daAddMarker(\n        maps[i],\n        the_map.markers[j],\n        show_marker,\n      );\n      bounds.extend(\n        new google.maps.LatLng(\n          new_marker.position.lat,\n          new_marker.position.lng,\n        ),\n      );\n    }\n    if (marker_length > 1) {\n      maps[i].map.fitBounds(bounds);\n    }\n  }\n}\n\nfunction daAddMap(map_num, center_lat, center_lon) {\n  var map = new google.maps.Map(document.getElementById(\"map\" + map_num), {\n    zoom: 11,\n    center: new google.maps.LatLng(center_lat, center_lon),\n    mapTypeId: google.maps.MapTypeId.ROADMAP,\n    mapId: \"map\" + map_num + \"element\",\n  });\n  var infowindow = new google.maps.InfoWindow();\n  return { map: map, infowindow: infowindow };\n}\n\nasync function daAddMarker(map, marker_info, show_marker) {\n  const { AdvancedMarkerElement, PinElement } =\n    await google.maps.importLibrary(\"marker\");\n  var marker;\n  var content;\n  if (marker_info.icon) {\n    content = new PinElement(marker_info.icon);\n  } else {\n    content = new PinElement();\n  }\n  marker = new AdvancedMarkerElement({\n    position: {\n      lat: marker_info.latitude,\n      lng: marker_info.longitude,\n    },\n    map: map.map,\n    content: content.element,\n  });\n  if (marker_info.info) {\n    google.maps.event.addListener(\n      marker,\n      \"click\",\n      (function (marker, info) {\n        return function () {\n          map.infowindow.setContent(info);\n          map.infowindow.open(map.map, marker);\n        };\n      })(marker, marker_info.info),\n    );\n  }\n  if (show_marker) {\n    map.infowindow.setContent(marker_info.info);\n    map.infowindow.open(map.map, marker);\n  }\n  return marker;\n}\n\nfunction daFillInAddress(origId, place) {\n  var id;\n  if (daVarLookupRev[origId]) {\n    id = daVarLookupRev[origId];\n  } else {\n    id = origId;\n  }\n  var baseVarname = atob(id).replace(/.[a-zA-Z0-9_]+$/, \"\");\n  baseVarname = baseVarname.replace(/[\\[\\]]/g, \".\");\n  var re = new RegExp(\"^\" + baseVarname + \".(.*)\");\n  var componentForm = {\n    locality: \"longText\",\n    sublocality: \"longText\",\n    administrative_area_level_3: \"longText\",\n    administrative_area_level_2: \"longText\",\n    administrative_area_level_1: \"shortText\",\n    country: \"shortText\",\n    postal_code: \"shortText\",\n    postal_code_suffix: \"shortText\",\n  };\n  var componentTrans = {\n    locality: \"city\",\n    administrative_area_level_2: \"county\",\n    administrative_area_level_1: \"state\",\n  };\n  var fieldsToFill = [\n    \"address\",\n    \"city\",\n    \"county\",\n    \"state\",\n    \"zip\",\n    \"neighborhood\",\n    \"sublocality\",\n    \"administrative_area_level_1\",\n    \"administrative_area_level_2\",\n    \"administrative_area_level_3\",\n    \"postal_code\",\n    \"postal_code_suffix\",\n    \"room\",\n    \"floor\",\n    \"post_box\",\n    \"postal_town\",\n  ];\n  var idForPart = {};\n  $(\"input, select\").each(function () {\n    var the_id = $(this).attr(\"id\");\n    if (typeof the_id !== typeof undefined && the_id !== false) {\n      try {\n        var field_name = atob($(this).attr(\"id\"));\n        if (field_name.indexOf(\"_field_\") == 0) {\n          field_name = atob(daVarLookupRev[$(this).attr(\"id\")]);\n        }\n        var m = re.exec(field_name);\n        if (m.length > 0) {\n          idForPart[m[1]] = $(this).attr(\"id\");\n        }\n      } catch (e) {}\n    }\n  });\n  if (\n    typeof idForPart[\"address\"] != \"undefined\" &&\n    document.getElementById(idForPart[\"address\"]) != null\n  ) {\n    document.getElementById(idForPart[\"address\"]).value = \"\";\n  }\n\n  for (var component in fieldsToFill) {\n    if (\n      typeof idForPart[component] != \"undefined\" &&\n      document.getElementById(idForPart[component]) != null\n    ) {\n      document.getElementById(idForPart[component]).value = \"\";\n    }\n  }\n\n  var street_number;\n  var route;\n  var savedValues = {};\n  var toChange = [];\n  var zipCode = \"\";\n  var plusFour = \"\";\n  for (var i = 0; i < place.addressComponents.length; i++) {\n    var addressType = place.addressComponents[i].types[0];\n    savedValues[addressType] = place.addressComponents[i][\"longText\"];\n    if (addressType == \"street_number\") {\n      street_number = place.addressComponents[i][\"shortText\"];\n    }\n    if (addressType == \"route\") {\n      route = place.addressComponents[i][\"longText\"];\n    }\n    if (addressType == \"postal_code\") {\n      zipCode = place.addressComponents[i][\"longText\"];\n    }\n    if (addressType == \"postal_code_suffix\") {\n      plusFour = place.addressComponents[i][\"longText\"];\n    }\n    if (\n      componentForm[addressType] &&\n      idForPart[componentTrans[addressType]] &&\n      typeof idForPart[componentTrans[addressType]] != \"undefined\" &&\n      document.getElementById(idForPart[componentTrans[addressType]]) != null\n    ) {\n      var val = place.addressComponents[i][componentForm[addressType]];\n      if (typeof val != \"undefined\") {\n        document.getElementById(idForPart[componentTrans[addressType]]).value =\n          val;\n        toChange.push(\"#\" + idForPart[componentTrans[addressType]]);\n      }\n      if (componentTrans[addressType] != addressType) {\n        val = place.addressComponents[i][\"longText\"];\n        if (\n          typeof val != \"undefined\" &&\n          typeof idForPart[addressType] != \"undefined\" &&\n          document.getElementById(idForPart[addressType]) != null\n        ) {\n          document.getElementById(idForPart[addressType]).value = val;\n          toChange.push(\"#\" + idForPart[addressType]);\n        }\n      }\n    } else if (\n      idForPart[addressType] &&\n      typeof idForPart[addressType] != \"undefined\" &&\n      document.getElementById(idForPart[addressType]) != null\n    ) {\n      var val = place.addressComponents[i][\"longText\"];\n      if (typeof val != \"undefined\") {\n        document.getElementById(idForPart[addressType]).value = val;\n        toChange.push(\"#\" + idForPart[addressType]);\n      }\n    }\n  }\n  if (\n    typeof idForPart[\"address\"] != \"undefined\" &&\n    document.getElementById(idForPart[\"address\"]) != null\n  ) {\n    var the_address = \"\";\n    if (typeof street_number != \"undefined\") {\n      the_address += street_number + \" \";\n    }\n    if (typeof route != \"undefined\") {\n      the_address += route;\n    }\n    document.getElementById(idForPart[\"address\"]).value = the_address;\n    toChange.push(\"#\" + idForPart[\"address\"]);\n  }\n  if (\n    typeof idForPart[\"city\"] != \"undefined\" &&\n    document.getElementById(idForPart[\"city\"]) != null\n  ) {\n    if (\n      document.getElementById(idForPart[\"city\"]).value == \"\" &&\n      typeof savedValues[\"sublocality_level_1\"] != \"undefined\"\n    ) {\n      document.getElementById(idForPart[\"city\"]).value =\n        savedValues[\"sublocality_level_1\"];\n    }\n    if (\n      document.getElementById(idForPart[\"city\"]).value == \"\" &&\n      typeof savedValues[\"neighborhood\"] != \"undefined\"\n    ) {\n      document.getElementById(idForPart[\"city\"]).value =\n        savedValues[\"neighborhood\"];\n    }\n    if (\n      document.getElementById(idForPart[\"city\"]).value == \"\" &&\n      typeof savedValues[\"administrative_area_level_3\"] != \"undefined\"\n    ) {\n      document.getElementById(idForPart[\"city\"]).value =\n        savedValues[\"administrative_area_level_3\"];\n    }\n  }\n  if (\n    typeof idForPart[\"sublocality\"] != \"undefined\" &&\n    document.getElementById(idForPart[\"sublocality\"]) != null\n  ) {\n    if (\n      document.getElementById(idForPart[\"sublocality\"]).value == \"\" &&\n      typeof savedValues[\"sublocality_level_1\"] != \"undefined\"\n    ) {\n      document.getElementById(idForPart[\"sublocality\"]).value =\n        savedValues[\"sublocality_level_1\"];\n    }\n    if (\n      document.getElementById(idForPart[\"sublocality\"]).value == \"\" &&\n      typeof savedValues[\"sublocality_level_2\"] != \"undefined\"\n    ) {\n      document.getElementById(idForPart[\"sublocality\"]).value =\n        savedValues[\"sublocality_level_2\"];\n    }\n    if (\n      document.getElementById(idForPart[\"sublocality\"]).value == \"\" &&\n      typeof savedValues[\"sublocality_level_3\"] != \"undefined\"\n    ) {\n      document.getElementById(idForPart[\"sublocality\"]).value =\n        savedValues[\"sublocality_level_3\"];\n    }\n    if (\n      document.getElementById(idForPart[\"sublocality\"]).value == \"\" &&\n      typeof savedValues[\"sublocality_level_4\"] != \"undefined\"\n    ) {\n      document.getElementById(idForPart[\"sublocality\"]).value =\n        savedValues[\"sublocality_level_4\"];\n    }\n    if (\n      document.getElementById(idForPart[\"sublocality\"]).value == \"\" &&\n      typeof savedValues[\"sublocality_level_5\"] != \"undefined\"\n    ) {\n      document.getElementById(idForPart[\"sublocality\"]).value =\n        savedValues[\"sublocality_level_5\"];\n    }\n  }\n  if (\n    place.adr_address &&\n    typeof idForPart[\"adr_address\"] != \"undefined\" &&\n    document.getElementById(idForPart[\"adr_address\"]) != null\n  ) {\n    document.getElementById(idForPart[\"adr_address\"]).value = place.adr_address;\n  }\n  if (\n    place.business_status &&\n    typeof idForPart[\"business_status\"] != \"undefined\" &&\n    document.getElementById(idForPart[\"business_status\"]) != null\n  ) {\n    document.getElementById(idForPart[\"business_status\"]).value =\n      place.business_status;\n  }\n  if (\n    place.formatted_address &&\n    typeof idForPart[\"formatted_address\"] != \"undefined\" &&\n    document.getElementById(idForPart[\"formatted_address\"]) != null\n  ) {\n    document.getElementById(idForPart[\"formatted_address\"]).value =\n      place.formatted_address;\n  }\n  if (\n    place.formatted_phone_number &&\n    typeof idForPart[\"formatted_phone_number\"] != \"undefined\" &&\n    document.getElementById(idForPart[\"formatted_phone_number\"]) != null\n  ) {\n    document.getElementById(idForPart[\"formatted_phone_number\"]).value =\n      place.formatted_phone_number;\n  }\n  if (\n    typeof idForPart[\"zip\"] != \"undefined\" &&\n    document.getElementById(idForPart[\"zip\"]) != null &&\n    zipCode != \"\"\n  ) {\n    var theZipCode = zipCode;\n    if (plusFour) {\n      theZipCode += \"-\" + plusFour;\n    }\n    document.getElementById(idForPart[\"zip\"]).value = theZipCode;\n    toChange.push(\"#\" + idForPart[\"zip\"]);\n  }\n  if (place.geometry && place.geometry.location) {\n    if (\n      typeof idForPart[\"latitude\"] != \"undefined\" &&\n      document.getElementById(idForPart[\"latitude\"]) != null\n    ) {\n      document.getElementById(idForPart[\"latitude\"]).value =\n        place.geometry.location.lat();\n    }\n    if (\n      typeof idForPart[\"longitude\"] != \"undefined\" &&\n      document.getElementById(idForPart[\"longitude\"]) != null\n    ) {\n      document.getElementById(idForPart[\"longitude\"]).value =\n        place.geometry.location.lng();\n    }\n  }\n  if (\n    place.icon &&\n    typeof idForPart[\"icon\"] != \"undefined\" &&\n    document.getElementById(idForPart[\"icon\"]) != null\n  ) {\n    document.getElementById(idForPart[\"icon\"]).value = place.icon;\n  }\n  if (\n    place.international_phone_number &&\n    typeof idForPart[\"international_phone_number\"] != \"undefined\" &&\n    document.getElementById(idForPart[\"international_phone_number\"]) != null\n  ) {\n    document.getElementById(idForPart[\"international_phone_number\"]).value =\n      place.international_phone_number;\n  }\n  if (\n    place.name &&\n    typeof idForPart[\"name\"] != \"undefined\" &&\n    document.getElementById(idForPart[\"name\"]) != null\n  ) {\n    document.getElementById(idForPart[\"name\"]).value = place.name;\n  }\n  if (\n    place.place_id &&\n    typeof idForPart[\"place_id\"] != \"undefined\" &&\n    document.getElementById(idForPart[\"place_id\"]) != null\n  ) {\n    document.getElementById(idForPart[\"place_id\"]).value = place.place_id;\n  }\n  if (\n    place.price_level &&\n    typeof idForPart[\"price_level\"] != \"undefined\" &&\n    document.getElementById(idForPart[\"price_level\"]) != null\n  ) {\n    document.getElementById(idForPart[\"price_level\"]).value = place.price_level;\n  }\n  if (\n    place.rating &&\n    typeof idForPart[\"rating\"] != \"undefined\" &&\n    document.getElementById(idForPart[\"rating\"]) != null\n  ) {\n    document.getElementById(idForPart[\"rating\"]).value = place.rating;\n  }\n  if (\n    place.url &&\n    typeof idForPart[\"url\"] != \"undefined\" &&\n    document.getElementById(idForPart[\"url\"]) != null\n  ) {\n    document.getElementById(idForPart[\"url\"]).value = place.url;\n  }\n  if (\n    place.utc_offset_minutes &&\n    typeof idForPart[\"utc_offset_minutes\"] != \"undefined\" &&\n    document.getElementById(idForPart[\"utc_offset_minutes\"]) != null\n  ) {\n    document.getElementById(idForPart[\"utc_offset_minutes\"]).value =\n      place.utc_offset_minutes;\n  }\n  if (\n    place.vicinity &&\n    typeof idForPart[\"vicinity\"] != \"undefined\" &&\n    document.getElementById(idForPart[\"vicinity\"]) != null\n  ) {\n    document.getElementById(idForPart[\"vicinity\"]).value = place.vicinity;\n  }\n  if (\n    place.website &&\n    typeof idForPart[\"website\"] != \"undefined\" &&\n    document.getElementById(idForPart[\"website\"]) != null\n  ) {\n    document.getElementById(idForPart[\"website\"]).value = place.website;\n  }\n  for (var i = 0; i < toChange.length; i++) {\n    $(toChange[i]).trigger(\"change\");\n  }\n}\n\nfunction daFillInAddressOld(origId) {\n  var id;\n  if (daVarLookupRev[origId]) {\n    id = daVarLookupRev[origId];\n  } else {\n    id = origId;\n  }\n  var base_varname = atob(id).replace(/.[a-zA-Z0-9_]+$/, \"\");\n  base_varname = base_varname.replace(/[\\[\\]]/g, \".\");\n  var re = new RegExp(\"^\" + base_varname + \".(.*)\");\n  var componentForm = {\n    locality: \"long_name\",\n    sublocality: \"long_name\",\n    administrative_area_level_3: \"long_name\",\n    administrative_area_level_2: \"long_name\",\n    administrative_area_level_1: \"short_name\",\n    country: \"short_name\",\n    postal_code: \"short_name\",\n  };\n  var componentTrans = {\n    locality: \"city\",\n    administrative_area_level_2: \"county\",\n    administrative_area_level_1: \"state\",\n    country: \"country\",\n    postal_code: \"zip\",\n  };\n\n  var fields_to_fill = [\n    \"address\",\n    \"city\",\n    \"county\",\n    \"state\",\n    \"zip\",\n    \"neighborhood\",\n    \"sublocality\",\n    \"administrative_area_level_3\",\n    \"postal_code\",\n  ];\n  var id_for_part = {};\n  $(\"input, select\").each(function () {\n    var the_id = $(this).attr(\"id\");\n    if (typeof the_id !== typeof undefined && the_id !== false) {\n      try {\n        var field_name = atob($(this).attr(\"id\"));\n        if (field_name.indexOf(\"_field_\") == 0) {\n          field_name = atob(daVarLookupRev[$(this).attr(\"id\")]);\n        }\n        var m = re.exec(field_name);\n        if (m.length > 0) {\n          id_for_part[m[1]] = $(this).attr(\"id\");\n        }\n      } catch (e) {}\n    }\n  });\n  place = daAutocomplete[origId].getPlace();\n  if (\n    typeof id_for_part[\"address\"] != \"undefined\" &&\n    document.getElementById(id_for_part[\"address\"]) != null\n  ) {\n    document.getElementById(id_for_part[\"address\"]).value = \"\";\n  }\n\n  for (var component in fields_to_fill) {\n    if (\n      typeof id_for_part[component] != \"undefined\" &&\n      document.getElementById(id_for_part[component]) != null\n    ) {\n      document.getElementById(id_for_part[component]).value = \"\";\n    }\n  }\n\n  var street_number;\n  var route;\n  var savedValues = {};\n  var toChange = [];\n  for (var i = 0; i < place.address_components.length; i++) {\n    var addressType = place.address_components[i].types[0];\n    savedValues[addressType] = place.address_components[i][\"long_name\"];\n    if (addressType == \"street_number\") {\n      street_number = place.address_components[i][\"short_name\"];\n    }\n    if (addressType == \"route\") {\n      route = place.address_components[i][\"long_name\"];\n    }\n    if (\n      componentForm[addressType] &&\n      id_for_part[componentTrans[addressType]] &&\n      typeof id_for_part[componentTrans[addressType]] != \"undefined\" &&\n      document.getElementById(id_for_part[componentTrans[addressType]]) != null\n    ) {\n      var val = place.address_components[i][componentForm[addressType]];\n      if (typeof val != \"undefined\") {\n        document.getElementById(\n          id_for_part[componentTrans[addressType]],\n        ).value = val;\n        toChange.push(\"#\" + id_for_part[componentTrans[addressType]]);\n      }\n      if (componentTrans[addressType] != addressType) {\n        val = place.address_components[i][\"long_name\"];\n        if (\n          typeof val != \"undefined\" &&\n          typeof id_for_part[addressType] != \"undefined\" &&\n          document.getElementById(id_for_part[addressType]) != null\n        ) {\n          document.getElementById(id_for_part[addressType]).value = val;\n          toChange.push(\"#\" + id_for_part[addressType]);\n        }\n      }\n    } else if (\n      id_for_part[addressType] &&\n      typeof id_for_part[addressType] != \"undefined\" &&\n      document.getElementById(id_for_part[addressType]) != null\n    ) {\n      var val = place.address_components[i][\"long_name\"];\n      if (typeof val != \"undefined\") {\n        document.getElementById(id_for_part[addressType]).value = val;\n        toChange.push(\"#\" + id_for_part[addressType]);\n      }\n    }\n  }\n  if (\n    typeof id_for_part[\"address\"] != \"undefined\" &&\n    document.getElementById(id_for_part[\"address\"]) != null\n  ) {\n    var the_address = \"\";\n    if (typeof street_number != \"undefined\") {\n      the_address += street_number + \" \";\n    }\n    if (typeof route != \"undefined\") {\n      the_address += route;\n    }\n    document.getElementById(id_for_part[\"address\"]).value = the_address;\n    toChange.push(\"#\" + id_for_part[\"address\"]);\n  }\n  if (\n    typeof id_for_part[\"city\"] != \"undefined\" &&\n    document.getElementById(id_for_part[\"city\"]) != null\n  ) {\n    if (\n      document.getElementById(id_for_part[\"city\"]).value == \"\" &&\n      typeof savedValues[\"sublocality_level_1\"] != \"undefined\"\n    ) {\n      document.getElementById(id_for_part[\"city\"]).value =\n        savedValues[\"sublocality_level_1\"];\n    }\n    if (\n      document.getElementById(id_for_part[\"city\"]).value == \"\" &&\n      typeof savedValues[\"neighborhood\"] != \"undefined\"\n    ) {\n      document.getElementById(id_for_part[\"city\"]).value =\n        savedValues[\"neighborhood\"];\n    }\n    if (\n      document.getElementById(id_for_part[\"city\"]).value == \"\" &&\n      typeof savedValues[\"administrative_area_level_3\"] != \"undefined\"\n    ) {\n      document.getElementById(id_for_part[\"city\"]).value =\n        savedValues[\"administrative_area_level_3\"];\n    }\n  }\n  if (\n    typeof id_for_part[\"sublocality\"] != \"undefined\" &&\n    document.getElementById(id_for_part[\"sublocality\"]) != null\n  ) {\n    if (\n      document.getElementById(id_for_part[\"sublocality\"]).value == \"\" &&\n      typeof savedValues[\"sublocality_level_1\"] != \"undefined\"\n    ) {\n      document.getElementById(id_for_part[\"sublocality\"]).value =\n        savedValues[\"sublocality_level_1\"];\n    }\n    if (\n      document.getElementById(id_for_part[\"sublocality\"]).value == \"\" &&\n      typeof savedValues[\"sublocality_level_2\"] != \"undefined\"\n    ) {\n      document.getElementById(id_for_part[\"sublocality\"]).value =\n        savedValues[\"sublocality_level_2\"];\n    }\n    if (\n      document.getElementById(id_for_part[\"sublocality\"]).value == \"\" &&\n      typeof savedValues[\"sublocality_level_3\"] != \"undefined\"\n    ) {\n      document.getElementById(id_for_part[\"sublocality\"]).value =\n        savedValues[\"sublocality_level_3\"];\n    }\n    if (\n      document.getElementById(id_for_part[\"sublocality\"]).value == \"\" &&\n      typeof savedValues[\"sublocality_level_4\"] != \"undefined\"\n    ) {\n      document.getElementById(id_for_part[\"sublocality\"]).value =\n        savedValues[\"sublocality_level_4\"];\n    }\n    if (\n      document.getElementById(id_for_part[\"sublocality\"]).value == \"\" &&\n      typeof savedValues[\"sublocality_level_5\"] != \"undefined\"\n    ) {\n      document.getElementById(id_for_part[\"sublocality\"]).value =\n        savedValues[\"sublocality_level_5\"];\n    }\n  }\n  if (\n    place.adr_address &&\n    typeof id_for_part[\"adr_address\"] != \"undefined\" &&\n    document.getElementById(id_for_part[\"adr_address\"]) != null\n  ) {\n    document.getElementById(id_for_part[\"adr_address\"]).value =\n      place.adr_address;\n  }\n  if (\n    place.business_status &&\n    typeof id_for_part[\"business_status\"] != \"undefined\" &&\n    document.getElementById(id_for_part[\"business_status\"]) != null\n  ) {\n    document.getElementById(id_for_part[\"business_status\"]).value =\n      place.business_status;\n  }\n  if (\n    place.formatted_address &&\n    typeof id_for_part[\"formatted_address\"] != \"undefined\" &&\n    document.getElementById(id_for_part[\"formatted_address\"]) != null\n  ) {\n    document.getElementById(id_for_part[\"formatted_address\"]).value =\n      place.formatted_address;\n  }\n  if (\n    place.formatted_phone_number &&\n    typeof id_for_part[\"formatted_phone_number\"] != \"undefined\" &&\n    document.getElementById(id_for_part[\"formatted_phone_number\"]) != null\n  ) {\n    document.getElementById(id_for_part[\"formatted_phone_number\"]).value =\n      place.formatted_phone_number;\n  }\n  if (place.geometry && place.geometry.location) {\n    if (\n      typeof id_for_part[\"latitude\"] != \"undefined\" &&\n      document.getElementById(id_for_part[\"latitude\"]) != null\n    ) {\n      document.getElementById(id_for_part[\"latitude\"]).value =\n        place.geometry.location.lat();\n    }\n    if (\n      typeof id_for_part[\"longitude\"] != \"undefined\" &&\n      document.getElementById(id_for_part[\"longitude\"]) != null\n    ) {\n      document.getElementById(id_for_part[\"longitude\"]).value =\n        place.geometry.location.lng();\n    }\n  }\n  if (\n    place.icon &&\n    typeof id_for_part[\"icon\"] != \"undefined\" &&\n    document.getElementById(id_for_part[\"icon\"]) != null\n  ) {\n    document.getElementById(id_for_part[\"icon\"]).value = place.icon;\n  }\n  if (\n    place.international_phone_number &&\n    typeof id_for_part[\"international_phone_number\"] != \"undefined\" &&\n    document.getElementById(id_for_part[\"international_phone_number\"]) != null\n  ) {\n    document.getElementById(id_for_part[\"international_phone_number\"]).value =\n      place.international_phone_number;\n  }\n  if (\n    place.name &&\n    typeof id_for_part[\"name\"] != \"undefined\" &&\n    document.getElementById(id_for_part[\"name\"]) != null\n  ) {\n    document.getElementById(id_for_part[\"name\"]).value = place.name;\n  }\n  if (\n    place.place_id &&\n    typeof id_for_part[\"place_id\"] != \"undefined\" &&\n    document.getElementById(id_for_part[\"place_id\"]) != null\n  ) {\n    document.getElementById(id_for_part[\"place_id\"]).value = place.place_id;\n  }\n  if (\n    place.price_level &&\n    typeof id_for_part[\"price_level\"] != \"undefined\" &&\n    document.getElementById(id_for_part[\"price_level\"]) != null\n  ) {\n    document.getElementById(id_for_part[\"price_level\"]).value =\n      place.price_level;\n  }\n  if (\n    place.rating &&\n    typeof id_for_part[\"rating\"] != \"undefined\" &&\n    document.getElementById(id_for_part[\"rating\"]) != null\n  ) {\n    document.getElementById(id_for_part[\"rating\"]).value = place.rating;\n  }\n  if (\n    place.url &&\n    typeof id_for_part[\"url\"] != \"undefined\" &&\n    document.getElementById(id_for_part[\"url\"]) != null\n  ) {\n    document.getElementById(id_for_part[\"url\"]).value = place.url;\n  }\n  if (\n    place.utc_offset_minutes &&\n    typeof id_for_part[\"utc_offset_minutes\"] != \"undefined\" &&\n    document.getElementById(id_for_part[\"utc_offset_minutes\"]) != null\n  ) {\n    document.getElementById(id_for_part[\"utc_offset_minutes\"]).value =\n      place.utc_offset_minutes;\n  }\n  if (\n    place.vicinity &&\n    typeof id_for_part[\"vicinity\"] != \"undefined\" &&\n    document.getElementById(id_for_part[\"vicinity\"]) != null\n  ) {\n    document.getElementById(id_for_part[\"vicinity\"]).value = place.vicinity;\n  }\n  if (\n    place.website &&\n    typeof id_for_part[\"website\"] != \"undefined\" &&\n    document.getElementById(id_for_part[\"website\"]) != null\n  ) {\n    document.getElementById(id_for_part[\"website\"]).value = place.website;\n  }\n  for (var i = 0; i < toChange.length; i++) {\n    $(toChange[i]).trigger(\"change\");\n  }\n}\n\nfunction daGeolocate() {\n  if (navigator.geolocation) {\n    navigator.geolocation.getCurrentPosition(function (position) {\n      var geolocation = {\n        lat: position.coords.latitude,\n        lng: position.coords.longitude,\n      };\n      var circle = new google.maps.Circle({\n        center: geolocation,\n        radius: position.coords.accuracy,\n      });\n      for (var id in daAutocomplete) {\n        if (daAutocomplete.hasOwnProperty(id)) {\n          daAutocomplete[id].setBounds(circle.getBounds());\n        }\n      }\n    });\n  }\n}\nvar daRequestPending = false;\nvar isAndroid = /android/i.test(navigator.userAgent.toLowerCase());\nvar daWhichButton = null;\nvar daSocket = null;\nvar daChatHistory = [];\nvar daCheckinCode = null;\nvar daCheckingIn = 0;\nvar daShowingHelp = 0;\nvar daIframeEmbed;\nif (window.location !== window.parent.location) {\n  daIframeEmbed = true;\n} else {\n  daIframeEmbed = false;\n}\nvar daChatPartnersAvailable = 0;\nvar daPhoneAvailable = false;\nvar daInitialized = false;\nvar daNotYetScrolled = true;\nvar daInformedChanged = false;\nvar daShowingSpinner = false;\nvar daSpinnerTimeout = null;\nvar daSubmitter = null;\nvar daGAConfigured = false;\nvar daShowIfInProcess = false;\nvar daFieldsToSkip = [\n  \"_checkboxes\",\n  \"_empties\",\n  \"_ml_info\",\n  \"_back_one\",\n  \"_files\",\n  \"_files_inline\",\n  \"_question_name\",\n  \"_the_image\",\n  \"_save_as\",\n  \"_success\",\n  \"_datatypes\",\n  \"_event\",\n  \"_visible\",\n  \"_tracker\",\n  \"_track_location\",\n  \"_varnames\",\n  \"_next_action\",\n  \"_next_action_to_set\",\n  \"ajax\",\n  \"json\",\n  \"informed\",\n  \"csrf_token\",\n  \"_action\",\n  \"_order_changes\",\n  \"_collect\",\n  \"_list_collect_list\",\n  \"_null_question\",\n];\nvar daVarLookup = Object();\nvar daVarLookupRev = Object();\nvar daVarLookupMulti = Object();\nvar daVarLookupRevMulti = Object();\nvar daVarLookupSelect = Object();\nvar daVarLookupCheckbox = Object();\nvar daVarLookupOption = Object();\nvar daTargetDiv;\nvar daComboBoxes = Object();\nvar daGlobalEval = eval;\nvar daFetchAcceptIncoming = false;\nvar daFetchAjaxTimeout = null;\nvar daFetchAjaxTimeoutRunning = null;\nvar daFetchAjaxTimeoutFetchAfter = null;\nvar daAddressAcceptIncoming = false;\nvar daAddressAjaxTimeout = null;\nvar daAddressAjaxTimeoutRunning = null;\nvar daAddressAjaxTimeoutCallAfter = null;\nvar daShowHideHappened = false;\nvar daCheckinInterval = null;\nvar daReloader = null;\nvar daDisable = null;\nvar daAutoColorScheme = true;\nvar daCurrentColorScheme;\nvar daUrlChangeColorScheme;\nvar daDesiredColorScheme;\nvar daAutoColorScheme = true;\nvar daThicknessScalingFactor;\nvar daJsEmbed;\nvar daAllowGoingBack;\nvar daSteps;\nvar daIsUser;\nvar daUserId;\nvar daChatStatus;\nvar daChatAvailable;\nvar daChatMode;\nvar daSendChanges;\nvar daBeingControlled;\nvar daInformed;\nvar daUsingGA;\nvar daUsingSegment;\nvar daDoAction;\nvar daQuestionID;\nvar daCsrf;\nvar daComboboxButtonLabel;\nvar daInterviewUrl;\nvar daLocationBar;\nvar daPostURL;\nvar daYamlFilename;\nvar daNotificationContainer;\nvar daNotificationMessage;\nvar daMessageLog;\nvar daImageToPreLoad;\nvar daGetVariablesUrl;\nvar daLiveHelpMessage;\nvar daLiveHelpMessagePhone;\nvar daNewChatMessage;\nvar daLiveHelpAvailableMessage;\nvar daScreenBeingControlled;\nvar daScreenNoLongerBeingControlled;\nvar daPathRoot;\nvar daCheckinSeconds;\nvar daChatRoles;\nvar daChatPartnerRoles;\nvar daAllButtonClasses;\nvar daButtonStyle;\nvar daShouldForceFullScreen;\nvar daPageSep;\nvar daAreYouSure;\nvar daOtherUser;\nvar daOtherUsers;\nvar daOperator;\nvar daOperators;\nvar daCheckinUrl;\nvar daCheckoutUrl;\nvar daCurrencyDecimalPlaces;\nvar daShouldDebugReadabilityHelp;\nvar daShouldDebugReadabilityQuestion;\nvar daEmailAddressRequired;\nvar daNeedCompleteEmail;\nvar daDefaultPopoverTrigger;\nvar daToggleWord;\nvar daCheckinUrlWithInterview;\nvar daReloadAfterSeconds;\nvar daCustomItems;\nvar daTrackingEnabled;\n\nfunction dagoogleapicallback() {}\nfunction daForceFullScreen(data) {\n  if (data.steps > 1 && window != top) {\n    top.location.href = location.href;\n  }\n}\nObject.defineProperty(String.prototype, \"daSprintf\", {\n  value: function () {\n    var args = Array.from(arguments),\n      i = 0;\n    function defaultNumber(iValue) {\n      return iValue != undefined && !isNaN(iValue) ? iValue : \"0\";\n    }\n    function defaultString(iValue) {\n      return iValue == undefined ? \"\" : \"\" + iValue;\n    }\n    return this.replace(\n      /%%|%([+\\-])?([^1-9])?(\\d+)?(\\.\\d+)?([deEfhHioQqs])/g,\n      function (match, sign, filler, scale, precision, type) {\n        var strOut, space, value;\n        var asNumber = false;\n        if (match == \"%%\") return \"%\";\n        if (i >= args.length) return match;\n        value = args[i];\n        while (Array.isArray(value)) {\n          args.splice(i, 1);\n          for (var j = i; value.length > 0; j++)\n            args.splice(j, 0, value.shift());\n          value = args[i];\n        }\n        i++;\n        if (filler == undefined) filler = \" \"; // default\n        if (scale == undefined && !isNaN(filler)) {\n          scale = filler;\n          filler = \" \";\n        }\n        if (sign == undefined) sign = \"sqQ\".indexOf(type) >= 0 ? \"+\" : \"-\"; // default\n        if (scale == undefined) scale = 0; // default\n        if (precision == undefined) precision = \".0\"; // default\n        scale = parseInt(scale);\n        precision = parseInt(precision.substr(1));\n        switch (type) {\n          case \"d\":\n          case \"i\":\n            // decimal integer\n            asNumber = true;\n            strOut = parseInt(defaultNumber(value));\n            if (precision > 0) strOut += \".\" + \"0\".repeat(precision);\n            break;\n          case \"e\":\n          case \"E\":\n            // float in exponential notation\n            asNumber = true;\n            strOut = parseFloat(defaultNumber(value));\n            if (precision == 0) strOut = strOut.toExponential();\n            else strOut = strOut.toExponential(precision);\n            if (type == \"E\") strOut = strOut.replace(\"e\", \"E\");\n            break;\n          case \"f\":\n            // decimal float\n            asNumber = true;\n            strOut = parseFloat(defaultNumber(value));\n            if (precision != 0) strOut = strOut.toFixed(precision);\n            break;\n          case \"o\":\n          case \"h\":\n          case \"H\":\n            // Octal or Hexagesimal integer notation\n            strOut =\n              \"\\\\\" +\n              (type == \"o\" ? \"0\" : type) +\n              parseInt(defaultNumber(value)).toString(type == \"o\" ? 8 : 16);\n            break;\n          case \"q\":\n            // single quoted string\n            strOut = \"'\" + defaultString(value) + \"'\";\n            break;\n          case \"Q\":\n            // double quoted string\n            strOut = '\"' + defaultString(value) + '\"';\n            break;\n          default:\n            // string\n            strOut = defaultString(value);\n            break;\n        }\n        if (typeof strOut != \"string\") strOut = \"\" + strOut;\n        if ((space = strOut.length) < scale) {\n          if (asNumber) {\n            if (sign == \"-\") {\n              if (strOut.indexOf(\"-\") < 0)\n                strOut = filler.repeat(scale - space) + strOut;\n              else\n                strOut =\n                  \"-\" + filler.repeat(scale - space) + strOut.replace(\"-\", \"\");\n            } else {\n              if (strOut.indexOf(\"-\") < 0)\n                strOut = \"+\" + filler.repeat(scale - space - 1) + strOut;\n              else\n                strOut =\n                  \"-\" + filler.repeat(scale - space) + strOut.replace(\"-\", \"\");\n            }\n          } else {\n            if (sign == \"-\") strOut = filler.repeat(scale - space) + strOut;\n            else strOut = strOut + filler.repeat(scale - space);\n          }\n        } else if (asNumber && sign == \"+\" && strOut.indexOf(\"-\") < 0)\n          strOut = \"+\" + strOut;\n        return strOut;\n      },\n    );\n  },\n});\nObject.defineProperty(window, \"daSprintf\", {\n  value: function (str, ...rest) {\n    if (typeof str == \"string\")\n      return String.prototype.daSprintf.apply(str, rest);\n    return \"\";\n  },\n});\nfunction daGoToAnchor(target) {\n  if (daJsEmbed) {\n    scrollTarget = $(target).first().position().top - 60;\n  } else {\n    scrollTarget = $(target).first().offset().top - 60;\n  }\n  if (scrollTarget != null) {\n    if (daJsEmbed) {\n      $(daTargetDiv).animate(\n        {\n          scrollTop: scrollTarget,\n        },\n        500,\n      );\n    } else {\n      $(\"html, body\").animate(\n        {\n          scrollTop: scrollTarget,\n        },\n        500,\n      );\n    }\n  }\n}\nfunction atou(b64) {\n  return decodeURIComponent(escape(atob(b64)));\n}\nfunction utoa(data) {\n  return btoa(unescape(encodeURIComponent(data)));\n}\nfunction dabtoa(str) {\n  return window.utoa(str).replace(/[\\n=]/g, \"\");\n}\nfunction daatob(str) {\n  return atou(str);\n}\nfunction hideTablist() {\n  var anyTabs =\n    $(\"#daChatAvailable\").is(\":visible\") ||\n    $(\"daPhoneAvailable\").is(\":visible\") ||\n    $(\"#dahelptoggle\").is(\":visible\");\n  if (anyTabs) {\n    $(\"#nav-bar-tab-list\").removeClass(\"dainvisible\");\n    $(\"#daquestionlabel\").parent().removeClass(\"dainvisible\");\n  } else {\n    $(\"#nav-bar-tab-list\").addClass(\"dainvisible\");\n    $(\"#daquestionlabel\").parent().addClass(\"dainvisible\");\n  }\n}\nfunction getFields() {\n  var allFields = [];\n  for (var rawFieldName in daVarLookup) {\n    if (daVarLookup.hasOwnProperty(rawFieldName)) {\n      var fieldName = atou(rawFieldName);\n      if (allFields.indexOf(fieldName) == -1) {\n        allFields.push(fieldName);\n      }\n    }\n  }\n  return allFields;\n}\nvar daGetFields = getFields;\nfunction daAppendIfExists(fieldName, theArray) {\n  var elem = $(\"[name='\" + fieldName + \"']\");\n  if (elem.length > 0) {\n    for (var i = 0; i < theArray.length; ++i) {\n      if (theArray[i] == elem[0]) {\n        return;\n      }\n    }\n    theArray.push(elem[0]);\n  }\n}\nfunction getField(fieldName, notInDiv) {\n  if (daVarLookupCheckbox[fieldName]) {\n    var n = daVarLookupCheckbox[fieldName].length;\n    for (var i = 0; i < n; ++i) {\n      var elem = daVarLookupCheckbox[fieldName][i].checkboxes[0].elem;\n      if (!$(elem).prop(\"disabled\")) {\n        var showifParents = $(elem).parents(\".dajsshowif,.dashowif\");\n        if (\n          showifParents.length == 0 ||\n          $(showifParents[0]).data(\"isVisible\") == \"1\"\n        ) {\n          if (notInDiv && $.contains(notInDiv, elem)) {\n            continue;\n          }\n          return daVarLookupCheckbox[fieldName][i].elem;\n        }\n      }\n    }\n  }\n  if (daVarLookupSelect[fieldName]) {\n    var n = daVarLookupSelect[fieldName].length;\n    for (var i = 0; i < n; ++i) {\n      var elem = daVarLookupSelect[fieldName][i].select;\n      if (!$(elem).prop(\"disabled\")) {\n        var showifParents = $(elem).parents(\".dajsshowif,.dashowif\");\n        if (\n          showifParents.length == 0 ||\n          $(showifParents[0]).data(\"isVisible\") == \"1\"\n        ) {\n          if (notInDiv && $.contains(notInDiv, elem)) {\n            continue;\n          }\n          return elem;\n        }\n      }\n    }\n  }\n  var fieldNameEscaped = dabtoa(fieldName);\n  var possibleElements = [];\n  daAppendIfExists(fieldNameEscaped, possibleElements);\n  if (daVarLookupMulti.hasOwnProperty(fieldNameEscaped)) {\n    for (var i = 0; i < daVarLookupMulti[fieldNameEscaped].length; ++i) {\n      daAppendIfExists(daVarLookupMulti[fieldNameEscaped][i], possibleElements);\n    }\n  }\n  var returnVal = null;\n  for (var i = 0; i < possibleElements.length; ++i) {\n    if (\n      !$(possibleElements[i]).prop(\"disabled\") ||\n      $(possibleElements[i]).parents(\".file-input.is-locked\").length > 0\n    ) {\n      var showifParents = $(possibleElements[i]).parents(\n        \".dajsshowif,.dashowif\",\n      );\n      if (\n        showifParents.length == 0 ||\n        $(showifParents[0]).data(\"isVisible\") == \"1\"\n      ) {\n        if (notInDiv && $.contains(notInDiv, possibleElements[i])) {\n          continue;\n        }\n        returnVal = possibleElements[i];\n      }\n    }\n  }\n  if (\n    $(returnVal).hasClass(\"da-to-labelauty\") &&\n    $(returnVal).parents(\"div.da-field-group\").length > 0\n  ) {\n    var fieldSet = $(returnVal).parents(\"div.da-field-group\")[0];\n    if (\n      !$(fieldSet).hasClass(\"da-field-checkbox\") &&\n      !$(fieldSet).hasClass(\"da-field-checkboxes\")\n    ) {\n      return fieldSet;\n    }\n  }\n  return returnVal;\n}\nvar daGetField = getField;\nfunction setChoices(fieldName, choices) {\n  var elem = daGetField(fieldName);\n  if (elem == null) {\n    console.log(\"setChoices: reference to non-existent field \" + fieldName);\n    return;\n  }\n  var isCombobox =\n    $(elem).attr(\"type\") == \"hidden\" &&\n    $(elem).parents(\".combobox-container\").length > 0;\n  if (isCombobox) {\n    var comboInput = $(elem)\n      .parents(\".combobox-container\")\n      .first()\n      .find(\"input.combobox\")\n      .first();\n    var comboObject = daComboBoxes[$(comboInput).attr(\"id\")];\n    var oldComboVal = comboObject.$target.val();\n    elem = comboObject.$source;\n  }\n  if ($(elem).prop(\"tagName\") != \"SELECT\") {\n    console.log(\"setField: field \" + fieldName + \" is not a dropdown field\");\n    return;\n  }\n  var oldVal = $(elem).val();\n  $(elem)\n    .find(\"option[value!='']\")\n    .each(function () {\n      $(this).remove();\n    });\n  var n = choices.length;\n  for (var i = 0; i < n; i++) {\n    var opt = $(\"<option>\");\n    opt.val(choices[i][0]);\n    opt.text(choices[i][1]);\n    if (oldVal == choices[i][0]) {\n      opt.attr(\"selected\", \"selected\");\n    }\n    $(elem).append(opt);\n  }\n  if (isCombobox) {\n    comboObject.refresh();\n    comboObject.clearTarget();\n    if (oldComboVal != \"\") {\n      daSetField(fieldName, oldComboVal);\n    }\n  }\n}\nvar daSetChoices = setChoices;\nfunction setField(fieldName, theValue) {\n  var elem = daGetField(fieldName);\n  if (elem == null) {\n    console.log(\"setField: reference to non-existent field \" + fieldName);\n    return;\n  }\n  if (\n    $(elem).prop(\"tagName\") == \"DIV\" &&\n    $(elem).hasClass(\"da-field-group\") &&\n    $(elem).hasClass(\"da-field-radio\")\n  ) {\n    elem = $(elem).find(\"input\")[0];\n  }\n  if ($(elem).attr(\"type\") == \"checkbox\") {\n    if (theValue) {\n      if ($(elem).prop(\"checked\") != true) {\n        $(elem).click();\n      }\n    } else {\n      if ($(elem).prop(\"checked\") != false) {\n        $(elem).click();\n      }\n    }\n  } else if ($(elem).attr(\"type\") == \"radio\") {\n    var fieldNameEscaped = $(elem)\n      .attr(\"name\")\n      .replace(/(:|\\.|\\[|\\]|,|=)/g, \"\\\\$1\");\n    var wasSet = false;\n    if (theValue === true) {\n      theValue = \"True\";\n    }\n    if (theValue === false) {\n      theValue = \"False\";\n    }\n    $(\"input[name='\" + fieldNameEscaped + \"']\").each(function () {\n      if ($(this).val() == theValue) {\n        if ($(this).prop(\"checked\") != true) {\n          $(this).prop(\"checked\", true);\n          $(this).trigger(\"change\");\n        }\n        wasSet = true;\n        return false;\n      }\n    });\n    if (!wasSet) {\n      console.log(\n        \"setField: could not set radio button \" + fieldName + \" to \" + theValue,\n      );\n    }\n  } else if ($(elem).attr(\"type\") == \"hidden\") {\n    if ($(elem).val() != theValue) {\n      if ($(elem).parents(\".combobox-container\").length > 0) {\n        var comboInput = $(elem)\n          .parents(\".combobox-container\")\n          .first()\n          .find(\"input.combobox\")\n          .first();\n        daComboBoxes[$(comboInput).attr(\"id\")].manualSelect(theValue);\n      } else {\n        $(elem).val(theValue);\n        $(elem).trigger(\"change\");\n      }\n    }\n  } else if (\n    $(elem).prop(\"tagName\") == \"DIV\" &&\n    $(elem).hasClass(\"da-field-group\") &&\n    $(elem).hasClass(\"da-field-checkboxes\")\n  ) {\n    if (!Array.isArray(theValue)) {\n      throw new Error(\"setField: value must be an array\");\n    }\n    var n = theValue.length;\n    $(elem)\n      .find(\"input\")\n      .each(function () {\n        if ($(this).hasClass(\"danota-checkbox\")) {\n          $(this).prop(\"checked\", n == 0);\n          $(this).trigger(\"change\");\n          return;\n        }\n        if ($(this).hasClass(\"daaota-checkbox\")) {\n          $(this).prop(\"checked\", false);\n          $(this).trigger(\"change\");\n          return;\n        }\n        if ($(this).attr(\"name\").substr(0, 7) === \"_ignore\") {\n          return;\n        }\n        var theVal = atou($(this).data(\"cbvalue\"));\n        if ($(elem).hasClass(\"daobject\")) {\n          theVal = atou(theVal);\n        }\n        var oldVal = $(this).prop(\"checked\") == true;\n        var newVal = false;\n        for (var i = 0; i < n; ++i) {\n          if (theValue[i] == theVal) {\n            newVal = true;\n          }\n        }\n        if (oldVal != newVal) {\n          $(this).click();\n        }\n      });\n  } else if (\n    $(elem).prop(\"tagName\") == \"SELECT\" &&\n    $(elem).hasClass(\"damultiselect\")\n  ) {\n    if (daVarLookupSelect[fieldName]) {\n      var n = daVarLookupSelect[fieldName].length;\n      for (var i = 0; i < n; ++i) {\n        if (daVarLookupSelect[fieldName][i].select === elem) {\n          var oldValue =\n            $(daVarLookupSelect[fieldName][i].option).prop(\"selected\") == true;\n          if (oldValue != theValue) {\n            $(daVarLookupSelect[fieldName][i].option).prop(\n              \"selected\",\n              theValue,\n            );\n            $(elem).trigger(\"change\");\n          }\n        }\n      }\n    } else {\n      if (!Array.isArray(theValue)) {\n        throw new Error(\"setField: value must be an array\");\n      }\n      var n = theValue.length;\n      var changed = false;\n      $(elem)\n        .find(\"option\")\n        .each(function () {\n          var thisVal = daVarLookupOption[$(this).val()];\n          var oldVal = $(this).prop(\"selected\") == true;\n          var newVal = false;\n          for (var i = 0; i < n; ++i) {\n            if (thisVal == theValue[i]) {\n              newVal = true;\n            }\n          }\n          if (newVal !== oldVal) {\n            changed = true;\n            $(this).prop(\"selected\", newVal);\n          }\n        });\n      if (changed) {\n        $(elem).trigger(\"change\");\n      }\n    }\n  } else {\n    if ($(elem).val() != theValue) {\n      $(elem).val(theValue);\n      $(elem).trigger(\"change\");\n    }\n  }\n}\nvar daSetField = setField;\nfunction val(fieldName) {\n  var elem = daGetField(fieldName);\n  if (elem == null) {\n    return null;\n  }\n  if (\n    $(elem).prop(\"tagName\") == \"DIV\" &&\n    $(elem).hasClass(\"da-field-group\") &&\n    $(elem).hasClass(\"da-field-radio\")\n  ) {\n    elem = $(elem).find(\"input\")[0];\n  }\n  if ($(elem).attr(\"type\") == \"checkbox\") {\n    if ($(elem).prop(\"checked\")) {\n      theVal = true;\n    } else {\n      theVal = false;\n    }\n  } else if ($(elem).attr(\"type\") == \"radio\") {\n    var fieldNameEscaped = $(elem)\n      .attr(\"name\")\n      .replace(/(:|\\.|\\[|\\]|,|=)/g, \"\\\\$1\");\n    theVal = $(\"input[name='\" + fieldNameEscaped + \"']:checked\").val();\n    if (typeof theVal == \"undefined\") {\n      theVal = null;\n    } else {\n      if ($(elem).hasClass(\"daobject\")) {\n        theVal = atou(theVal);\n      } else if (theVal == \"True\") {\n        theVal = true;\n      } else if (theVal == \"False\") {\n        theVal = false;\n      }\n    }\n  } else if (\n    $(elem).prop(\"tagName\") == \"DIV\" &&\n    $(elem).hasClass(\"da-field-group\") &&\n    $(elem).hasClass(\"da-field-checkboxes\")\n  ) {\n    var cbSelected = [];\n    $(elem)\n      .find(\"input\")\n      .each(function () {\n        if ($(this).attr(\"name\").substr(0, 7) === \"_ignore\") {\n          return;\n        }\n        var theVal = atou($(this).data(\"cbvalue\"));\n        if ($(elem).hasClass(\"daobject\")) {\n          theVal = atou(theVal);\n        }\n        if ($(this).prop(\"checked\")) {\n          cbSelected.push(theVal);\n        }\n      });\n    return cbSelected;\n  } else if (\n    $(elem).prop(\"tagName\") == \"SELECT\" &&\n    $(elem).hasClass(\"damultiselect\")\n  ) {\n    if (daVarLookupSelect[fieldName]) {\n      var n = daVarLookupSelect[fieldName].length;\n      for (var i = 0; i < n; ++i) {\n        if (daVarLookupSelect[fieldName][i].select === elem) {\n          return $(daVarLookupSelect[fieldName][i].option).prop(\"selected\");\n        }\n      }\n    } else {\n      var selectedVals = [];\n      $(elem)\n        .find(\"option\")\n        .each(function () {\n          if ($(this).prop(\"selected\")) {\n            if (daVarLookupOption[$(this).val()]) {\n              selectedVals.push(daVarLookupOption[$(this).val()]);\n            }\n          }\n        });\n      return selectedVals;\n    }\n  } else if (\n    $(elem).prop(\"tagName\") == \"SELECT\" &&\n    $(elem).hasClass(\"daobject\")\n  ) {\n    theVal = atou($(elem).val());\n  } else {\n    theVal = $(elem).val();\n  }\n  return theVal;\n}\nvar da_val = val;\nfunction daFormAsJSON(elem) {\n  var isInitial = false;\n  var formData = $(\"#daform\").serializeArray();\n  var data = Object();\n  if (elem == \"initial\") {\n    elem = null;\n    data[\"_initial\"] = true;\n  } else {\n    data[\"_initial\"] = false;\n  }\n  if (elem !== null && $(elem).hasClass(\"combobox\")) {\n    elem = $(elem).parent().find('input[type=\"hidden\"]');\n  }\n  data[\"_changed\"] = null;\n  var n = formData.length;\n  for (var i = 0; i < n; ++i) {\n    var key = formData[i][\"name\"];\n    var val = formData[i][\"value\"];\n    if ($.inArray(key, daFieldsToSkip) != -1 || key.indexOf(\"_ignore\") == 0) {\n      continue;\n    }\n    var isChangedElem = false;\n    if (elem !== null && key == $(elem).attr(\"name\")) {\n      isChangedElem = true;\n    }\n    if (typeof daVarLookupRev[key] != \"undefined\") {\n      data[atou(daVarLookupRev[key])] = val;\n      if (isChangedElem) {\n        data[\"_changed\"] = atou(daVarLookupRev[key]);\n      }\n    } else {\n      data[atou(key)] = val;\n      if (isChangedElem) {\n        data[\"_changed\"] = atou(key);\n      }\n    }\n  }\n  return JSON.stringify(data);\n}\nfunction daPreloadImage(url) {\n  var img = new Image();\n  img.src = url;\n}\nfunction daShowHelpTab() {\n  $(\"#dahelptoggle\").tab(\"show\");\n}\nfunction addCsrfHeader(xhr, settings) {\n  if (daJsEmbed && !/^(GET|HEAD|OPTIONS|TRACE)$/i.test(settings.type)) {\n    xhr.setRequestHeader(\"X-CSRFToken\", daCsrf);\n  }\n}\nfunction flash(message, priority, clear) {\n  if (priority == null) {\n    priority = \"info\";\n  }\n  if (!$(\"#daflash\").length) {\n    $(daTargetDiv).append(daSprintf(daNotificationContainer, \"\"));\n  }\n  if (clear) {\n    $(\"#daflash\").empty();\n  }\n  if (message != null) {\n    var newElement = $(daSprintf(daNotificationMessage, priority, message));\n    $(\"#daflash\").append(newElement);\n    if (priority == \"success\") {\n      setTimeout(function () {\n        newElement.hide(300, function () {\n          $(this).remove();\n        });\n      }, 3000);\n    }\n  }\n}\nvar da_flash = flash;\nfunction url_action(action, args) {\n  if (args == null) {\n    args = {};\n  }\n  data = { action: action, arguments: args };\n  var url;\n  if (daJsEmbed) {\n    url =\n      daPostURL + \"&action=\" + encodeURIComponent(utoa(JSON_stringify(data)));\n  } else {\n    if (daLocationBar.indexOf(\"?\") !== -1) {\n      url =\n        daLocationBar +\n        \"&action=\" +\n        encodeURIComponent(utoa(JSON_stringify(data)));\n    } else {\n      url =\n        daLocationBar +\n        \"?action=\" +\n        encodeURIComponent(utoa(JSON_stringify(data)));\n    }\n  }\n  return url;\n}\nvar da_url_action = url_action;\nfunction action_call(action, args, callback, forgetPrior = false) {\n  if (args == null) {\n    args = {};\n  }\n  if (forgetPrior) {\n    args = { _action: action, _arguments: args };\n    action = \"_da_priority_action\";\n  }\n  if (callback == null) {\n    callback = function () {};\n  }\n  var data = { action: action, arguments: args };\n  var url;\n  if (daJsEmbed) {\n    url =\n      daPostURL + \"&action=\" + encodeURIComponent(utoa(JSON_stringify(data)));\n  } else {\n    url =\n      daInterviewUrl +\n      \"&action=\" +\n      encodeURIComponent(utoa(JSON_stringify(data)));\n  }\n  return $.ajax({\n    type: \"GET\",\n    url: url,\n    success: callback,\n    beforeSend: addCsrfHeader,\n    xhrFields: {\n      withCredentials: true,\n    },\n    error: function (xhr, status, error) {\n      setTimeout(function () {\n        daProcessAjaxError(xhr, status, error);\n      }, 0);\n    },\n  });\n}\nvar da_action_call = action_call;\nvar url_action_call = action_call;\nfunction action_perform(action, args, forgetPrior = false) {\n  if (args == null) {\n    args = {};\n  }\n  if (forgetPrior) {\n    args = { _action: action, _arguments: args };\n    action = \"_da_priority_action\";\n  }\n  var data = { action: action, arguments: args };\n  daSpinnerTimeout = setTimeout(daShowSpinner, 1000);\n  daRequestPending = true;\n  return $.ajax({\n    type: \"POST\",\n    url: daInterviewUrl,\n    beforeSend: addCsrfHeader,\n    xhrFields: {\n      withCredentials: true,\n    },\n    data: $.param({\n      _action: utoa(JSON_stringify(data)),\n      csrf_token: daCsrf,\n      ajax: 1,\n    }),\n    success: function (data) {\n      setTimeout(function () {\n        daProcessAjax(data, $(\"#daform\"), 1);\n      }, 0);\n    },\n    error: function (xhr, status, error) {\n      setTimeout(function () {\n        daProcessAjaxError(xhr, status, error);\n      }, 0);\n    },\n    dataType: \"json\",\n  });\n}\nvar da_action_perform = action_perform;\nvar url_action_perform = action_perform;\nfunction action_perform_with_next(\n  action,\n  args,\n  next_data,\n  forgetPrior = false,\n) {\n  //console.log(\"action_perform_with_next: \" + action + \" | \" + next_data)\n  if (args == null) {\n    args = {};\n  }\n  if (forgetPrior) {\n    args = { _action: action, _arguments: args };\n    action = \"_da_priority_action\";\n  }\n  var data = { action: action, arguments: args };\n  daSpinnerTimeout = setTimeout(daShowSpinner, 1000);\n  daRequestPending = true;\n  return $.ajax({\n    type: \"POST\",\n    url: daInterviewUrl,\n    beforeSend: addCsrfHeader,\n    xhrFields: {\n      withCredentials: true,\n    },\n    data: $.param({\n      _action: utoa(JSON_stringify(data)),\n      _next_action_to_set: utoa(JSON_stringify(next_data)),\n      csrf_token: daCsrf,\n      ajax: 1,\n    }),\n    success: function (data) {\n      setTimeout(function () {\n        daProcessAjax(data, $(\"#daform\"), 1);\n      }, 0);\n    },\n    error: function (xhr, status, error) {\n      setTimeout(function () {\n        daProcessAjaxError(xhr, status, error);\n      }, 0);\n    },\n    dataType: \"json\",\n  });\n}\nvar da_action_perform_with_next = action_perform_with_next;\nvar url_action_perform_with_next = action_perform_with_next;\nfunction get_interview_variables(callback) {\n  if (callback == null) {\n    callback = function () {};\n  }\n  return $.ajax({\n    type: \"GET\",\n    url: daGetVariablesUrl,\n    success: callback,\n    beforeSend: addCsrfHeader,\n    xhrFields: {\n      withCredentials: true,\n    },\n    error: function (xhr, status, error) {\n      setTimeout(function () {\n        daProcessAjaxError(xhr, status, error);\n      }, 0);\n    },\n  });\n}\nvar da_get_interview_variables = get_interview_variables;\nfunction daInformAbout(subject, chatMessage) {\n  if (subject in daInformed || (subject != \"chatmessage\" && !daIsUser)) {\n    return;\n  }\n  if (daShowingHelp && subject != \"chatmessage\") {\n    daInformed[subject] = 1;\n    daInformedChanged = true;\n    return;\n  }\n  if (daShowingHelp && subject == \"chatmessage\") {\n    return;\n  }\n  var target;\n  var message;\n  var waitPeriod = 3000;\n  if (subject == \"chat\") {\n    target = \"#daChatAvailable a\";\n    message = daLiveHelpMessage;\n  } else if (subject == \"chatmessage\") {\n    target = \"#daChatAvailable a\";\n    message = chatMessage;\n  } else if (subject == \"phone\") {\n    target = \"#daPhoneAvailable a\";\n    message = daLiveHelpMessagePhone;\n  } else {\n    return;\n  }\n  if (subject != \"chatmessage\") {\n    daInformed[subject] = 1;\n    daInformedChanged = true;\n  }\n  if (subject == \"chatmessage\") {\n    $(target).popover({\n      content: message,\n      placement: \"bottom\",\n      trigger: \"manual\",\n      container: \"body\",\n      title: daNewChatMessage,\n    });\n  } else {\n    $(target).popover({\n      content: message,\n      placement: \"bottom\",\n      trigger: \"manual\",\n      container: \"body\",\n      title: daLiveHelpAvailableMessage,\n    });\n  }\n  $(target).popover(\"show\");\n  setTimeout(function () {\n    $(target).popover(\"dispose\");\n    $(target).removeAttr(\"title\");\n  }, waitPeriod);\n}\n// function daCloseSocket(){\n//   if (typeof daSocket !== 'undefined' && daSocket.connected){\n//     //daSocket.emit('terminate');\n//     //io.unwatch();\n//   }\n// }\nfunction daPublishMessage(data) {\n  var newDiv = document.createElement(\"li\");\n  $(newDiv).addClass(\"list-group-item\");\n  if (data.is_self) {\n    $(newDiv).addClass(\"list-group-item-primary dalistright\");\n  } else {\n    $(newDiv).addClass(\"list-group-item-secondary dalistleft\");\n  }\n  //var newSpan = document.createElement('span');\n  //$(newSpan).html(data.message);\n  //$(newSpan).appendTo($(newDiv));\n  //var newName = document.createElement('span');\n  //$(newName).html(userNameString(data));\n  //$(newName).appendTo($(newDiv));\n  $(newDiv).html(data.message);\n  $(\"#daCorrespondence\").append(newDiv);\n}\nfunction daScrollChat() {\n  var chatScroller = $(\"#daCorrespondence\");\n  if (chatScroller.length) {\n    var height = chatScroller[0].scrollHeight;\n    //console.log(\"Slow scrolling to \" + height);\n    if (height == 0) {\n      daNotYetScrolled = true;\n      return;\n    }\n    chatScroller.animate({ scrollTop: height }, 800);\n  } else {\n    console.log(\"daScrollChat: error\");\n  }\n}\nfunction daScrollChatFast() {\n  var chatScroller = $(\"#daCorrespondence\");\n  if (chatScroller.length) {\n    var height = chatScroller[0].scrollHeight;\n    if (height == 0) {\n      daNotYetScrolled = true;\n      return;\n    }\n    //console.log(\"Scrolling to \" + height + \" where there are \" + chatScroller[0].childElementCount + \" children\");\n    chatScroller.scrollTop(height);\n  } else {\n    console.log(\"daScrollChatFast: error\");\n  }\n}\nfunction daSender() {\n  //console.log(\"daSender\");\n  if ($(\"#daMessage\").val().length) {\n    daSocket.emit(\"chatmessage\", {\n      data: $(\"#daMessage\").val(),\n      i: daYamlFilename,\n    });\n    $(\"#daMessage\").val(\"\");\n    $(\"#daMessage\").focus();\n  }\n  return false;\n}\nfunction daShowControl(mode) {\n  //console.log(\"You are now being controlled\");\n  if ($(\"body\").hasClass(\"dacontrolled\")) {\n    return;\n  }\n  $('input[type=\"submit\"], button[type=\"submit\"]').prop(\"disabled\", true);\n  $(\"body\").addClass(\"dacontrolled\");\n  var newDiv = document.createElement(\"div\");\n  $(newDiv).addClass(\n    \"datop-alert col-xs-10 col-sm-7 col-md-6 col-lg-5 dacol-centered\",\n  );\n  $(newDiv).html(daScreenBeingControlled);\n  $(newDiv).attr(\"id\", \"dacontrolAlert\");\n  $(newDiv).css(\"display\", \"none\");\n  $(newDiv).appendTo($(daTargetDiv));\n  if (mode == \"animated\") {\n    $(newDiv).slideDown();\n  } else {\n    $(newDiv).show();\n  }\n}\nfunction daHideControl() {\n  //console.log(\"You are no longer being controlled\");\n  if (!$(\"body\").hasClass(\"dacontrolled\")) {\n    return;\n  }\n  $('input[type=\"submit\"], button[type=\"submit\"]').prop(\"disabled\", false);\n  $(\"body\").removeClass(\"dacontrolled\");\n  $(\"#dacontrolAlert\").html(daScreenNoLongerBeingControlled);\n  setTimeout(function () {\n    $(\"#dacontrolAlert\").slideUp(300, function () {\n      $(\"#dacontrolAlert\").remove();\n    });\n  }, 2000);\n}\nfunction daInitializeSocket() {\n  if (daSocket != null) {\n    if (daSocket.connected) {\n      //console.log(\"Calling connectagain\");\n      if (daChatStatus == \"ready\") {\n        daSocket.emit(\"connectagain\", { i: daYamlFilename });\n      }\n      if (daBeingControlled) {\n        daShowControl(\"animated\");\n        daSocket.emit(\"start_being_controlled\", { i: daYamlFilename });\n      }\n    } else {\n      //console.log('daInitializeSocket: daSocket.connect()');\n      daSocket.connect();\n    }\n    return;\n  }\n  if (location.protocol === \"http:\" || document.location.protocol === \"http:\") {\n    daSocket = io.connect(\"http://\" + document.domain + \"/wsinterview\", {\n      path: daPathRoot + \"ws/socket.io\",\n      query: \"i=\" + daYamlFilename,\n    });\n  }\n  if (\n    location.protocol === \"https:\" ||\n    document.location.protocol === \"https:\"\n  ) {\n    daSocket = io.connect(\"https://\" + document.domain + \"/wsinterview\", {\n      path: daPathRoot + \"ws/socket.io\",\n      query: \"i=\" + daYamlFilename,\n    });\n  }\n  //console.log(\"daInitializeSocket: socket is \" + daSocket);\n  if (daSocket != null) {\n    daSocket.on(\"connect\", function () {\n      if (daSocket == null) {\n        console.log(\"Error: socket is null\");\n        return;\n      }\n      //console.log(\"Connected socket with sid \" + daSocket.id);\n      if (daChatStatus == \"ready\") {\n        daChatStatus = \"on\";\n        daDisplayChat();\n        daPushChanges();\n        //daTurnOnChat();\n        //console.log(\"Emitting chat_log from on connect\");\n        daSocket.emit(\"chat_log\", { i: daYamlFilename });\n      }\n      if (daBeingControlled) {\n        daShowControl(\"animated\");\n        daSocket.emit(\"start_being_controlled\", { i: daYamlFilename });\n      }\n    });\n    daSocket.on(\"chat_log\", function (arg) {\n      //console.log(\"Got chat_log\");\n      $(\"#daCorrespondence\").html(\"\");\n      daChatHistory = [];\n      var messages = arg.data;\n      for (var i = 0; i < messages.length; ++i) {\n        daChatHistory.push(messages[i]);\n        daPublishMessage(messages[i]);\n      }\n      daScrollChatFast();\n    });\n    daSocket.on(\"chatready\", function (data) {\n      //var key = 'da:session:uid:' + data.uid + ':i:' + data.i + ':userid:' + data.userid\n      //console.log('chatready');\n    });\n    daSocket.on(\"terminate\", function () {\n      //console.log(\"interview: terminating socket\");\n      daSocket.disconnect();\n    });\n    daSocket.on(\"controllerstart\", function () {\n      daBeingControlled = true;\n      daShowControl(\"animated\");\n    });\n    daSocket.on(\"controllerexit\", function () {\n      daBeingControlled = false;\n      //console.log(\"Hiding control 2\");\n      daHideControl();\n      if (daChatStatus != \"on\") {\n        if (daSocket != null && daSocket.connected) {\n          //console.log('Terminating interview socket because control over');\n          daSocket.emit(\"terminate\");\n        }\n      }\n    });\n    daSocket.on(\"disconnect\", function () {\n      //console.log(\"Manual disconnect\");\n      //daSocket.emit('manual_disconnect', {i: daYamlFilename});\n      //console.log(\"Disconnected socket\");\n      //daSocket = null;\n    });\n    daSocket.on(\"reconnected\", function () {\n      //console.log(\"Reconnected\");\n      daChatStatus = \"on\";\n      daDisplayChat();\n      daPushChanges();\n      daTurnOnChat();\n      //console.log(\"Emitting chat_log from reconnected\");\n      daSocket.emit(\"chat_log\", { i: daYamlFilename });\n    });\n    daSocket.on(\"mymessage\", function (arg) {\n      //console.log(\"Received \" + arg.data);\n      $(\"#daPushResult\").html(arg.data);\n    });\n    daSocket.on(\"departure\", function (arg) {\n      //console.log(\"Departure \" + arg.numpartners);\n      if (arg.numpartners == 0) {\n        daCloseChat();\n      }\n    });\n    daSocket.on(\"chatmessage\", function (arg) {\n      //console.log(\"Received chat message \" + arg.data);\n      daChatHistory.push(arg.data);\n      daPublishMessage(arg.data);\n      daScrollChat();\n      daInformAbout(\"chatmessage\", arg.data.message);\n    });\n    daSocket.on(\"newpage\", function (incoming) {\n      //console.log(\"newpage received\");\n      var data = incoming.obj;\n      daProcessAjax(data, $(\"#daform\"), 1);\n    });\n    daSocket.on(\"controllerchanges\", function (data) {\n      //console.log(\"controllerchanges: \" + data.parameters);\n      var valArray = Object();\n      var values = JSON.parse(data.parameters);\n      for (var i = 0; i < values.length; i++) {\n        valArray[values[i].name] = values[i].value;\n      }\n      //console.log(\"valArray is \" + JSON.stringify(valArray));\n      $(\"#daform\").each(function () {\n        $(this)\n          .find(\":input\")\n          .each(function () {\n            var type = $(this).attr(\"type\");\n            var id = $(this).attr(\"id\");\n            var name = $(this).attr(\"name\");\n            if (type == \"checkbox\") {\n              if (name in valArray) {\n                if (valArray[name] == \"True\") {\n                  if ($(this).prop(\"checked\") != true) {\n                    $(this).prop(\"checked\", true);\n                    $(this).trigger(\"change\");\n                  }\n                } else {\n                  if ($(this).prop(\"checked\") != false) {\n                    $(this).prop(\"checked\", false);\n                    $(this).trigger(\"change\");\n                  }\n                }\n              } else {\n                if ($(this).prop(\"checked\") != false) {\n                  $(this).prop(\"checked\", false);\n                  $(this).trigger(\"change\");\n                }\n              }\n            } else if (type == \"radio\") {\n              if (name in valArray) {\n                if (valArray[name] == $(this).val()) {\n                  if ($(this).prop(\"checked\") != true) {\n                    $(this).prop(\"checked\", true);\n                    $(this).trigger(\"change\");\n                  }\n                } else {\n                  if ($(this).prop(\"checked\") != false) {\n                    $(this).prop(\"checked\", false);\n                    $(this).trigger(\"change\");\n                  }\n                }\n              }\n            } else if ($(this).data().hasOwnProperty(\"sliderMax\")) {\n              $(this).slider(\"setValue\", parseInt(valArray[name]));\n            } else {\n              if (name in valArray) {\n                $(this).val(valArray[name]);\n              }\n            }\n          });\n      });\n      if (data.clicked) {\n        //console.log(\"Need to click \" + data.clicked);\n        $(data.clicked).prop(\"disabled\", false);\n        $(data.clicked).addClass(\"da-click-selected\");\n        if (\n          $(data.clicked).prop(\"tagName\") == \"A\" &&\n          typeof $(data.clicked).attr(\"href\") != \"undefined\" &&\n          ($(data.clicked).attr(\"href\").indexOf(\"javascript\") == 0 ||\n            $(data.clicked).attr(\"href\").indexOf(\"#\") == 0)\n        ) {\n          setTimeout(function () {\n            $(data.clicked).removeClass(\"da-click-selected\");\n          }, 2200);\n        }\n        setTimeout(function () {\n          //console.log(\"Clicking it now\");\n          $(data.clicked).click();\n          //console.log(\"Clicked it.\");\n        }, 200);\n      }\n    });\n  }\n}\nfunction daUnfakeHtmlResponse(text) {\n  text = text.substr(text.indexOf(\"ABCDABOUNDARYSTARTABC\") + 21);\n  text = text.substr(0, text.indexOf(\"ABCDABOUNDARYENDABC\")).replace(/\\s/g, \"\");\n  text = atou(text);\n  return text;\n}\nfunction daInjectTrim(handler) {\n  return function (element, event) {\n    if (\n      element.tagName === \"TEXTAREA\" ||\n      (element.tagName === \"INPUT\" &&\n        element.type !== \"password\" &&\n        element.type !== \"date\" &&\n        element.type !== \"datetime\" &&\n        element.type !== \"file\")\n    ) {\n      setTimeout(function () {\n        element.value = $.trim(element.value);\n      }, 10);\n    }\n    return handler.call(this, element, event);\n  };\n}\nfunction daInvalidHandler(form, validator) {\n  var errors = validator.numberOfInvalids();\n  var scrollTarget = null;\n  if (\n    errors &&\n    $(validator.errorList[0].element).parents(\".da-form-group\").length > 0\n  ) {\n    if (daJsEmbed) {\n      scrollTarget =\n        $(validator.errorList[0].element)\n          .parents(\".da-form-group\")\n          .first()\n          .position().top - 60;\n    } else {\n      scrollTarget =\n        $(validator.errorList[0].element)\n          .parents(\".da-form-group\")\n          .first()\n          .offset().top - 60;\n    }\n  }\n  if (scrollTarget != null) {\n    if (daJsEmbed) {\n      $(daTargetDiv).animate(\n        {\n          scrollTop: scrollTarget,\n        },\n        1000,\n      );\n    } else {\n      $(\"html, body\").animate(\n        {\n          scrollTop: scrollTarget,\n        },\n        1000,\n      );\n    }\n  }\n}\nvar daValidator;\nvar daValidationRules = {};\nfunction daValidationHandler(form) {\n  if (daObserverMode) {\n    return;\n  }\n  //form.submit();\n  //console.log(\"daValidationHandler\");\n  var visibleElements = [];\n  var seen = Object();\n  $(form)\n    .find(\"input, select, textarea\")\n    .filter(\":not(:disabled)\")\n    .each(function () {\n      //console.log(\"Considering an element\");\n      if (\n        $(this).attr(\"name\") &&\n        $(this).attr(\"type\") != \"hidden\" &&\n        (($(this).hasClass(\"da-active-invisible\") &&\n          $(this).parent().is(\":visible\")) ||\n          $(this).is(\":visible\"))\n      ) {\n        var theName = $(this).attr(\"name\");\n        //console.log(\"Including an element \" + theName);\n        if (!seen.hasOwnProperty(theName)) {\n          visibleElements.push(theName);\n          seen[theName] = 1;\n        }\n      }\n    });\n  $(form)\n    .find(\"input[name='_visible']\")\n    .val(utoa(JSON_stringify(visibleElements)));\n  $(form).each(function () {\n    $(this).find(\":input\").off(\"change\", daOnChange);\n  });\n  $(\"meta[name=viewport]\").attr(\n    \"content\",\n    \"width=device-width, minimum-scale=1.0, maximum-scale=1.0, initial-scale=1.0\",\n  );\n  if (daCheckinInterval != null) {\n    clearInterval(daCheckinInterval);\n  }\n  daDisable = setTimeout(function () {\n    $(form).find('input[type=\"submit\"]').prop(\"disabled\", true);\n    $(form).find('button[type=\"submit\"]').prop(\"disabled\", true);\n  }, 1);\n  if (daWhichButton != null) {\n    $(\".da-field-buttons .btn-da\").each(function () {\n      if (this != daWhichButton) {\n        $(this).removeClass(daAllButtonClasses);\n        $(this).addClass(daButtonStyle + \"light\");\n      }\n    });\n    if ($(daWhichButton).hasClass(daButtonStyle + \"success\")) {\n      $(daWhichButton).removeClass(daButtonStyle + \"success\");\n      $(daWhichButton).addClass(daButtonStyle + \"primary\");\n    } else {\n      $(daWhichButton).removeClass(\n        daButtonStyle +\n          \"primary \" +\n          daButtonStyle +\n          \"info \" +\n          daButtonStyle +\n          \"warning \" +\n          daButtonStyle +\n          \"danger \" +\n          daButtonStyle +\n          \"success \" +\n          daButtonStyle +\n          \"light\",\n      );\n      $(daWhichButton).addClass(daButtonStyle + \"secondary\");\n    }\n  }\n  var tableOrder = {};\n  var tableOrderChanges = {};\n  $(\"a.datableup\").each(function () {\n    var tableName = $(this).data(\"tablename\");\n    if (!tableOrder.hasOwnProperty(tableName)) {\n      tableOrder[tableName] = [];\n    }\n    tableOrder[tableName].push(parseInt($(this).data(\"tableitem\")));\n  });\n  var tableChanged = false;\n  for (var tableName in tableOrder) {\n    if (tableOrder.hasOwnProperty(tableName)) {\n      var n = tableOrder[tableName].length;\n      for (var i = 0; i < n; ++i) {\n        if (i != tableOrder[tableName][i]) {\n          tableChanged = true;\n          if (!tableOrderChanges.hasOwnProperty(tableName)) {\n            tableOrderChanges[tableName] = [];\n          }\n          tableOrderChanges[tableName].push([tableOrder[tableName][i], i]);\n        }\n      }\n    }\n  }\n  if (tableChanged) {\n    $(\"<input>\")\n      .attr({\n        type: \"hidden\",\n        name: \"_order_changes\",\n        value: JSON.stringify(tableOrderChanges),\n      })\n      .appendTo($(form));\n  }\n  var collectToDelete = [];\n  $(\".dacollectunremove:visible\").each(function () {\n    collectToDelete.push(\n      parseInt($(this).parent().parent().data(\"collectnum\")),\n    );\n  });\n  var lastOk = parseInt(\n    $(\".dacollectremove:visible, .dacollectremoveexisting:visible\")\n      .last()\n      .parent()\n      .parent()\n      .data(\"collectnum\"),\n  );\n  $(\".dacollectremove, .dacollectremoveexisting\").each(function () {\n    if (parseInt($(this).parent().parent().data(\"collectnum\")) > lastOk) {\n      collectToDelete.push(\n        parseInt($(this).parent().parent().data(\"collectnum\")),\n      );\n    }\n  });\n  if (collectToDelete.length > 0) {\n    $(\"<input>\")\n      .attr({\n        type: \"hidden\",\n        name: \"_collect_delete\",\n        value: JSON.stringify(collectToDelete),\n      })\n      .appendTo($(form));\n  }\n  $(\"select.damultiselect:not(:disabled)\").each(function () {\n    var showifParents = $(this).parents(\".dajsshowif,.dashowif\");\n    if (\n      showifParents.length == 0 ||\n      $(showifParents[0]).data(\"isVisible\") == \"1\"\n    ) {\n      $(this)\n        .find(\"option\")\n        .each(function () {\n          $(\"<input>\")\n            .attr({\n              type: \"hidden\",\n              name: $(this).val(),\n              value: $(this).prop(\"selected\") ? \"True\" : \"False\",\n            })\n            .appendTo($(form));\n        });\n    }\n    $(this).prop(\"disabled\", true);\n  });\n  daWhichButton = null;\n  if (\n    daSubmitter != null &&\n    daSubmitter.name &&\n    $('input[name=\"' + daSubmitter.name + '\"]').length == 0\n  ) {\n    $(\"<input>\")\n      .attr({\n        type: \"hidden\",\n        name: daSubmitter.name,\n        value: daSubmitter.value,\n      })\n      .appendTo($(form));\n  }\n  if (daInformedChanged) {\n    $(\"<input>\")\n      .attr({\n        type: \"hidden\",\n        name: \"informed\",\n        value: Object.keys(daInformed).join(\",\"),\n      })\n      .appendTo($(form));\n  }\n  $(\"<input>\")\n    .attr({\n      type: \"hidden\",\n      name: \"ajax\",\n      value: \"1\",\n    })\n    .appendTo($(form));\n  daSpinnerTimeout = setTimeout(daShowSpinner, 1000);\n  var do_iframe_upload = false;\n  inline_succeeded = false;\n  if ($('input[name=\"_files\"]').length) {\n    var filesToRead = 0;\n    var filesRead = 0;\n    var newFileList = Array();\n    var nullFileList = Array();\n    var fileArray = { keys: Array(), values: Object() };\n    var file_list = JSON.parse(atou($('input[name=\"_files\"]').val()));\n    var inline_file_list = Array();\n    var namesWithImages = Object();\n    for (var i = 0; i < file_list.length; i++) {\n      var the_file_input = $(\n        \"#\" + file_list[i].replace(/(:|\\.|\\[|\\]|,|=|\\/|\\\")/g, \"\\\\$1\"),\n      )[0];\n      var the_max_size = $(the_file_input).data(\"maximagesize\");\n      var the_image_type = $(the_file_input).data(\"imagetype\");\n      var hasImages = false;\n      if (\n        typeof the_max_size != \"undefined\" ||\n        typeof the_image_type != \"undefined\"\n      ) {\n        for (var j = 0; j < the_file_input.files.length; j++) {\n          var the_file = the_file_input.files[j];\n          if (the_file.type.match(/image.*/)) {\n            hasImages = true;\n          }\n        }\n      }\n      if (hasImages || (daJsEmbed && the_file_input.files.length > 0)) {\n        for (var j = 0; j < the_file_input.files.length; j++) {\n          var the_file = the_file_input.files[j];\n          filesToRead++;\n        }\n        inline_file_list.push(file_list[i]);\n      } else if (the_file_input.files.length > 0) {\n        newFileList.push(file_list[i]);\n      } else {\n        nullFileList.push(file_list[i]);\n      }\n      namesWithImages[file_list[i]] = hasImages;\n    }\n    if (inline_file_list.length > 0) {\n      var originalFileList = atou($('input[name=\"_files\"]').val());\n      if (newFileList.length == 0 && nullFileList.length == 0) {\n        $('input[name=\"_files\"]').remove();\n      } else {\n        $('input[name=\"_files\"]').val(\n          utoa(JSON_stringify(newFileList.concat(nullFileList))),\n        );\n      }\n      for (var i = 0; i < inline_file_list.length; i++) {\n        fileArray.keys.push(inline_file_list[i]);\n        fileArray.values[inline_file_list[i]] = Array();\n        var fileInfoList = fileArray.values[inline_file_list[i]];\n        var file_input = $(\n          \"#\" + inline_file_list[i].replace(/(:|\\.|\\[|\\]|,|=|\\/|\\\")/g, \"\\\\$1\"),\n        )[0];\n        var max_size;\n        var image_type;\n        var image_mime_type;\n        var this_has_images = false;\n        if (namesWithImages[inline_file_list[i]]) {\n          this_has_images = true;\n          max_size = parseInt($(file_input).data(\"maximagesize\"));\n          image_type = $(file_input).data(\"imagetype\");\n          image_mime_type = null;\n          if (image_type) {\n            if (image_type == \"png\") {\n              image_mime_type = \"image/png\";\n            } else if (image_type == \"bmp\") {\n              image_mime_type = \"image/bmp\";\n            } else {\n              image_mime_type = \"image/jpeg\";\n              image_type = \"jpg\";\n            }\n          }\n        }\n        for (var j = 0; j < file_input.files.length; j++) {\n          var a_file = file_input.files[j];\n          var tempFunc = function (the_file, max_size, has_images) {\n            var reader = new FileReader();\n            var thisFileInfo = {\n              name: the_file.name,\n              size: the_file.size,\n              type: the_file.type,\n            };\n            fileInfoList.push(thisFileInfo);\n            reader.onload = function (readerEvent) {\n              if (\n                has_images &&\n                the_file.type.match(/image.*/) &&\n                !(the_file.type.indexOf(\"image/svg\") == 0)\n              ) {\n                var convertedName = the_file.name;\n                var convertedType = the_file.type;\n                if (image_type) {\n                  var pos = the_file.name.lastIndexOf(\".\");\n                  convertedName =\n                    the_file.name.substr(\n                      0,\n                      pos < 0 ? the_file.name.length : pos,\n                    ) +\n                    \".\" +\n                    image_type;\n                  convertedType = image_mime_type;\n                  thisFileInfo.name = convertedName;\n                  thisFileInfo.type = convertedType;\n                }\n                var image = new Image();\n                image.onload = function (imageEvent) {\n                  var canvas = document.createElement(\"canvas\"),\n                    width = image.width,\n                    height = image.height;\n                  if (width > height) {\n                    if (width > max_size) {\n                      height *= max_size / width;\n                      width = max_size;\n                    }\n                  } else {\n                    if (height > max_size) {\n                      width *= max_size / height;\n                      height = max_size;\n                    }\n                  }\n                  canvas.width = width;\n                  canvas.height = height;\n                  canvas.getContext(\"2d\").drawImage(image, 0, 0, width, height);\n                  thisFileInfo[\"content\"] = canvas.toDataURL(convertedType);\n                  filesRead++;\n                  if (filesRead >= filesToRead) {\n                    daResumeUploadSubmission(\n                      form,\n                      fileArray,\n                      inline_file_list,\n                      newFileList,\n                    );\n                  }\n                };\n                image.src = reader.result;\n              } else {\n                thisFileInfo[\"content\"] = reader.result;\n                filesRead++;\n                if (filesRead >= filesToRead) {\n                  daResumeUploadSubmission(\n                    form,\n                    fileArray,\n                    inline_file_list,\n                    newFileList,\n                  );\n                }\n              }\n            };\n            reader.readAsDataURL(the_file);\n          };\n          tempFunc(a_file, max_size, this_has_images);\n          inline_succeeded = true;\n        }\n      }\n    }\n    if (newFileList.length == 0) {\n      //$('input[name=\"_files\"]').remove();\n    } else {\n      do_iframe_upload = true;\n    }\n  }\n  if (inline_succeeded) {\n    return false;\n  }\n  if (do_iframe_upload) {\n    $(\"#dauploadiframe\").remove();\n    var iframe = $(\n      '<iframe name=\"dauploadiframe\" id=\"dauploadiframe\" style=\"display: none\"></iframe>',\n    );\n    $(daTargetDiv).append(iframe);\n    $(form).attr(\"target\", \"dauploadiframe\");\n    iframe.bind(\"load\", function () {\n      setTimeout(function () {\n        try {\n          daProcessAjax(\n            $.parseJSON(\n              daUnfakeHtmlResponse($(\"#dauploadiframe\").contents().text()),\n            ),\n            form,\n            1,\n          );\n        } catch (e) {\n          try {\n            daProcessAjax(\n              $.parseJSON($(\"#dauploadiframe\").contents().text()),\n              form,\n              1,\n            );\n          } catch (f) {\n            daShowErrorScreen(\n              document.getElementById(\"dauploadiframe\").contentWindow.document\n                .body.innerHTML,\n              f,\n            );\n          }\n        }\n      }, 0);\n    });\n    form.submit();\n  } else {\n    daRequestPending = true;\n    $.ajax({\n      type: \"POST\",\n      url: daInterviewUrl,\n      data: $(form).serialize(),\n      beforeSend: addCsrfHeader,\n      xhrFields: {\n        withCredentials: true,\n      },\n      success: function (data) {\n        setTimeout(function () {\n          daProcessAjax(data, form, 1);\n        }, 0);\n      },\n      error: function (xhr, status, error) {\n        setTimeout(function () {\n          daProcessAjaxError(xhr, status, error);\n        }, 0);\n      },\n    });\n  }\n  return false;\n}\nfunction daSetupValidation(rules, messages) {\n  daValidationRules = rules;\n  daValidationRules.submitHandler = daValidationHandler;\n  daValidationRules.invalidHandler = daInvalidHandler;\n  daValidationRules.onfocusout = daInjectTrim($.validator.defaults.onfocusout);\n  if ($(\"#daform\").length > 0) {\n    daValidator = $(\"#daform\").validate(daValidationRules);\n    if (Object.keys(messages).length > 0) {\n      daValidator.showErrors(messages);\n    }\n  }\n}\nfunction daRecordLocation() {\n  if (document.getElementById(\"da_track_location\") == null) {\n    return;\n  }\n  if (navigator.geolocation) {\n    document.getElementById(\"da_track_location\").value = JSON.stringify({\n      error: \"getCurrentPosition was still running\",\n    });\n    navigator.geolocation.getCurrentPosition(daSetPosition, daShowError, {\n      timeout: 1000,\n      maximumAge: 3600000,\n    });\n  } else {\n    document.getElementById(\"da_track_location\").value = JSON.stringify({\n      error: \"navigator.geolocation not available in browser\",\n    });\n  }\n}\nfunction daSignatureSubmit(event) {\n  $(this).find(\"input[name='ajax']\").val(1);\n  daRequestPending = true;\n  $.ajax({\n    type: \"POST\",\n    url: daInterviewUrl,\n    data: $(this).serialize(),\n    beforeSend: addCsrfHeader,\n    xhrFields: {\n      withCredentials: true,\n    },\n    success: function (data) {\n      setTimeout(function () {\n        daProcessAjax(data, $(this), 1);\n      }, 0);\n    },\n    error: function (xhr, status, error) {\n      setTimeout(function () {\n        daProcessAjaxError(xhr, status, error);\n      }, 0);\n    },\n  });\n  event.preventDefault();\n  event.stopPropagation();\n  return false;\n}\nfunction JSON_stringify(s) {\n  var json = JSON.stringify(s);\n  return json.replace(/[\\u007f-\\uffff]/g, function (c) {\n    return \"\\\\u\" + (\"0000\" + c.charCodeAt(0).toString(16)).slice(-4);\n  });\n}\nfunction daResumeUploadSubmission(\n  form,\n  fileArray,\n  inline_file_list,\n  newFileList,\n) {\n  $(\"<input>\")\n    .attr({\n      type: \"hidden\",\n      name: \"_files_inline\",\n      value: utoa(JSON_stringify(fileArray)),\n    })\n    .appendTo($(form));\n  for (var i = 0; i < inline_file_list.length; ++i) {\n    document.getElementById(inline_file_list[i]).disabled = true;\n  }\n  if (newFileList.length > 0) {\n    $(\"#dauploadiframe\").remove();\n    var iframe = $(\n      '<iframe name=\"dauploadiframe\" id=\"dauploadiframe\" style=\"display: none\"></iframe>',\n    );\n    $(daTargetDiv).append(iframe);\n    $(form).attr(\"target\", \"dauploadiframe\");\n    iframe.bind(\"load\", function () {\n      setTimeout(function () {\n        daProcessAjax(\n          $.parseJSON($(\"#dauploadiframe\").contents().text()),\n          form,\n          1,\n        );\n      }, 0);\n    });\n    form.submit();\n  } else {\n    daRequestPending = true;\n    $.ajax({\n      type: \"POST\",\n      url: daInterviewUrl,\n      data: $(form).serialize(),\n      beforeSend: addCsrfHeader,\n      xhrFields: {\n        withCredentials: true,\n      },\n      success: function (data) {\n        setTimeout(function () {\n          daProcessAjax(data, form, 1);\n        }, 0);\n      },\n      error: function (xhr, status, error) {\n        setTimeout(function () {\n          daProcessAjaxError(xhr, status, error);\n        }, 0);\n      },\n    });\n  }\n}\nfunction daOnChange() {\n  if (daObserverMode) {\n    return;\n  }\n  if (daCheckinSeconds == 0 || daShowIfInProcess) {\n    return true;\n  }\n  if (daCheckinInterval != null) {\n    clearInterval(daCheckinInterval);\n  }\n  var oThis = this;\n  daCheckin(oThis);\n  daCheckinInterval = setInterval(daCheckin, daCheckinSeconds);\n  return true;\n}\nfunction daPushChanges() {\n  //console.log(\"daPushChanges\");\n  if (daObserverMode) {\n    if (daObserverChangesInterval != null) {\n      clearInterval(daObserverChangesInterval);\n    }\n    if (!daSendChanges || !daConnected) {\n      return;\n    }\n    daObserverChangesInterval = setInterval(daPushChanges, daCheckinSeconds);\n    daSocket.emit(\"observerChanges\", {\n      uid: daUid,\n      i: daYamlFilename,\n      userid: daUserObserved,\n      parameters: JSON.stringify($(\"#daform\").serializeArray()),\n    });\n    return;\n  }\n  if (daCheckinSeconds == 0 || daShowIfInProcess) {\n    return true;\n  }\n  if (daCheckinInterval != null) {\n    clearInterval(daCheckinInterval);\n  }\n  daCheckin(null);\n  daCheckinInterval = setInterval(daCheckin, daCheckinSeconds);\n  return true;\n}\nfunction daProcessAjaxError(xhr, status, error) {\n  daRequestPending = false;\n  if (\n    xhr.responseType == undefined ||\n    xhr.responseType == \"\" ||\n    xhr.responseType == \"text\"\n  ) {\n    var theHtml = xhr.responseText;\n    if (theHtml == undefined) {\n      $(daTargetDiv).html(\"error\");\n    } else {\n      var newDiv = document.createElement(\"div\");\n      $(newDiv).html(theHtml);\n      var daDivs = $(newDiv).children(\"div\");\n      if (daDivs.length > 0) {\n        $(daTargetDiv).empty();\n        for (var i = 0; i < daDivs.length; i++) {\n          $(daTargetDiv).append(daDivs[i]);\n        }\n        var otherScripts = $(newDiv).children(\"script\");\n        if (otherScripts.length > 0) {\n          for (var i = 0; i < otherScripts.length; i++) {\n            var theHtml = $(otherScripts[i]).html();\n            if (theHtml.startsWith(\"Object.assign\")) {\n              eval(theHtml);\n            }\n          }\n        }\n        if (daErrorScript) {\n          var errorScriptDiv = document.createElement(\"div\");\n          $(errorScriptDiv).html(daErrorScript);\n          var daScripts = $(errorScriptDiv).find(\"script\");\n          if (daScripts.length > 0) {\n            for (var i = 0; i < daScripts.length; i++) {\n              var theHtml = $(daScripts[i]).html();\n              if (theHtml) {\n                eval(theHtml);\n              } else {\n                var scriptElement = document.createElement(\"script\");\n                scriptElement.src = $(daScripts[i]).attr(\"src\");\n                document.body.appendChild(scriptElement);\n              }\n            }\n          }\n          delete errorScriptDiv;\n        }\n        $(\"#da-retry\").on(\"click\", function (e) {\n          location.reload();\n          e.preventDefault();\n          return false;\n        });\n        daShowNotifications();\n        $(document).trigger(\"daPageError\");\n      } else {\n        $(daTargetDiv).html(theHtml);\n      }\n      delete newDiv;\n    }\n    if (daJsEmbed) {\n      $(daTargetDiv)[0].scrollTo(0, 1);\n    } else {\n      window.scrollTo(0, 1);\n    }\n  } else {\n    console.log(\"daProcessAjaxError: response was not text\");\n  }\n}\nfunction daAddScriptToHead(src) {\n  var head = document.getElementsByTagName(\"head\")[0];\n  var script = document.createElement(\"script\");\n  script.src = src;\n  script.async = true;\n  script.defer = true;\n  head.appendChild(script);\n}\n$(document).on(\"keydown\", function (e) {\n  if (e.which == 13) {\n    if (daShowingHelp == 0) {\n      var tag = $(document.activeElement).prop(\"tagName\");\n      if (\n        tag != \"INPUT\" &&\n        tag != \"TEXTAREA\" &&\n        tag != \"A\" &&\n        tag != \"LABEL\" &&\n        tag != \"BUTTON\"\n      ) {\n        e.preventDefault();\n        e.stopPropagation();\n        if (\n          $(\"#daform .da-field-buttons button\").not(\".danonsubmit\").length == 1\n        ) {\n          $(\"#daform .da-field-buttons button\").not(\".danonsubmit\").click();\n        }\n        return false;\n      }\n    }\n    if ($(document.activeElement).hasClass(\"btn-file\")) {\n      e.preventDefault();\n      e.stopPropagation();\n      $(document.activeElement).find(\"input\").click();\n      return false;\n    }\n  }\n});\nfunction daShowErrorScreen(data, error) {\n  console.log(\"daShowErrorScreen: \" + error);\n  if (\"activeElement\" in document) {\n    document.activeElement.blur();\n  }\n  $(daTargetDiv).html(data);\n}\nfunction daEvalExtraScript(info) {\n  switch (info.type) {\n    case \"custom\":\n      daGlobalEval(info.script);\n      break;\n    case \"listeners\":\n      daAddListenersFor(info.element);\n      break;\n    case \"enable_tracking\":\n      daTrackingEnabled = true;\n      break;\n    case \"autocomplete\":\n      daInitAutocomplete(info.info);\n      break;\n    case \"autocomplete_old\":\n      daInitAutocompleteOld(info.info);\n      break;\n    case \"map\":\n      daInitMap(info.maps);\n      break;\n    case \"validation\":\n      daSetupValidation(info.rules, info.messages);\n      break;\n    case \"slider\":\n      $(\"#\" + info.id).slider({ tooltip: \"always\", enabled: info.enabled });\n      break;\n    case \"signature\":\n      daInitializeSignature(info.color);\n      break;\n  }\n}\nfunction daProcessAjax(data, form, doScroll, actionURL) {\n  daRequestPending = false;\n  daInformedChanged = false;\n  if (daDisable != null) {\n    clearTimeout(daDisable);\n  }\n  daCsrf = data.csrf_token;\n  if (data.question_data) {\n    daQuestionData = data.question_data;\n  }\n  if (data.action == \"body\") {\n    if (daShouldForceFullScreen) {\n      daForceFullScreen(data);\n    }\n    if (\"activeElement\" in document) {\n      document.activeElement.blur();\n    }\n    $(daTargetDiv).html(\"\");\n    if (daJsEmbed) {\n      $(daTargetDiv)[0].scrollTo(0, 1);\n    } else {\n      window.scrollTo(0, 1);\n    }\n    $(daTargetDiv).html(data.body);\n    $(daTargetDiv).parent().removeClass();\n    $(daTargetDiv).parent().addClass(data.bodyclass);\n    $(\"meta[name=viewport]\").attr(\n      \"content\",\n      \"width=device-width, initial-scale=1\",\n    );\n    daDoAction = data.do_action;\n    //daNextAction = data.next_action;\n    daChatAvailable = data.livehelp.availability;\n    daChatMode = data.livehelp.mode;\n    daChatRoles = data.livehelp.roles;\n    daChatPartnerRoles = data.livehelp.partner_roles;\n    daSteps = data.steps;\n    //console.log(\"daProcessAjax: pushing \" + daSteps);\n    if (!daJsEmbed && !daIframeEmbed) {\n      if (history.state != null && daSteps > history.state.steps) {\n        history.pushState(\n          { steps: daSteps },\n          data.browser_title + \" - page \" + daSteps,\n          daLocationBar + daPageSep + daSteps,\n        );\n      } else {\n        history.replaceState(\n          { steps: daSteps },\n          \"\",\n          daLocationBar + daPageSep + daSteps,\n        );\n      }\n    }\n    daAllowGoingBack = data.allow_going_back;\n    daQuestionID = data.id_dict;\n    daMessageLog = data.message_log;\n    daInitialize(doScroll);\n    //var tempDiv = document.createElement(\"div\");\n    //tempDiv.innerHTML = data.extra_scripts;\n    //var scripts = tempDiv.getElementsByTagName(\"script\");\n    //for (var i = 0; i < scripts.length; i++) {\n    for (var i = 0; i < data.extra_scripts.length; i++) {\n      //console.log(\"Found one script\");\n      //if (script[i].src != \"\") {\n      //console.log(\"Added script to head\");\n      //daAddScriptToHead(scripts[i].src);\n      //} else {\n      //daGlobalEval(scripts[i].innerHTML);\n      //}\n      daEvalExtraScript(data.extra_scripts[i]);\n    }\n    $(\".da-group-has-error\").each(function () {\n      if ($(this).is(\":visible\")) {\n        if (daJsEmbed) {\n          var scrollToTarget = $(this).position().top - 60;\n          setTimeout(function () {\n            $(daTargetDiv).animate({ scrollTop: scrollToTarget }, 1000);\n          }, 100);\n        } else {\n          var scrollToTarget = $(this).offset().top - 60;\n          setTimeout(function () {\n            $(daTargetDiv)\n              .parent()\n              .parent()\n              .animate({ scrollTop: scrollToTarget }, 1000);\n          }, 100);\n        }\n        return false;\n      }\n    });\n    for (var i = 0; i < data.extra_css.length; i++) {\n      $(\"head\").append(data.extra_css[i]);\n    }\n    document.title = data.browser_title;\n    if ($(\"html\").attr(\"lang\") != data.lang) {\n      $(\"html\").attr(\"lang\", data.lang);\n    }\n    if (daTrackingEnabled) {\n      daRecordLocation();\n    }\n    $(document).trigger(\"daPageLoad\");\n    if (daReloader != null) {\n      clearTimeout(daReloader);\n    }\n    if (data.reload_after != null && data.reload_after > 0) {\n      //daReloader = setTimeout(function(){location.reload();}, data.reload_after);\n      daReloader = setTimeout(function () {\n        daRefreshSubmit();\n      }, data.reload_after);\n    }\n    daUpdateHeight();\n  } else if (data.action == \"redirect\") {\n    if (daSpinnerTimeout != null) {\n      clearTimeout(daSpinnerTimeout);\n      daSpinnerTimeout = null;\n    }\n    if (daShowingSpinner) {\n      daHideSpinner();\n    }\n    window.location = data.url;\n  } else if (data.action == \"refresh\") {\n    daRefreshSubmit();\n  } else if (data.action == \"reload\") {\n    location.reload(true);\n  } else if (data.action == \"resubmit\") {\n    if (form == null) {\n      window.location = actionURL;\n    }\n    $(\"input[name='ajax']\").remove();\n    if (\n      daSubmitter != null &&\n      daSubmitter.name &&\n      $('input[name=\"' + daSubmitter.name + '\"]').length == 0\n    ) {\n      var input = $(\"<input>\")\n        .attr(\"type\", \"hidden\")\n        .attr(\"name\", daSubmitter.name)\n        .val(daSubmitter.value);\n      $(form).append($(input));\n    }\n    form.submit();\n  }\n}\nfunction daEmbeddedJs(e) {\n  //console.log(\"using embedded js\");\n  var data = decodeURIComponent($(this).data(\"js\"));\n  daGlobalEval(data);\n  e.preventDefault();\n  return false;\n}\nfunction daEmbeddedAction(e) {\n  if (daRequestPending) {\n    e.preventDefault();\n    $(this).blur();\n    return false;\n  }\n  if ($(this).hasClass(\"daremovebutton\")) {\n    if (confirm(daAreYouSure)) {\n      return true;\n    }\n    e.preventDefault();\n    $(this).blur();\n    return false;\n  }\n  var actionData = decodeURIComponent($(this).data(\"embaction\"));\n  var theURL = $(this).attr(\"href\");\n  daRequestPending = true;\n  $.ajax({\n    type: \"POST\",\n    url: daInterviewUrl,\n    data: $.param({ _action: actionData, csrf_token: daCsrf, ajax: 1 }),\n    beforeSend: addCsrfHeader,\n    xhrFields: {\n      withCredentials: true,\n    },\n    success: function (data) {\n      setTimeout(function () {\n        daProcessAjax(data, null, 1, theURL);\n      }, 0);\n    },\n    error: function (xhr, status, error) {\n      setTimeout(function () {\n        daProcessAjaxError(xhr, status, error);\n      }, 0);\n    },\n    dataType: \"json\",\n  });\n  daSpinnerTimeout = setTimeout(daShowSpinner, 1000);\n  e.preventDefault();\n  return false;\n}\nfunction daReviewAction(e) {\n  if (daRequestPending) {\n    e.preventDefault();\n    $(this).blur();\n    return false;\n  }\n  //action_perform_with_next($(this).data('action'), null, daNextAction);\n  var info = $.parseJSON(atou($(this).data(\"action\")));\n  da_action_perform(info[\"action\"], info[\"arguments\"]);\n  e.preventDefault();\n  return false;\n}\nfunction daRingChat() {\n  daChatStatus = \"ringing\";\n  daPushChanges();\n}\nfunction daTurnOnChat() {\n  //console.log(\"Publishing from daTurnOnChat\");\n  $(\"#daChatOnButton\").addClass(\"dainvisible\");\n  $(\"#daChatBox\").removeClass(\"dainvisible\");\n  $(\"#daCorrespondence\").html(\"\");\n  for (var i = 0; i < daChatHistory.length; i++) {\n    daPublishMessage(daChatHistory[i]);\n  }\n  daScrollChatFast();\n  $(\"#daMessage\").prop(\"disabled\", false);\n  if (daShowingHelp) {\n    $(\"#daMessage\").focus();\n  }\n}\nfunction daCloseChat() {\n  //console.log('daCloseChat');\n  daChatStatus = \"hangup\";\n  daPushChanges();\n  if (daSocket != null && daSocket.connected) {\n    daSocket.disconnect();\n  }\n}\n// function daTurnOffChat(){\n//   $(\"#daChatOnButton\").removeClass(\"dainvisible\");\n//   $(\"#daChatBox\").addClass(\"dainvisible\");\n//   //daCloseSocket();\n//   $(\"#daMessage\").prop('disabled', true);\n//   $(\"#daSend\").unbind();\n//   //daStartCheckingIn();\n// }\nfunction daDisplayChat() {\n  if (daChatStatus == \"off\" || daChatStatus == \"observeonly\") {\n    $(\"#daChatBox\").addClass(\"dainvisible\");\n    $(\"#daChatAvailable\").addClass(\"dainvisible\");\n    $(\"#daChatOnButton\").addClass(\"dainvisible\");\n  } else {\n    if (daChatStatus == \"waiting\") {\n      if (daChatPartnersAvailable > 0) {\n        $(\"#daChatBox\").removeClass(\"dainvisible\");\n      }\n    } else {\n      $(\"#daChatBox\").removeClass(\"dainvisible\");\n    }\n  }\n  if (daChatStatus == \"waiting\") {\n    //console.log(\"I see waiting\")\n    if (daChatHistory.length > 0) {\n      $(\"#daChatAvailable a i\").removeClass(\"da-chat-active\");\n      $(\"#daChatAvailable a i\").addClass(\"da-chat-inactive\");\n      $(\"#daChatAvailable\").removeClass(\"dainvisible\");\n    } else {\n      $(\"#daChatAvailable a i\").removeClass(\"da-chat-active\");\n      $(\"#daChatAvailable a i\").removeClass(\"da-chat-inactive\");\n      $(\"#daChatAvailable\").addClass(\"dainvisible\");\n    }\n    $(\"#daChatOnButton\").addClass(\"dainvisible\");\n    $(\"#daChatOffButton\").addClass(\"dainvisible\");\n    $(\"#daMessage\").prop(\"disabled\", true);\n    $(\"#daSend\").prop(\"disabled\", true);\n  }\n  if (daChatStatus == \"standby\" || daChatStatus == \"ready\") {\n    //console.log(\"I see standby\")\n    $(\"#daChatAvailable\").removeClass(\"dainvisible\");\n    $(\"#daChatAvailable a i\").removeClass(\"da-chat-inactive\");\n    $(\"#daChatAvailable a i\").addClass(\"da-chat-active\");\n    $(\"#daChatOnButton\").removeClass(\"dainvisible\");\n    $(\"#daChatOffButton\").addClass(\"dainvisible\");\n    $(\"#daMessage\").prop(\"disabled\", true);\n    $(\"#daSend\").prop(\"disabled\", true);\n    daInformAbout(\"chat\");\n  }\n  if (daChatStatus == \"on\") {\n    $(\"#daChatAvailable\").removeClass(\"dainvisible\");\n    $(\"#daChatAvailable a i\").removeClass(\"da-chat-inactive\");\n    $(\"#daChatAvailable a i\").addClass(\"da-chat-active\");\n    $(\"#daChatOnButton\").addClass(\"dainvisible\");\n    $(\"#daChatOffButton\").removeClass(\"dainvisible\");\n    $(\"#daMessage\").prop(\"disabled\", false);\n    if (daShowingHelp) {\n      $(\"#daMessage\").focus();\n    }\n    $(\"#daSend\").prop(\"disabled\", false);\n    daInformAbout(\"chat\");\n  }\n  hideTablist();\n}\nfunction daChatLogCallback(data) {\n  if (data.action && data.action == \"reload\") {\n    location.reload(true);\n  }\n  //console.log(\"daChatLogCallback: success is \" + data.success);\n  if (data.success) {\n    $(\"#daCorrespondence\").html(\"\");\n    daChatHistory = [];\n    var messages = data.messages;\n    for (var i = 0; i < messages.length; ++i) {\n      daChatHistory.push(messages[i]);\n      daPublishMessage(messages[i]);\n    }\n    daDisplayChat();\n    daScrollChatFast();\n  }\n}\nfunction daRefreshSubmit() {\n  daRequestPending = true;\n  $.ajax({\n    type: \"POST\",\n    url: daInterviewUrl,\n    data: \"csrf_token=\" + daCsrf + \"&ajax=1\",\n    beforeSend: addCsrfHeader,\n    xhrFields: {\n      withCredentials: true,\n    },\n    success: function (data) {\n      setTimeout(function () {\n        daProcessAjax(data, $(\"#daform\"), 0);\n      }, 0);\n    },\n    error: function (xhr, status, error) {\n      setTimeout(function () {\n        daProcessAjaxError(xhr, status, error);\n      }, 0);\n    },\n  });\n}\nfunction daResetCheckinCode() {\n  daCheckinCode = Math.random();\n}\nfunction daCheckinCallback(data) {\n  if (data.action && data.action == \"reload\") {\n    location.reload(true);\n  }\n  daCheckingIn = 0;\n  //console.log(\"daCheckinCallback: success is \" + data.success);\n  if (data.checkin_code != daCheckinCode) {\n    console.log(\"Ignoring checkincallback because code is wrong\");\n    return;\n  }\n  if (data.success) {\n    if (data.commands.length > 0) {\n      for (var i = 0; i < data.commands.length; ++i) {\n        var command = data.commands[i];\n        if (command.extra == \"flash\") {\n          if (!$(\"#daflash\").length) {\n            $(daTargetDiv).append(daSprintf(daNotificationContainer, \"\"));\n          }\n          $(\"#daflash\").append(\n            daSprintf(daNotificationMessage, \"info\", command.value),\n          );\n          //console.log(\"command is \" + command.value);\n        } else if (command.extra == \"refresh\") {\n          daRefreshSubmit();\n        } else if (command.extra == \"javascript\") {\n          //console.log(\"I should eval\" + command.value);\n          daGlobalEval(command.value);\n        } else if (command.extra == \"fields\") {\n          for (var key in command.value) {\n            if (command.value.hasOwnProperty(key)) {\n              if (\n                typeof command.value[key] === \"object\" &&\n                command.value[key] !== null\n              ) {\n                if (command.value[key].hasOwnProperty(\"choices\")) {\n                  daSetChoices(key, command.value[key][\"choices\"]);\n                }\n                if (command.value[key].hasOwnProperty(\"value\")) {\n                  daSetField(key, command.value[key][\"value\"]);\n                }\n              } else {\n                daSetField(key, command.value[key]);\n              }\n            }\n          }\n        } else if (command.extra == \"backgroundresponse\") {\n          var assignments = Array();\n          if (\n            command.value.hasOwnProperty(\"target\") &&\n            command.value.hasOwnProperty(\"content\")\n          ) {\n            assignments.push({\n              target: command.value.target,\n              content: command.value.content,\n            });\n          }\n          if (Array.isArray(command.value)) {\n            for (i = 0; i < command.value.length; ++i) {\n              var possible_assignment = command.value[i];\n              if (\n                possible_assignment.hasOwnProperty(\"target\") &&\n                possible_assignment.hasOwnProperty(\"content\")\n              ) {\n                assignments.push({\n                  target: possible_assignment.target,\n                  content: possible_assignment.content,\n                });\n              }\n            }\n          }\n          for (i = 0; i < assignments.length; ++i) {\n            var assignment = assignments[i];\n            $(\".datarget\" + assignment.target.replace(/[^A-Za-z0-9\\_]/g)).prop(\n              \"innerHTML\",\n              assignment.content,\n            );\n          }\n          //console.log(\"Triggering daCheckIn\");\n          $(document).trigger(\"daCheckIn\", [command.action, command.value]);\n        }\n      }\n      // setTimeout(function(){\n      //   $(\"#daflash .daalert-interlocutory\").hide(300, function(){\n      //     $(self).remove();\n      //   });\n      // }, 5000);\n    }\n    oldDaChatStatus = daChatStatus;\n    //console.log(\"daCheckinCallback: from \" + daChatStatus + \" to \" + data.chat_status);\n    if (data.phone == null) {\n      $(\"#daPhoneMessage\").addClass(\"dainvisible\");\n      $(\"#daPhoneMessage p\").html(\"\");\n      $(\"#daPhoneAvailable\").addClass(\"dainvisible\");\n      daPhoneAvailable = false;\n    } else {\n      $(\"#daPhoneMessage\").removeClass(\"dainvisible\");\n      $(\"#daPhoneMessage p\").html(data.phone);\n      $(\"#daPhoneAvailable\").removeClass(\"dainvisible\");\n      daPhoneAvailable = true;\n      daInformAbout(\"phone\");\n    }\n    var statusChanged;\n    if (daChatStatus == data.chat_status) {\n      statusChanged = false;\n    } else {\n      statusChanged = true;\n    }\n    if (statusChanged) {\n      daChatStatus = data.chat_status;\n      daDisplayChat();\n      if (daChatStatus == \"ready\") {\n        // console.log(\"calling initialize socket because ready\");\n        daInitializeSocket();\n      }\n    }\n    daChatPartnersAvailable = 0;\n    if (daChatMode == \"peer\" || daChatMode == \"peerhelp\") {\n      daChatPartnersAvailable += data.num_peers;\n      if (data.num_peers == 1) {\n        $(\"#dapeerMessage\").html(\n          '<span class=\"badge bg-info\">' +\n            data.num_peers +\n            \" \" +\n            daOtherUser +\n            \"</span>\",\n        );\n      } else {\n        $(\"#dapeerMessage\").html(\n          '<span class=\"badge bg-info\">' +\n            data.num_peers +\n            \" \" +\n            daOtherUsers +\n            \"</span>\",\n        );\n      }\n      $(\"#dapeerMessage\").removeClass(\"dainvisible\");\n    } else {\n      $(\"#dapeerMessage\").addClass(\"dainvisible\");\n    }\n    if (daChatMode == \"peerhelp\" || daChatMode == \"help\") {\n      if (data.help_available == 1) {\n        $(\"#dapeerHelpMessage\").html(\n          '<span class=\"badge bg-primary\">' +\n            data.help_available +\n            \" \" +\n            daOperator +\n            \"</span>\",\n        );\n      } else {\n        $(\"#dapeerHelpMessage\").html(\n          '<span class=\"badge bg-primary\">' +\n            data.help_available +\n            \" \" +\n            daOperators +\n            \"</span>\",\n        );\n      }\n      $(\"#dapeerHelpMessage\").removeClass(\"dainvisible\");\n    } else {\n      $(\"#dapeerHelpMessage\").addClass(\"dainvisible\");\n    }\n    if (daBeingControlled) {\n      if (!data.observerControl) {\n        daBeingControlled = false;\n        //console.log(\"Hiding control 1\");\n        daHideControl();\n        if (daChatStatus != \"on\") {\n          if (daSocket != null && daSocket.connected) {\n            //console.log('Terminating interview socket because control is over');\n            daSocket.emit(\"terminate\");\n          }\n        }\n      }\n    } else {\n      if (data.observerControl) {\n        daBeingControlled = true;\n        daInitializeSocket();\n      }\n    }\n  }\n  hideTablist();\n}\nfunction daCheckoutCallback(data) {}\nfunction daInitialCheckin() {\n  daCheckin(\"initial\");\n}\nfunction daCheckin(elem) {\n  //console.log(\"daCheckin\");\n  var elem = typeof elem === \"undefined\" ? null : elem;\n  daCheckingIn += 1;\n  //if (daCheckingIn > 1 && !(daCheckingIn % 3)){\n  if (elem === null && daCheckingIn > 1) {\n    //console.log(\"daCheckin: request already pending, not re-sending\");\n    return;\n  }\n  var datastring;\n  if (daChatStatus != \"off\" && $(\"#daform\").length > 0 && !daBeingControlled) {\n    if (daDoAction != null) {\n      datastring = $.param({\n        action: \"checkin\",\n        chatstatus: daChatStatus,\n        chatmode: daChatMode,\n        csrf_token: daCsrf,\n        checkinCode: daCheckinCode,\n        parameters: daFormAsJSON(elem),\n        raw_parameters: JSON.stringify($(\"#daform\").serializeArray()),\n        do_action: daDoAction,\n        ajax: \"1\",\n      });\n    } else {\n      datastring = $.param({\n        action: \"checkin\",\n        chatstatus: daChatStatus,\n        chatmode: daChatMode,\n        csrf_token: daCsrf,\n        checkinCode: daCheckinCode,\n        parameters: daFormAsJSON(elem),\n        raw_parameters: JSON.stringify($(\"#daform\").serializeArray()),\n        ajax: \"1\",\n      });\n    }\n  } else {\n    if (daDoAction != null) {\n      datastring = $.param({\n        action: \"checkin\",\n        chatstatus: daChatStatus,\n        chatmode: daChatMode,\n        csrf_token: daCsrf,\n        checkinCode: daCheckinCode,\n        do_action: daDoAction,\n        parameters: daFormAsJSON(elem),\n        ajax: \"1\",\n      });\n    } else {\n      datastring = $.param({\n        action: \"checkin\",\n        chatstatus: daChatStatus,\n        chatmode: daChatMode,\n        csrf_token: daCsrf,\n        checkinCode: daCheckinCode,\n        ajax: \"1\",\n      });\n    }\n  }\n  //console.log(\"Doing checkin with \" + daChatStatus);\n  $.ajax({\n    type: \"POST\",\n    url: daCheckinUrl,\n    beforeSend: addCsrfHeader,\n    xhrFields: {\n      withCredentials: true,\n    },\n    data: datastring,\n    success: daCheckinCallback,\n    dataType: \"json\",\n  });\n  return true;\n}\nfunction daCheckout() {\n  $.ajax({\n    type: \"POST\",\n    url: daCheckoutUrl,\n    beforeSend: addCsrfHeader,\n    xhrFields: {\n      withCredentials: true,\n    },\n    data: \"csrf_token=\" + daCsrf + \"&ajax=1&action=checkout\",\n    success: daCheckoutCallback,\n    dataType: \"json\",\n  });\n  return true;\n}\nfunction daStopCheckingIn() {\n  daCheckout();\n  if (daCheckinInterval != null) {\n    clearInterval(daCheckinInterval);\n  }\n}\nfunction daShowSpinner() {\n  if ($(\"#daquestion\").length > 0) {\n    $(\n      '<div id=\"daSpinner\" class=\"da-spinner-container da-top-for-navbar\"><div class=\"container\"><div class=\"row\"><div class=\"col text-center\"><span class=\"da-spinner\"><i class=\"fa-solid fa-spinner fa-spin\"></i></span></div></div></div></div>',\n    ).appendTo(daTargetDiv);\n  } else {\n    var newSpan = document.createElement(\"span\");\n    var newI = document.createElement(\"i\");\n    $(newI).addClass(\"fa-solid fa-spinner fa-spin\");\n    $(newI).appendTo(newSpan);\n    $(newSpan).attr(\"id\", \"daSpinner\");\n    $(newSpan).addClass(\"da-sig-spinner da-top-for-navbar\");\n    $(newSpan).appendTo(\"#dasigtoppart\");\n  }\n  daShowingSpinner = true;\n}\nfunction daHideSpinner() {\n  $(\"#daSpinner\").remove();\n  daShowingSpinner = false;\n  daSpinnerTimeout = null;\n}\nfunction daObserverSubmitter(event) {\n  if (!daSendChanges || !daConnected) {\n    event.preventDefault();\n    return false;\n  }\n  var theAction = null;\n  if ($(this).hasClass(\"da-review-action\")) {\n    theAction = $(this).data(\"action\");\n  }\n  var embeddedJs = $(this).data(\"js\");\n  var embeddedAction = $(this).data(\"embaction\");\n  var linkNum = $(this).data(\"linknum\");\n  var theId = $(this).attr(\"id\");\n  if (theId == \"dapagetitle\") {\n    theId = \"daquestionlabel\";\n  }\n  var theName = $(this).attr(\"name\");\n  var theValue = $(this).val();\n  var skey;\n  if (linkNum) {\n    skey = 'a[data-linknum=\"' + linkNum + '\"]';\n  } else if (embeddedAction) {\n    skey =\n      'a[data-embaction=\"' +\n      embeddedAction.replace(/(:|\\.|\\[|\\]|,|=|\\/|\\\")/g, \"\\\\$1\") +\n      '\"]';\n  } else if (theAction) {\n    skey =\n      'a[data-action=\"' +\n      theAction.replace(/(:|\\.|\\[|\\]|,|=|\\/|\\\")/g, \"\\\\$1\") +\n      '\"]';\n  } else if (theId) {\n    skey = \"#\" + theId.replace(/(:|\\.|\\[|\\]|,|=|\\/|\\\")/g, \"\\\\$1\");\n  } else if (theName) {\n    skey =\n      \"#\" +\n      $(this).parents(\"form\").attr(\"id\") +\n      \" \" +\n      $(this).prop(\"tagName\").toLowerCase() +\n      '[name=\"' +\n      theName.replace(/(:|\\.|\\[|\\]|,|=|\\/)/g, \"\\\\$1\") +\n      '\"]';\n    if (typeof theValue !== \"undefined\") {\n      skey += '[value=\"' + theValue + '\"]';\n    }\n  } else {\n    skey =\n      \"#\" +\n      $(this).parents(\"form\").attr(\"id\") +\n      \" \" +\n      $(this).prop(\"tagName\").toLowerCase() +\n      '[type=\"submit\"]';\n  }\n  //console.log(\"Need to click on \" + skey);\n  if (\n    daObserverChangesInterval != null &&\n    embeddedJs == null &&\n    theId != \"dabackToQuestion\" &&\n    theId != \"dahelptoggle\" &&\n    theId != \"daquestionlabel\"\n  ) {\n    clearInterval(daObserverChangesInterval);\n  }\n  daSocket.emit(\"observerChanges\", {\n    uid: daUid,\n    i: daYamlFilename,\n    userid: daUserObserved,\n    clicked: skey,\n    parameters: JSON.stringify($(\"#daform\").serializeArray()),\n  });\n  if (embeddedJs != null) {\n    //console.log(\"Running the embedded js\");\n    daGlobalEval(decodeURIComponent(embeddedJs));\n  }\n  if (\n    theId != \"dabackToQuestion\" &&\n    theId != \"dahelptoggle\" &&\n    theId != \"daquestionlabel\"\n  ) {\n    event.preventDefault();\n    return false;\n  }\n}\nfunction daAdjustInputWidth(e) {\n  var contents = $(this).val();\n  var leftBracket = new RegExp(\"<\", \"g\");\n  var rightBracket = new RegExp(\">\", \"g\");\n  contents = contents\n    .replace(/&/g, \"&amp;\")\n    .replace(leftBracket, \"&lt;\")\n    .replace(rightBracket, \"&gt;\")\n    .replace(/ /g, \"&nbsp;\");\n  $('<span class=\"dainput-embedded\" id=\"dawidth\">')\n    .html(contents)\n    .appendTo(\"#daquestion\");\n  $(\"#dawidth\").css(\"min-width\", $(this).css(\"min-width\"));\n  $(\"#dawidth\").css(\"background-color\", $(daTargetDiv).css(\"background-color\"));\n  $(\"#dawidth\").css(\"color\", $(daTargetDiv).css(\"background-color\"));\n  $(this).width($(\"#dawidth\").width() + 16);\n  setTimeout(function () {\n    $(\"#dawidth\").remove();\n  }, 0);\n}\nfunction daShowNotifications() {\n  var n = daMessageLog.length;\n  for (var i = 0; i < n; i++) {\n    var message = daMessageLog[i];\n    if (message.priority == \"console\") {\n      console.log(message.message);\n    } else if (message.priority == \"javascript\") {\n      daGlobalEval(message.message);\n    } else if (\n      message.priority == \"success\" ||\n      message.priority == \"warning\" ||\n      message.priority == \"danger\" ||\n      message.priority == \"secondary\" ||\n      message.priority == \"tertiary\" ||\n      message.priority == \"info\" ||\n      message.priority == \"dark\" ||\n      message.priority == \"light\" ||\n      message.priority == \"primary\"\n    ) {\n      da_flash(message.message, message.priority);\n    } else {\n      da_flash(message.message, \"info\");\n    }\n  }\n}\nfunction daIgnoreAllButTab(event) {\n  event = event || window.event;\n  var code = event.keyCode;\n  if (code != 9) {\n    if (code == 13) {\n      $(event.target)\n        .parents(\".file-caption-main\")\n        .find(\"input.dafile\")\n        .click();\n    }\n    event.preventDefault();\n    return false;\n  }\n}\nfunction daDisableIfNotHidden(query, value) {\n  $(query).each(function () {\n    var showIfParent = $(this).parents(\".dashowif, .dajsshowif\");\n    if (\n      !(\n        showIfParent.length &&\n        ($(showIfParent[0]).data(\"isVisible\") == \"0\" ||\n          !$(showIfParent[0]).is(\":visible\"))\n      )\n    ) {\n      if ($(this).prop(\"tagName\") == \"INPUT\" && $(this).hasClass(\"combobox\")) {\n        if (value) {\n          daComboBoxes[$(this).attr(\"id\")].disable();\n        } else {\n          daComboBoxes[$(this).attr(\"id\")].enable();\n        }\n      } else if ($(this).hasClass(\"dafile\")) {\n        if (value) {\n          $(this).data(\"fileinput\").disable();\n        } else {\n          $(this).data(\"fileinput\").enable();\n        }\n      } else if ($(this).hasClass(\"daslider\")) {\n        if (value) {\n          $(this).slider(\"disable\");\n        } else {\n          $(this).slider(\"enable\");\n        }\n      } else {\n        $(this).prop(\"disabled\", value);\n      }\n      if (value) {\n        $(this).parents(\".da-form-group\").addClass(\"dagreyedout\");\n      } else {\n        $(this).parents(\".da-form-group\").removeClass(\"dagreyedout\");\n      }\n    }\n  });\n}\nfunction daShowIfCompare(theVal, showIfVal) {\n  if (typeof theVal == \"string\" && theVal.match(/^-?\\d+\\.\\d+$/)) {\n    theVal = parseFloat(theVal);\n  } else if (typeof theVal == \"string\" && theVal.match(/^-?\\d+$/)) {\n    theVal = parseInt(theVal);\n  }\n  if (typeof showIfVal == \"string\" && showIfVal.match(/^-?\\d+\\.\\d+$/)) {\n    showIfVal = parseFloat(showIfVal);\n  } else if (typeof showIfVal == \"string\" && showIfVal.match(/^-?\\d+$/)) {\n    showIfVal = parseInt(showIfVal);\n  }\n  if (typeof theVal == \"string\" || typeof showIfVal == \"string\") {\n    if (\n      String(showIfVal) == \"None\" &&\n      (String(theVal) == \"\" || theVal === null)\n    ) {\n      return true;\n    }\n    return String(theVal) == String(showIfVal);\n  }\n  return theVal == showIfVal;\n}\nfunction rationalizeListCollect() {\n  var finalNum = $(\".dacollectextraheader\").last().data(\"collectnum\");\n  var num = $(\".dacollectextraheader:visible\").last().data(\"collectnum\");\n  if (parseInt(num) < parseInt(finalNum)) {\n    if (\n      $('div.dacollectextraheader[data-collectnum=\"' + num + '\"]')\n        .find(\".dacollectadd\")\n        .hasClass(\"dainvisible\")\n    ) {\n      $('div.dacollectextraheader[data-collectnum=\"' + (num + 1) + '\"]').show(\n        \"fast\",\n      );\n    }\n  }\n  var n = parseInt(finalNum);\n  var firstNum = parseInt(\n    $(\".dacollectextraheader\").first().data(\"collectnum\"),\n  );\n  while (n-- > firstNum) {\n    if (\n      $('div.dacollectextraheader[data-collectnum=\"' + (n + 1) + '\"]:visible')\n        .length > 0\n    ) {\n      if (\n        !$('div.dacollectextraheader[data-collectnum=\"' + (n + 1) + '\"]')\n          .find(\".dacollectadd\")\n          .hasClass(\"dainvisible\") &&\n        $('div.dacollectextraheader[data-collectnum=\"' + n + '\"]')\n          .find(\".dacollectremove\")\n          .hasClass(\"dainvisible\")\n      ) {\n        $('div.dacollectextraheader[data-collectnum=\"' + (n + 1) + '\"]').hide();\n      }\n    }\n  }\n  var n = parseInt(finalNum);\n  var seenAddAnother = false;\n  while (n-- > firstNum) {\n    if (\n      $('div.dacollectextraheader[data-collectnum=\"' + (n + 1) + '\"]:visible')\n        .length > 0\n    ) {\n      if (\n        !$('div.dacollectextraheader[data-collectnum=\"' + (n + 1) + '\"]')\n          .find(\".dacollectadd\")\n          .hasClass(\"dainvisible\")\n      ) {\n        seenAddAnother = true;\n      }\n      var current = $('div.dacollectextraheader[data-collectnum=\"' + n + '\"]');\n      if (\n        seenAddAnother &&\n        !$(current).find(\".dacollectadd\").hasClass(\"dainvisible\")\n      ) {\n        $(current).find(\".dacollectadd\").addClass(\"dainvisible\");\n        $(current).find(\".dacollectunremove\").removeClass(\"dainvisible\");\n      }\n    }\n  }\n}\nfunction daFetchAjax(elem, cb, doShow) {\n  var wordStart = $(elem).val();\n  if (wordStart.length < parseInt(cb.$source.data(\"trig\"))) {\n    if (cb.shown) {\n      cb.hide();\n    }\n    return;\n  }\n  if (daFetchAjaxTimeout != null && daFetchAjaxTimeoutRunning) {\n    daFetchAjaxTimeoutFetchAfter = true;\n    return;\n  }\n  if (doShow) {\n    daFetchAjaxTimeout = setTimeout(function () {\n      daFetchAjaxTimeoutRunning = false;\n      if (daFetchAjaxTimeoutFetchAfter) {\n        daFetchAjax(elem, cb, doShow);\n        daFetchAjaxTimeoutFetchAfter = false;\n      }\n    }, 2000);\n    daFetchAjaxTimeoutRunning = true;\n    daFetchAjaxTimeoutFetchAfter = false;\n  }\n  da_action_call(\n    cb.$source.data(\"action\"),\n    { wordstart: wordStart },\n    function (data) {\n      wordStart = $(elem).val();\n      if (typeof data == \"object\") {\n        var upperWordStart = wordStart.toUpperCase();\n        cb.$source.empty();\n        var emptyItem = $(\"<option>\");\n        emptyItem.val(\"\");\n        emptyItem.text(\"\");\n        cb.$source.append(emptyItem);\n        var notYetSelected = true;\n        var selectedValue = null;\n        if (Array.isArray(data)) {\n          for (var i = 0; i < data.length; ++i) {\n            if (Array.isArray(data[i])) {\n              if (data[i].length >= 2) {\n                var item = $(\"<option>\");\n                if (\n                  notYetSelected &&\n                  ((doShow && data[i][1].toString() == wordStart) ||\n                    data[i][0].toString() == wordStart)\n                ) {\n                  item.prop(\"selected\", true);\n                  notYetSelected = false;\n                  selectedValue = data[i][1];\n                }\n                item.text(data[i][1]);\n                item.val(data[i][0]);\n                cb.$source.append(item);\n              } else if (data[i].length == 1) {\n                var item = $(\"<option>\");\n                if (\n                  notYetSelected &&\n                  ((doShow && data[i][0].toString() == wordStart) ||\n                    data[i][0].toString() == wordStart)\n                ) {\n                  item.prop(\"selected\", true);\n                  notYetSelected = false;\n                  selectedValue = data[i][0];\n                }\n                item.text(data[i][0]);\n                item.val(data[i][0]);\n                cb.$source.append(item);\n              }\n            } else if (typeof data[i] == \"object\") {\n              for (var key in data[i]) {\n                if (data[i].hasOwnProperty(key)) {\n                  var item = $(\"<option>\");\n                  if (\n                    notYetSelected &&\n                    ((doShow && key.toString() == wordStart) ||\n                      key.toString() == wordStart)\n                  ) {\n                    item.prop(\"selected\", true);\n                    notYetSelected = false;\n                    selectedValue = data[i][key];\n                  }\n                  item.text(data[i][key]);\n                  item.val(key);\n                  cb.$source.append(item);\n                }\n              }\n            } else {\n              var item = $(\"<option>\");\n              if (\n                notYetSelected &&\n                ((doShow &&\n                  data[i].toString().toUpperCase() == upperWordStart) ||\n                  data[i].toString() == wordStart)\n              ) {\n                item.prop(\"selected\", true);\n                notYetSelected = false;\n                selectedValue = data[i];\n              }\n              item.text(data[i]);\n              item.val(data[i]);\n              cb.$source.append(item);\n            }\n          }\n        } else if (typeof data == \"object\") {\n          var keyList = Array();\n          for (var key in data) {\n            if (data.hasOwnProperty(key)) {\n              keyList.push(key);\n            }\n          }\n          keyList = keyList.sort();\n          for (var i = 0; i < keyList.length; ++i) {\n            var item = $(\"<option>\");\n            if (\n              notYetSelected &&\n              ((doShow &&\n                keyList[i].toString().toUpperCase() == upperWordStart) ||\n                keyList[i].toString() == wordStart)\n            ) {\n              item.prop(\"selected\", true);\n              notYetSelected = false;\n              selectedValue = data[keyList[i]];\n            }\n            item.text(data[keyList[i]]);\n            item.val(keyList[i]);\n            cb.$source.append(item);\n          }\n        }\n        if (doShow) {\n          cb.refresh();\n          cb.clearTarget();\n          cb.$target.val(cb.$element.val());\n          cb.lookup();\n        } else {\n          if (!notYetSelected) {\n            cb.$element.val(selectedValue);\n          }\n        }\n      }\n    },\n  );\n}\nfunction daInitialize(doScroll) {\n  if (!daObserverMode) {\n    daResetCheckinCode();\n  }\n  daComboBoxes = Object();\n  daVarLookupSelect = Object();\n  daVarLookupCheckbox = Object();\n  if (daSpinnerTimeout != null) {\n    clearTimeout(daSpinnerTimeout);\n    daSpinnerTimeout = null;\n  }\n  if (daShowingSpinner) {\n    daHideSpinner();\n  }\n  if (daObserverMode) {\n    $(\n      'button[type=\"submit\"], input[type=\"submit\"], a.da-review-action, #dabackToQuestion, #daquestionlabel, #dapagetitle, #dahelptoggle, a[data-linknum], a[data-embaction], #dabackbutton',\n    ).click(daObserverSubmitter);\n  }\n  daNotYetScrolled = true;\n  // $(\".dahelptrigger\").click(function(e) {\n  //   e.preventDefault();\n  //   $(this).tab('show');\n  // });\n  $(\"input.dafile\").fileinput({\n    theme: \"fas\",\n    language: document.documentElement.lang,\n    allowedPreviewTypes: [\"image\"],\n  });\n  $(\".datableup,.databledown\").click(function (e) {\n    e.preventDefault();\n    $(this).blur();\n    var row = $(this).parents(\"tr\").first();\n    if ($(this).is(\".datableup\")) {\n      var prev = row.prev();\n      if (prev.length == 0) {\n        return false;\n      }\n      row.addClass(\"datablehighlighted\");\n      setTimeout(function () {\n        row.insertBefore(prev);\n      }, 200);\n    } else {\n      var next = row.next();\n      if (next.length == 0) {\n        return false;\n      }\n      row.addClass(\"datablehighlighted\");\n      setTimeout(function () {\n        row.insertAfter(row.next());\n      }, 200);\n    }\n    setTimeout(function () {\n      row.removeClass(\"datablehighlighted\");\n    }, 1000);\n    return false;\n  });\n  $(\".dacollectextra\").find(\"input, textarea, select\").prop(\"disabled\", true);\n  $(\".dacollectextra\")\n    .find(\"input.combobox\")\n    .each(function () {\n      daComboBoxes[$(this).attr(\"id\")].disable();\n    });\n  $(\".dacollectextra\")\n    .find(\"input.daslider\")\n    .each(function () {\n      $(this).slider(\"disable\");\n    });\n  $(\".dacollectextra\")\n    .find(\"input.dafile\")\n    .each(function () {\n      $(this).data(\"fileinput\").disable();\n    });\n  $(\"#da-extra-collect\").on(\"click\", function () {\n    $(\"<input>\")\n      .attr({\n        type: \"hidden\",\n        name: \"_collect\",\n        value: $(this).val(),\n      })\n      .appendTo($(\"#daform\"));\n    $(\"#daform\").submit();\n    event.preventDefault();\n    return false;\n  });\n  $(\".dacollectadd\").on(\"click\", function (e) {\n    e.preventDefault();\n    if ($(\"#daform\").valid()) {\n      var num = $(this).parent().parent().data(\"collectnum\");\n      $('[data-collectnum=\"' + num + '\"]').show(\"fast\");\n      $('[data-collectnum=\"' + num + '\"]')\n        .find(\"input, textarea, select\")\n        .each(function () {\n          var showifParents = $(this).parents(\".dajsshowif,.dashowif\");\n          if (showifParents.length == 0 || $(showifParents[0]).is(\":visible\")) {\n            $(this).prop(\"disabled\", false);\n          }\n        });\n      $('[data-collectnum=\"' + num + '\"]')\n        .find(\"input.combobox\")\n        .each(function () {\n          var showifParents = $(this).parents(\".dajsshowif,.dashowif\");\n          if (showifParents.length == 0 || $(showifParents[0]).is(\":visible\")) {\n            daComboBoxes[$(this).attr(\"id\")].enable();\n          }\n        });\n      $('[data-collectnum=\"' + num + '\"]')\n        .find(\"input.daslider\")\n        .each(function () {\n          var showifParents = $(this).parents(\".dajsshowif,.dashowif\");\n          if (showifParents.length == 0 || $(showifParents[0]).is(\":visible\")) {\n            $(this).slider(\"enable\");\n          }\n        });\n      $('[data-collectnum=\"' + num + '\"]')\n        .find(\"input.dafile\")\n        .each(function () {\n          var showifParents = $(this).parents(\".dajsshowif,.dashowif\");\n          if (showifParents.length == 0 || $(showifParents[0]).is(\":visible\")) {\n            $(this).data(\"fileinput\").enable();\n          }\n        });\n      $(this)\n        .parent()\n        .find(\"button.dacollectremove\")\n        .removeClass(\"dainvisible\");\n      $(this).parent().find(\"span.dacollectnum\").removeClass(\"dainvisible\");\n      $(this).addClass(\"dainvisible\");\n      $(\".da-first-delete\").removeClass(\"dainvisible\");\n      rationalizeListCollect();\n      var elem = $('[data-collectnum=\"' + num + '\"]')\n        .find(\"input, textarea, select\")\n        .first();\n      if ($(elem).visible()) {\n        $(elem).focus();\n      }\n    }\n    return false;\n  });\n  $(\"#dasigform\").on(\"submit\", daSignatureSubmit);\n  $(\".dacollectremove\").on(\"click\", function (e) {\n    e.preventDefault();\n    var num = $(this).parent().parent().data(\"collectnum\");\n    $(\n      '[data-collectnum=\"' +\n        num +\n        '\"]:not(.dacollectextraheader, .dacollectheader, .dacollectfirstheader)',\n    ).hide(\"fast\");\n    $('[data-collectnum=\"' + num + '\"]')\n      .find(\"input, textarea, select\")\n      .prop(\"disabled\", true);\n    $('[data-collectnum=\"' + num + '\"]')\n      .find(\"input.combobox\")\n      .each(function () {\n        daComboBoxes[$(this).attr(\"id\")].disable();\n      });\n    $('[data-collectnum=\"' + num + '\"]')\n      .find(\"input.daslider\")\n      .each(function () {\n        $(this).slider(\"disable\");\n      });\n    $('[data-collectnum=\"' + num + '\"]')\n      .find(\"input.dafile\")\n      .each(function () {\n        $(this).data(\"fileinput\").disable();\n      });\n    $(this).parent().find(\"button.dacollectadd\").removeClass(\"dainvisible\");\n    $(this).parent().find(\"span.dacollectnum\").addClass(\"dainvisible\");\n    $(this).addClass(\"dainvisible\");\n    rationalizeListCollect();\n    return false;\n  });\n  $(\".dacollectremoveexisting\").on(\"click\", function (e) {\n    e.preventDefault();\n    var num = $(this).parent().parent().data(\"collectnum\");\n    $(\n      '[data-collectnum=\"' +\n        num +\n        '\"]:not(.dacollectextraheader, .dacollectheader, .dacollectfirstheader)',\n    ).hide(\"fast\");\n    $('[data-collectnum=\"' + num + '\"]')\n      .find(\"input, textarea, select\")\n      .prop(\"disabled\", true);\n    $('[data-collectnum=\"' + num + '\"]')\n      .find(\"input.combobox\")\n      .each(function () {\n        daComboBoxes[$(this).attr(\"id\")].disable();\n      });\n    $('[data-collectnum=\"' + num + '\"]')\n      .find(\"input.daslider\")\n      .each(function () {\n        $(this).slider(\"disable\");\n      });\n    $('[data-collectnum=\"' + num + '\"]')\n      .find(\"input.dafile\")\n      .each(function () {\n        $(this).data(\"fileinput\").disable();\n      });\n    $(this)\n      .parent()\n      .find(\"button.dacollectunremove\")\n      .removeClass(\"dainvisible\");\n    $(this).parent().find(\"span.dacollectremoved\").removeClass(\"dainvisible\");\n    $(this).addClass(\"dainvisible\");\n    rationalizeListCollect();\n    return false;\n  });\n  $(\".dacollectunremove\").on(\"click\", function (e) {\n    e.preventDefault();\n    var num = $(this).parent().parent().data(\"collectnum\");\n    $('[data-collectnum=\"' + num + '\"]').show(\"fast\");\n    $('[data-collectnum=\"' + num + '\"]')\n      .find(\"input, textarea, select\")\n      .prop(\"disabled\", false);\n    $('[data-collectnum=\"' + num + '\"]')\n      .find(\"input.combobox\")\n      .each(function () {\n        daComboBoxes[$(this).attr(\"id\")].enable();\n      });\n    $('[data-collectnum=\"' + num + '\"]')\n      .find(\"input.daslider\")\n      .each(function () {\n        $(this).slider(\"enable\");\n      });\n    $('[data-collectnum=\"' + num + '\"]')\n      .find(\"input.dafile\")\n      .each(function () {\n        $(this).data(\"fileinput\").enable();\n      });\n    $(this)\n      .parent()\n      .find(\"button.dacollectremoveexisting\")\n      .removeClass(\"dainvisible\");\n    $(this).parent().find(\"button.dacollectremove\").removeClass(\"dainvisible\");\n    $(this).parent().find(\"span.dacollectnum\").removeClass(\"dainvisible\");\n    $(this).parent().find(\"span.dacollectremoved\").addClass(\"dainvisible\");\n    $(this).addClass(\"dainvisible\");\n    rationalizeListCollect();\n    return false;\n  });\n  //$('#daquestionlabel').click(function(e) {\n  //  e.preventDefault();\n  //  $(this).tab('show');\n  //});\n  //$('#dapagetitle').click(function(e) {\n  //  if ($(this).prop('href') == '#'){\n  //    e.preventDefault();\n  //    //$('#daquestionlabel').tab('show');\n  //  }\n  //});\n  $(\"select.damultiselect\").each(function () {\n    var isObject = $(this).hasClass(\"daobject\");\n    var varname = atou($(this).data(\"varname\"));\n    var theSelect = this;\n    $(this)\n      .find(\"option\")\n      .each(function () {\n        var theVal = atou($(this).data(\"valname\"));\n        if (isObject) {\n          theVal = atou(theVal);\n        }\n        var key = varname + '[\"' + theVal + '\"]';\n        if (!daVarLookupSelect[key]) {\n          daVarLookupSelect[key] = [];\n        }\n        daVarLookupSelect[key].push({\n          select: theSelect,\n          option: this,\n          value: theVal,\n        });\n        key = varname + \"['\" + theVal + \"']\";\n        if (!daVarLookupSelect[key]) {\n          daVarLookupSelect[key] = [];\n        }\n        daVarLookupSelect[key].push({\n          select: theSelect,\n          option: this,\n          value: theVal,\n        });\n      });\n  });\n  $(\"div.da-field-group.da-field-checkboxes\").each(function () {\n    var isObject = $(this).hasClass(\"daobject\");\n    var varname = atou($(this).data(\"varname\"));\n    var cbList = [];\n    if (!daVarLookupCheckbox[varname]) {\n      daVarLookupCheckbox[varname] = [];\n    }\n    $(this)\n      .find(\"input\")\n      .each(function () {\n        if ($(this).attr(\"name\").substr(0, 7) === \"_ignore\") {\n          return;\n        }\n        var theVal = atou($(this).data(\"cbvalue\"));\n        var theType = $(this).data(\"cbtype\");\n        var key;\n        if (theType == \"R\") {\n          key = varname + \"[\" + theVal + \"]\";\n        } else {\n          key = varname + '[\"' + theVal + '\"]';\n        }\n        cbList.push({\n          variable: key,\n          value: theVal,\n          type: theType,\n          elem: this,\n        });\n      });\n    daVarLookupCheckbox[varname].push({\n      elem: this,\n      checkboxes: cbList,\n      isObject: isObject,\n    });\n    $(this)\n      .find(\"input.danota-checkbox\")\n      .each(function () {\n        if (!daVarLookupCheckbox[varname + \"[nota]\"]) {\n          daVarLookupCheckbox[varname + \"[nota]\"] = [];\n        }\n        daVarLookupCheckbox[varname + \"[nota]\"].push({\n          elem: this,\n          checkboxes: [{ variable: varname + \"[nota]\", type: \"X\", elem: this }],\n          isObject: isObject,\n        });\n      });\n    $(this)\n      .find(\"input.daaota-checkbox\")\n      .each(function () {\n        if (!daVarLookupCheckbox[varname + \"[aota]\"]) {\n          daVarLookupCheckbox[varname + \"[aota]\"] = [];\n        }\n        daVarLookupCheckbox[varname + \"[aota]\"].push({\n          elem: this,\n          checkboxes: [{ variable: varname + \"[aota]\", type: \"X\", elem: this }],\n          isObject: isObject,\n        });\n      });\n  });\n  $(\".dacurrency\").each(function () {\n    var theVal = $(this).val().toString();\n    if (theVal.indexOf(\".\") >= 0) {\n      theVal = theVal.replace(\",\", \"\");\n      var num = parseFloat(theVal);\n      var cleanNum = num.toFixed(daCurrencyDecimalPlaces).toString();\n      if (cleanNum != \"NaN\") {\n        $(this).val(cleanNum);\n      }\n    }\n  });\n  $(\".dacurrency\").on(\"change\", function () {\n    var theVal = $(this).val().toString();\n    if (theVal.indexOf(\".\") >= 0) {\n      theVal = theVal.replaceAll(/[\\$,\\(\\)]/g, \"\");\n      var num = parseFloat(theVal);\n      var cleanNum = num.toFixed(daCurrencyDecimalPlaces).toString();\n      if (cleanNum != \"NaN\") {\n        $(this).val(cleanNum);\n      } else {\n        $(this).val(theVal);\n      }\n    } else {\n      $(this).val(theVal.replaceAll(/[^0-9\\.\\-]/g, \"\"));\n    }\n  });\n  $(\".danumeric\").on(\"change\", function () {\n    var theVal = $(this).val().toString();\n    $(this).val(theVal.replaceAll(/[\\$,\\(\\)]/g, \"\"));\n  });\n  // iOS will truncate text in `select` options. Adding an empty optgroup fixes that\n  if (navigator.userAgent.match(/(iPad|iPhone|iPod touch);/i)) {\n    var selects = document.querySelectorAll(\"select\");\n    for (var i = 0; i < selects.length; i++) {\n      selects[i].appendChild(document.createElement(\"optgroup\"));\n    }\n  }\n  $(\".da-to-labelauty\").labelauty({\n    class: \"labelauty da-active-invisible dafullwidth\",\n  });\n  $(\".da-to-labelauty-icon\").labelauty({ label: false });\n  $(\"input[type=radio].da-to-labelauty:checked\").trigger(\"change\");\n  $(\"input[type=radio].da-to-labelauty-icon:checked\").trigger(\"change\");\n  $(\"button\").on(\"click\", function () {\n    daWhichButton = this;\n    return true;\n  });\n  $(\"#dasource\").on(\"shown.bs.collapse\", function (e) {\n    if (daJsEmbed) {\n      var scrollTarget = $(\"#dasource\").first().position().top - 60;\n      $(daTargetDiv).animate(\n        {\n          scrollTop: scrollTarget,\n        },\n        1000,\n      );\n    } else {\n      var scrollTarget = $(\"#dasource\").first().offset().top - 60;\n      $(\"html, body\").animate(\n        {\n          scrollTop: scrollTarget,\n        },\n        1000,\n      );\n    }\n  });\n  $('button[data-bs-target=\"#dahelp\"]').on(\"shown.bs.tab\", function (e) {\n    daShowingHelp = 1;\n    if (daNotYetScrolled) {\n      daScrollChatFast();\n      daNotYetScrolled = false;\n    }\n    if (daShouldDebugReadabilityHelp) {\n      $(\"#dareadability-help\").show();\n      $(\"#dareadability-question\").hide();\n    }\n  });\n  $('button[data-bs-target=\"#daquestion\"]').on(\"shown.bs.tab\", function (e) {\n    daShowingHelp = 0;\n    if (daShouldDebugReadabilityQuestion) {\n      $(\"#dareadability-help\").hide();\n      $(\"#dareadability-question\").show();\n    }\n  });\n  $(\"input.daaota-checkbox\").click(function () {\n    var anyChanged = false;\n    var firstEncountered = null;\n    $(this)\n      .parents(\"div.da-field-group\")\n      .find(\"input.danon-nota-checkbox\")\n      .each(function () {\n        if (firstEncountered === null) {\n          firstEncountered = this;\n        }\n        var existing_val = $(this).prop(\"checked\");\n        $(this).prop(\"checked\", true);\n        if (existing_val != true) {\n          $(this).trigger(\"change\");\n          anyChanged = true;\n        }\n      });\n    if (firstEncountered !== null && anyChanged === false) {\n      $(firstEncountered).trigger(\"change\");\n    }\n    $(this)\n      .parents(\"div.da-field-group\")\n      .find(\"input.danota-checkbox\")\n      .each(function () {\n        var existing_val = $(this).prop(\"checked\");\n        $(this).prop(\"checked\", false);\n        if (existing_val != false) {\n          $(this).trigger(\"change\");\n        }\n      });\n  });\n  $(\"input.danota-checkbox\").click(function () {\n    var anyChanged = false;\n    var firstEncountered = null;\n    $(this)\n      .parents(\"div.da-field-group\")\n      .find(\"input.danon-nota-checkbox\")\n      .each(function () {\n        if (firstEncountered === null) {\n          firstEncountered = this;\n        }\n        var existing_val = $(this).prop(\"checked\");\n        $(this).prop(\"checked\", false);\n        if (existing_val != false) {\n          $(this).trigger(\"change\");\n          anyChanged = true;\n        }\n      });\n    if (firstEncountered !== null && anyChanged === false) {\n      $(firstEncountered).trigger(\"change\");\n    }\n    $(this)\n      .parents(\"div.da-field-group\")\n      .find(\"input.daaota-checkbox\")\n      .each(function () {\n        var existing_val = $(this).prop(\"checked\");\n        $(this).prop(\"checked\", false);\n        if (existing_val != false) {\n          $(this).trigger(\"change\");\n        }\n      });\n  });\n  $(\"input.danon-nota-checkbox\").click(function () {\n    $(this)\n      .parents(\"div.da-field-group\")\n      .find(\"input.danota-checkbox\")\n      .each(function () {\n        var existing_val = $(this).prop(\"checked\");\n        $(this).prop(\"checked\", false);\n        if (existing_val != false) {\n          $(this).trigger(\"change\");\n        }\n      });\n    if (!$(this).prop(\"checked\")) {\n      $(this)\n        .parents(\"div.da-field-group\")\n        .find(\"input.daaota-checkbox\")\n        .each(function () {\n          var existing_val = $(this).prop(\"checked\");\n          $(this).prop(\"checked\", false);\n          if (existing_val != false) {\n            $(this).trigger(\"change\");\n          }\n        });\n    }\n  });\n  $(\"select.combobox\").combobox({\n    buttonLabel: daComboboxButtonLabel,\n    inputBox: daInputBox,\n  });\n  $(\"select.da-ajax-combobox\").combobox({\n    clearIfNoMatch: true,\n    buttonLabel: daComboboxButtonLabel,\n    functionalButton: false,\n    inputBox: daInputBox,\n  });\n  $(\"input.da-address-combobox\").combobox({\n    clearIfNoMatch: false,\n    showButton: false,\n    inputBox: daInputBox,\n    matcher: function (item) {\n      return true;\n    },\n    lookupWhileTyping: false,\n  });\n  $(\"input.da-ajax-combobox\").each(function () {\n    var cb = daComboBoxes[$(this).attr(\"id\")];\n    daFetchAjax(this, cb, false);\n    $(this).on(\"keyup\", function (e) {\n      switch (e.keyCode) {\n        case 40:\n        case 39: // right arrow\n        case 38: // up arrow\n        case 37: // left arrow\n        case 36: // home\n        case 35: // end\n        case 16: // shift\n        case 17: // ctrl\n        case 9: // tab\n        case 13: // enter\n        case 27: // escape\n        case 18: // alt\n          return;\n      }\n      daFetchAjax(this, cb, true);\n      daFetchAcceptIncoming = true;\n      e.preventDefault();\n      return false;\n    });\n  });\n  $.each(daComboBoxes, async function (thisId, cb) {\n    if (!this.$element.hasClass(\"da-address-combobox\")) {\n      return;\n    }\n    await daWaitForGoogle(false);\n    const { Place, AutocompleteSessionToken, AutocompleteSuggestion } =\n      await google.maps.importLibrary(\"places\");\n    const token = new AutocompleteSessionToken();\n    var elem = cb.$element;\n    var priorQuery = \"\";\n    var priorResults = [];\n    let request = {\n      language: \"en-US\",\n      region: \"us\",\n      sessionToken: token,\n    };\n    cb.$target.on(\"change\", async (e) => {\n      if (!daAutocomplete[thisId].suggestions[cb.$target.val()]) {\n        return;\n      }\n      var theVal = cb.$target.val();\n      cb.$container.removeClass(\"combobox-selected\");\n      cb.selected = false;\n      let place =\n        daAutocomplete[thisId].suggestions[theVal].placePrediction.toPlace();\n      await place.fetchFields({\n        fields: daAutocomplete[thisId].opts.fields || [\"addressComponents\"],\n      });\n      daFillInAddress(thisId, place);\n    });\n    elem.on(\"keyup\", async (e) => {\n      switch (e.keyCode) {\n        case 40:\n        case 39: // right arrow\n        case 38: // up arrow\n        case 37: // left arrow\n        case 36: // home\n        case 35: // end\n        case 16: // shift\n        case 17: // ctrl\n        case 9: // tab\n        case 13: // enter\n        case 27: // escape\n        case 18: // alt\n          return;\n      }\n      request.input = elem.val();\n      request.includedPrimaryTypes = daAutocomplete[thisId].opts.types || [\n        \"street_address\",\n      ];\n      if (request.input.length > 2 && request.input != priorQuery) {\n        priorQuery = request.input;\n        const { suggestions } =\n          await AutocompleteSuggestion.fetchAutocompleteSuggestions(request);\n        var results = [];\n        var sugMap = {};\n        for (let suggestion of suggestions) {\n          const placePrediction = suggestion.placePrediction;\n          const addressText = placePrediction.text.toString();\n          results.push(addressText);\n          sugMap[addressText] = suggestion;\n        }\n        if (\n          !(\n            results.length === priorResults.length &&\n            results.every((value, index) => value === priorResults[index])\n          )\n        ) {\n          daAutocomplete[thisId].suggestions = sugMap;\n          cb.options.items = results.length;\n          cb.map = results.reduce((obj, key) => ({ ...obj, [key]: key }), {});\n          cb.revMap = cb.map;\n          priorResults = results;\n        }\n        cb.process(results);\n      }\n      e.preventDefault();\n      return false;\n    });\n  });\n  $(\"#daemailform\").validate({\n    submitHandler: daValidationHandler,\n    rules: {\n      _attachment_email_address: { minlength: 1, required: true, email: true },\n    },\n    messages: {\n      _attachment_email_address: {\n        required: daEmailAddressRequired,\n        email: daNeedCompleteEmail,\n      },\n    },\n    errorClass: \"da-has-error invalid-feedback\",\n  });\n  $(\"a[data-embaction]\").click(daEmbeddedAction);\n  $(\"a[data-js]\").click(daEmbeddedJs);\n  $(\"a.da-review-action\").click(daReviewAction);\n  $(\"input.dainput-embedded\").on(\"keyup\", daAdjustInputWidth);\n  $(\"input.dainput-embedded\").each(daAdjustInputWidth);\n  var daPopoverTriggerList = [].slice.call(\n    document.querySelectorAll('[data-bs-toggle=\"popover\"]'),\n  );\n  var daPopoverTrigger = daDefaultPopoverTrigger;\n  var daPopoverList = daPopoverTriggerList.map(function (daPopoverTriggerEl) {\n    return new bootstrap.Popover(daPopoverTriggerEl, {\n      trigger: daPopoverTrigger,\n      html: true,\n    });\n  });\n  if (daPopoverTrigger == \"focus\") {\n    $(\n      'label a[data-bs-toggle=\"popover\"], legend a[data-bs-toggle=\"popover\"]',\n    ).on(\"click\", function (event) {\n      event.preventDefault();\n      event.stopPropagation();\n      $(this).focus();\n      return false;\n    });\n  }\n  if (!daObserverMode) {\n    if (daPhoneAvailable) {\n      $(\"#daPhoneAvailable\").removeClass(\"dainvisible\");\n    }\n    $(\".daquestionbackbutton\").on(\"click\", function (event) {\n      event.preventDefault();\n      $(\"#dabackbutton\").submit();\n      return false;\n    });\n    $(\"#dabackbutton\").on(\"submit\", function (event) {\n      if (daShowingHelp) {\n        event.preventDefault();\n        $(\"#daquestionlabel\").tab(\"show\");\n        return false;\n      }\n      $(\"#dabackbutton\").addClass(\"dabackiconpressed\");\n      var informed = \"\";\n      if (daInformedChanged) {\n        informed = \"&informed=\" + Object.keys(daInformed).join(\",\");\n      }\n      var url;\n      if (daJsEmbed) {\n        url = daPostURL;\n      } else {\n        url = $(\"#dabackbutton\").attr(\"action\");\n      }\n      daRequestPending = true;\n      $.ajax({\n        type: \"POST\",\n        url: url,\n        beforeSend: addCsrfHeader,\n        xhrFields: {\n          withCredentials: true,\n        },\n        data: $(\"#dabackbutton\").serialize() + \"&ajax=1\" + informed,\n        success: function (data) {\n          setTimeout(function () {\n            daProcessAjax(data, document.getElementById(\"backbutton\"), 1);\n          }, 0);\n        },\n        error: function (xhr, status, error) {\n          setTimeout(function () {\n            daProcessAjaxError(xhr, status, error);\n          }, 0);\n        },\n      });\n      daSpinnerTimeout = setTimeout(daShowSpinner, 1000);\n      event.preventDefault();\n    });\n    $(\"#daChatOnButton\").click(daRingChat);\n    $(\"#daChatOffButton\").click(daCloseChat);\n    $(\"#daMessage\").bind(\"keypress keydown keyup\", function (e) {\n      var theCode = e.which || e.keyCode;\n      if (theCode == 13) {\n        daSender();\n        e.preventDefault();\n      }\n    });\n    $('#daform button[type=\"submit\"]').click(function () {\n      daSubmitter = this;\n      document.activeElement.blur();\n      return true;\n    });\n    $('#daform input[type=\"submit\"]').click(function () {\n      daSubmitter = this;\n      document.activeElement.blur();\n      return true;\n    });\n    $('#daemailform button[type=\"submit\"]').click(function () {\n      daSubmitter = this;\n      return true;\n    });\n    $('#dadownloadform button[type=\"submit\"]').click(function () {\n      daSubmitter = this;\n      return true;\n    });\n    $(\".danavlinks a.daclickable\").click(function (e) {\n      if (daRequestPending) {\n        e.preventDefault();\n        $(this).blur();\n        return false;\n      }\n      var the_key = $(this).data(\"key\");\n      da_action_perform(\"_da_priority_action\", { _action: the_key });\n      e.preventDefault();\n      return false;\n    });\n    $(\".danav-vertical .danavnested\").each(function () {\n      var box = this;\n      var prev = $(this).prev();\n      if (prev && !prev.hasClass(\"active\")) {\n        var toggler;\n        if ($(box).hasClass(\"danotshowing\")) {\n          toggler = $(\n            '<a href=\"#\" class=\"toggler\" role=\"button\" aria-pressed=\"false\">',\n          );\n          $('<i class=\"fa-solid fa-caret-right\">').appendTo(toggler);\n          $(\n            '<span class=\"visually-hidden\">' + daToggleWord + \"</span>\",\n          ).appendTo(toggler);\n        } else {\n          toggler = $(\n            '<a href=\"#\" class=\"toggler\" role=\"button\" aria-pressed=\"true\">',\n          );\n          $('<i class=\"fa-solid fa-caret-down\">').appendTo(toggler);\n          $(\n            '<span class=\"visually-hidden\">' + daToggleWord + \"</span>\",\n          ).appendTo(toggler);\n        }\n        toggler.appendTo(prev);\n        toggler.on(\"click\", function (e) {\n          var oThis = this;\n          $(this)\n            .find(\"svg\")\n            .each(function () {\n              if ($(this).attr(\"data-icon\") == \"caret-down\") {\n                $(this).removeClass(\"fa-caret-down\");\n                $(this).addClass(\"fa-caret-right\");\n                $(this).attr(\"data-icon\", \"caret-right\");\n                $(box).hide();\n                $(oThis).attr(\"aria-pressed\", \"false\");\n                $(box).toggleClass(\"danotshowing\");\n              } else if ($(this).attr(\"data-icon\") == \"caret-right\") {\n                $(this).removeClass(\"fa-caret-right\");\n                $(this).addClass(\"fa-caret-down\");\n                $(this).attr(\"data-icon\", \"caret-down\");\n                $(box).show();\n                $(oThis).attr(\"aria-pressed\", \"true\");\n                $(box).toggleClass(\"danotshowing\");\n              }\n            });\n          e.stopPropagation();\n          e.preventDefault();\n          return false;\n        });\n      }\n    });\n    $(\"body\").focus();\n    if (!daJsEmbed && !isAndroid) {\n      setTimeout(function () {\n        var firstInput = $(\"#daform .da-field-container\")\n          .not(\".da-field-container-note\")\n          .first()\n          .find(\"input, textarea, select\")\n          .filter(\":visible\")\n          .first();\n        if (firstInput.length > 0 && $(firstInput).visible()) {\n          $(firstInput).focus();\n          var inputType = $(firstInput).attr(\"type\");\n          if (\n            $(firstInput).prop(\"tagName\") != \"SELECT\" &&\n            inputType != \"checkbox\" &&\n            inputType != \"radio\" &&\n            inputType != \"hidden\" &&\n            inputType != \"submit\" &&\n            inputType != \"file\" &&\n            inputType != \"range\" &&\n            inputType != \"number\" &&\n            inputType != \"date\" &&\n            inputType != \"time\"\n          ) {\n            var strLength = $(firstInput).val().length * 2;\n            if (strLength > 0) {\n              try {\n                $(firstInput)[0].setSelectionRange(strLength, strLength);\n              } catch (err) {\n                console.log(err.message);\n              }\n            }\n          }\n        } else {\n          var firstButton = $(\"#danavbar-collapse .nav-link\")\n            .filter(\":visible\")\n            .first();\n          if (firstButton.length > 0 && $(firstButton).visible()) {\n            setTimeout(function () {\n              $(firstButton).focus();\n              $(firstButton).blur();\n            }, 0);\n          }\n        }\n      }, 15);\n    }\n  }\n  $(\"input.dauncheckspecificothers\").on(\"change\", function () {\n    if ($(this).is(\":checked\")) {\n      var theIds = $.parseJSON(atou($(this).data(\"unchecklist\")));\n      var n = theIds.length;\n      for (var i = 0; i < n; ++i) {\n        var elem = document.getElementById(theIds[i]);\n        $(elem).prop(\"checked\", false);\n        $(elem).trigger(\"change\");\n      }\n    }\n  });\n  $(\"input.dauncheckspecificothers\").each(function () {\n    var theIds = $.parseJSON(atou($(this).data(\"unchecklist\")));\n    var n = theIds.length;\n    var oThis = this;\n    for (var i = 0; i < n; ++i) {\n      var elem = document.getElementById(theIds[i]);\n      $(elem).on(\"change\", function () {\n        if ($(this).is(\":checked\")) {\n          $(oThis).prop(\"checked\", false);\n          $(oThis).trigger(\"change\");\n        }\n      });\n    }\n  });\n  $(\"input.dauncheckothers\").on(\"change\", function () {\n    if ($(this).is(\":checked\")) {\n      $(\"input.dauncheckable,input.dacheckothers\").each(function () {\n        if ($(this).is(\":checked\")) {\n          $(this).prop(\"checked\", false);\n          $(this).trigger(\"change\");\n        }\n      });\n    }\n  });\n  $(\"input.dacheckspecificothers\").on(\"change\", function () {\n    if ($(this).is(\":checked\")) {\n      var theIds = $.parseJSON(atou($(this).data(\"checklist\")));\n      var n = theIds.length;\n      for (var i = 0; i < n; ++i) {\n        var elem = document.getElementById(theIds[i]);\n        $(elem).prop(\"checked\", true);\n        $(elem).trigger(\"change\");\n      }\n    }\n  });\n  $(\"input.dacheckspecificothers\").each(function () {\n    var theIds = $.parseJSON(atou($(this).data(\"checklist\")));\n    var n = theIds.length;\n    var oThis = this;\n    for (var i = 0; i < n; ++i) {\n      var elem = document.getElementById(theIds[i]);\n      $(elem).on(\"change\", function () {\n        if (!$(this).is(\":checked\")) {\n          $(oThis).prop(\"checked\", false);\n          $(oThis).trigger(\"change\");\n        }\n      });\n    }\n  });\n  $(\"input.dacheckothers\").on(\"change\", function () {\n    if ($(this).is(\":checked\")) {\n      $(\"input.dauncheckable\").each(function () {\n        if (!$(this).is(\":checked\")) {\n          $(this).prop(\"checked\", true);\n          $(this).trigger(\"change\");\n        }\n      });\n      $(\"input.dauncheckothers\").each(function () {\n        if (!$(this).is(\":checked\")) {\n          $(this).prop(\"checked\", false);\n          $(this).trigger(\"change\");\n        }\n      });\n    }\n  });\n  $(\"input.dauncheckable\").on(\"change\", function () {\n    if ($(this).is(\":checked\")) {\n      $(\"input.dauncheckothers\").each(function () {\n        if ($(this).is(\":checked\")) {\n          $(this).prop(\"checked\", false);\n          $(this).trigger(\"change\");\n        }\n      });\n    } else {\n      $(\"input.dacheckothers\").each(function () {\n        if ($(this).is(\":checked\")) {\n          $(this).prop(\"checked\", false);\n          $(this).trigger(\"change\");\n        }\n      });\n    }\n  });\n  var navMain = $(\"#danavbar-collapse\");\n  navMain.on(\"click\", \"a\", null, function () {\n    if (!$(this).hasClass(\"dropdown-toggle\")) {\n      navMain.collapse(\"hide\");\n    }\n  });\n  $(\"button[data-bs-target='#dahelp']\").on(\"shown.bs.tab\", function () {\n    if (daJsEmbed) {\n      $(daTargetDiv)[0].scrollTo(0, 1);\n    } else {\n      window.scrollTo(0, 1);\n    }\n    $(\"#dahelptoggle\").removeClass(\"daactivetext\");\n    $(\"#dahelptoggle\").blur();\n  });\n  $(\"#dasourcetoggle\").on(\"click\", function () {\n    $(this).parent().toggleClass(\"active\");\n    $(this).blur();\n  });\n  $(\"#dabackToQuestion\").click(function (event) {\n    $(\"#daquestionlabel\").tab(\"show\");\n  });\n  daVarLookup = Object();\n  daVarLookupRev = Object();\n  daVarLookupMulti = Object();\n  daVarLookupRevMulti = Object();\n  daVarLookupOption = Object();\n  if ($(\"input[name='_varnames']\").length) {\n    the_hash = $.parseJSON(atou($(\"input[name='_varnames']\").val()));\n    for (var key in the_hash) {\n      if (the_hash.hasOwnProperty(key)) {\n        daVarLookup[the_hash[key]] = key;\n        daVarLookupRev[key] = the_hash[key];\n        if (!daVarLookupMulti.hasOwnProperty(the_hash[key])) {\n          daVarLookupMulti[the_hash[key]] = [];\n        }\n        daVarLookupMulti[the_hash[key]].push(key);\n        if (!daVarLookupRevMulti.hasOwnProperty(key)) {\n          daVarLookupRevMulti[key] = [];\n        }\n        daVarLookupRevMulti[key].push(the_hash[key]);\n      }\n    }\n  }\n  if ($(\"input[name='_checkboxes']\").length) {\n    var patt = new RegExp(/\\[B['\"][^\\]]*['\"]\\]$/);\n    var pattObj = new RegExp(/\\[O['\"][^\\]]*['\"]\\]$/);\n    var pattRaw = new RegExp(/\\[R['\"][^\\]]*['\"]\\]$/);\n    the_hash = $.parseJSON(atou($(\"input[name='_checkboxes']\").val()));\n    for (var key in the_hash) {\n      if (the_hash.hasOwnProperty(key)) {\n        var checkboxName = atou(key);\n        var baseName = checkboxName;\n        if (patt.test(baseName)) {\n          bracketPart = checkboxName.replace(\n            /^.*(\\[B?['\"][^\\]]*['\"]\\])$/,\n            \"$1\",\n          );\n          checkboxName = checkboxName.replace(\n            /^.*\\[B?['\"]([^\\]]*)['\"]\\]$/,\n            \"$1\",\n          );\n          baseName = baseName.replace(/^(.*)\\[.*/, \"$1\");\n          var transBaseName = baseName;\n          if (\n            $(\"[name='\" + key + \"']\").length == 0 &&\n            typeof daVarLookup[utoa(transBaseName).replace(/[\\n=]/g, \"\")] !=\n              \"undefined\"\n          ) {\n            transBaseName = atou(\n              daVarLookup[utoa(transBaseName).replace(/[\\n=]/g, \"\")],\n            );\n          }\n          var convertedName;\n          try {\n            convertedName = atou(checkboxName);\n          } catch (e) {\n            continue;\n          }\n          var daNameOne = utoa(transBaseName + bracketPart).replace(\n            /[\\n=]/g,\n            \"\",\n          );\n          var daNameTwo = utoa(baseName + \"['\" + convertedName + \"']\").replace(\n            /[\\n=]/g,\n            \"\",\n          );\n          var daNameThree = utoa(\n            baseName + '[\"' + convertedName + '\"]',\n          ).replace(/[\\n=]/g, \"\");\n          var daNameBase = utoa(baseName).replace(/[\\n=]/g, \"\");\n          daVarLookupRev[daNameOne] = daNameTwo;\n          daVarLookup[daNameTwo] = daNameOne;\n          daVarLookup[daNameThree] = daNameOne;\n          daVarLookupOption[key] = convertedName;\n          if (!daVarLookupRevMulti.hasOwnProperty(daNameOne)) {\n            daVarLookupRevMulti[daNameOne] = [];\n          }\n          daVarLookupRevMulti[daNameOne].push(daNameTwo);\n          if (!daVarLookupMulti.hasOwnProperty(daNameTwo)) {\n            daVarLookupMulti[daNameTwo] = [];\n          }\n          daVarLookupMulti[daNameTwo].push(daNameOne);\n          if (!daVarLookupMulti.hasOwnProperty(daNameThree)) {\n            daVarLookupMulti[daNameThree] = [];\n          }\n          daVarLookupMulti[daNameThree].push(daNameOne);\n          if (!daVarLookupMulti.hasOwnProperty(daNameBase)) {\n            daVarLookupMulti[daNameBase] = [];\n          }\n          daVarLookupMulti[daNameBase].push(daNameOne);\n        } else if (pattObj.test(baseName)) {\n          bracketPart = checkboxName.replace(\n            /^.*(\\[O?['\"][^\\]]*['\"]\\])$/,\n            \"$1\",\n          );\n          checkboxName = checkboxName.replace(\n            /^.*\\[O?['\"]([^\\]]*)['\"]\\]$/,\n            \"$1\",\n          );\n          baseName = baseName.replace(/^(.*)\\[.*/, \"$1\");\n          var transBaseName = baseName;\n          if (\n            $(\"[name='\" + key + \"']\").length == 0 &&\n            typeof daVarLookup[utoa(transBaseName).replace(/[\\n=]/g, \"\")] !=\n              \"undefined\"\n          ) {\n            transBaseName = atou(\n              daVarLookup[utoa(transBaseName).replace(/[\\n=]/g, \"\")],\n            );\n          }\n          var convertedName;\n          try {\n            convertedName = atou(atou(checkboxName));\n          } catch (e) {\n            continue;\n          }\n          var daNameOne = utoa(transBaseName + bracketPart).replace(\n            /[\\n=]/g,\n            \"\",\n          );\n          var daNameTwo = utoa(baseName + \"['\" + convertedName + \"']\").replace(\n            /[\\n=]/g,\n            \"\",\n          );\n          var daNameThree = utoa(\n            baseName + '[\"' + convertedName + '\"]',\n          ).replace(/[\\n=]/g, \"\");\n          var daNameBase = utoa(baseName).replace(/[\\n=]/g, \"\");\n          daVarLookupRev[daNameOne] = daNameTwo;\n          daVarLookup[daNameTwo] = daNameOne;\n          daVarLookup[daNameThree] = daNameOne;\n          daVarLookupOption[key] = convertedName;\n          if (!daVarLookupRevMulti.hasOwnProperty(daNameOne)) {\n            daVarLookupRevMulti[daNameOne] = [];\n          }\n          daVarLookupRevMulti[daNameOne].push(daNameTwo);\n          if (!daVarLookupMulti.hasOwnProperty(daNameTwo)) {\n            daVarLookupMulti[daNameTwo] = [];\n          }\n          daVarLookupMulti[daNameTwo].push(daNameOne);\n          if (!daVarLookupMulti.hasOwnProperty(daNameThree)) {\n            daVarLookupMulti[daNameThree] = [];\n          }\n          daVarLookupMulti[daNameThree].push(daNameOne);\n          if (!daVarLookupMulti.hasOwnProperty(daNameBase)) {\n            daVarLookupMulti[daNameBase] = [];\n          }\n          daVarLookupMulti[daNameBase].push(daNameOne);\n        } else if (pattRaw.test(baseName)) {\n          bracketPart = checkboxName.replace(\n            /^.*(\\[R?['\"][^\\]]*['\"]\\])$/,\n            \"$1\",\n          );\n          checkboxName = checkboxName.replace(\n            /^.*\\[R?['\"]([^\\]]*)['\"]\\]$/,\n            \"$1\",\n          );\n          baseName = baseName.replace(/^(.*)\\[.*/, \"$1\");\n          var transBaseName = baseName;\n          if (\n            $(\"[name='\" + key + \"']\").length == 0 &&\n            typeof daVarLookup[utoa(transBaseName).replace(/[\\n=]/g, \"\")] !=\n              \"undefined\"\n          ) {\n            transBaseName = atou(\n              daVarLookup[utoa(transBaseName).replace(/[\\n=]/g, \"\")],\n            );\n          }\n          var convertedName;\n          try {\n            convertedName = atou(checkboxName);\n          } catch (e) {\n            continue;\n          }\n          var daNameOne = utoa(transBaseName + bracketPart).replace(\n            /[\\n=]/g,\n            \"\",\n          );\n          var daNameTwo = utoa(baseName + \"[\" + convertedName + \"]\").replace(\n            /[\\n=]/g,\n            \"\",\n          );\n          var daNameBase = utoa(baseName).replace(/[\\n=]/g, \"\");\n          daVarLookupRev[daNameOne] = daNameTwo;\n          daVarLookup[daNameTwo] = daNameOne;\n          daVarLookupOption[key] = convertedName;\n          if (!daVarLookupRevMulti.hasOwnProperty(daNameOne)) {\n            daVarLookupRevMulti[daNameOne] = [];\n          }\n          daVarLookupRevMulti[daNameOne].push(daNameTwo);\n          if (!daVarLookupMulti.hasOwnProperty(daNameTwo)) {\n            daVarLookupMulti[daNameTwo] = [];\n          }\n          daVarLookupMulti[daNameTwo].push(daNameOne);\n          if (!daVarLookupMulti.hasOwnProperty(daNameBase)) {\n            daVarLookupMulti[daNameBase] = [];\n          }\n          daVarLookupMulti[daNameBase].push(daNameOne);\n        }\n      }\n    }\n  }\n  daShowIfInProcess = true;\n  var daTriggerQueries = [];\n  var daInputsSeen = {};\n  function daOnlyUnique(value, index, self) {\n    return self.indexOf(value) === index;\n  }\n  $(\".dajsshowif\").each(function () {\n    var showIfDiv = this;\n    var jsInfo = JSON.parse(atou($(this).data(\"jsshowif\")));\n    var showIfSign = jsInfo[\"sign\"];\n    var showIfMode = jsInfo[\"mode\"];\n    var jsExpression = jsInfo[\"expression\"];\n    jsInfo[\"vars\"].forEach(function (infoItem, i) {\n      var showIfVars = [];\n      var initShowIfVar = utoa(infoItem).replace(/[\\n=]/g, \"\");\n      var initShowIfVarEscaped = initShowIfVar.replace(\n        /(:|\\.|\\[|\\]|,|=)/g,\n        \"\\\\$1\",\n      );\n      var elem = $(\"[name='\" + initShowIfVarEscaped + \"']\");\n      if (elem.length > 0) {\n        showIfVars.push(initShowIfVar);\n      }\n      if (daVarLookupMulti.hasOwnProperty(initShowIfVar)) {\n        for (var j = 0; j < daVarLookupMulti[initShowIfVar].length; j++) {\n          var altShowIfVar = daVarLookupMulti[initShowIfVar][j];\n          var altShowIfVarEscaped = altShowIfVar.replace(\n            /(:|\\.|\\[|\\]|,|=)/g,\n            \"\\\\$1\",\n          );\n          var altElem = $(\"[name='\" + altShowIfVarEscaped + \"']\");\n          if (altElem.length > 0 && !$.contains(this, altElem[0])) {\n            showIfVars.push(altShowIfVar);\n          }\n        }\n      }\n      if (showIfVars.length == 0) {\n        console.log(\"ERROR: reference to non-existent field \" + infoItem);\n      }\n      showIfVars.forEach(function (showIfVar) {\n        var showIfVarEscaped = showIfVar.replace(/(:|\\.|\\[|\\]|,|=)/g, \"\\\\$1\");\n        var varToUse = infoItem;\n        var showHideDiv = function (speed) {\n          var elem = daGetField(varToUse);\n          if (\n            elem != null &&\n            !$(elem)\n              .parents(\".da-form-group\")\n              .first()\n              .is($(this).parents(\".da-form-group\").first())\n          ) {\n            return;\n          }\n          var resultt = eval(jsExpression);\n          if (resultt) {\n            if (showIfSign) {\n              if ($(showIfDiv).data(\"isVisible\") != \"1\") {\n                daShowHideHappened = true;\n              }\n              if (showIfMode == 0) {\n                $(showIfDiv).show(speed);\n              }\n              $(showIfDiv).data(\"isVisible\", \"1\");\n              $(showIfDiv)\n                .find(\"input, textarea, select\")\n                .prop(\"disabled\", false);\n              $(showIfDiv)\n                .find(\"input.combobox\")\n                .each(function () {\n                  daComboBoxes[$(this).attr(\"id\")].enable();\n                });\n              $(showIfDiv)\n                .find(\"input.daslider\")\n                .each(function () {\n                  $(this).slider(\"enable\");\n                });\n              $(showIfDiv)\n                .find(\"input.dafile\")\n                .each(function () {\n                  $(this).data(\"fileinput\").enable();\n                });\n            } else {\n              if ($(showIfDiv).data(\"isVisible\") != \"0\") {\n                daShowHideHappened = true;\n              }\n              if (showIfMode == 0) {\n                $(showIfDiv).hide(speed);\n              }\n              $(showIfDiv).data(\"isVisible\", \"0\");\n              $(showIfDiv)\n                .find(\"input, textarea, select\")\n                .prop(\"disabled\", true);\n              $(showIfDiv)\n                .find(\"input.combobox\")\n                .each(function () {\n                  daComboBoxes[$(this).attr(\"id\")].disable();\n                });\n              $(showIfDiv)\n                .find(\"input.daslider\")\n                .each(function () {\n                  $(this).slider(\"disable\");\n                });\n              $(showIfDiv)\n                .find(\"input.dafile\")\n                .each(function () {\n                  $(this).data(\"fileinput\").disable();\n                });\n            }\n          } else {\n            if (showIfSign) {\n              if ($(showIfDiv).data(\"isVisible\") != \"0\") {\n                daShowHideHappened = true;\n              }\n              if (showIfMode == 0) {\n                $(showIfDiv).hide(speed);\n              }\n              $(showIfDiv).data(\"isVisible\", \"0\");\n              $(showIfDiv)\n                .find(\"input, textarea, select\")\n                .prop(\"disabled\", true);\n              $(showIfDiv)\n                .find(\"input.combobox\")\n                .each(function () {\n                  daComboBoxes[$(this).attr(\"id\")].disable();\n                });\n              $(showIfDiv)\n                .find(\"input.daslider\")\n                .each(function () {\n                  $(this).slider(\"disable\");\n                });\n              $(showIfDiv)\n                .find(\"input.dafile\")\n                .each(function () {\n                  $(this).data(\"fileinput\").disable();\n                });\n            } else {\n              if ($(showIfDiv).data(\"isVisible\") != \"1\") {\n                daShowHideHappened = true;\n              }\n              if (showIfMode == 0) {\n                $(showIfDiv).show(speed);\n              }\n              $(showIfDiv).data(\"isVisible\", \"1\");\n              $(showIfDiv)\n                .find(\"input, textarea, select\")\n                .prop(\"disabled\", false);\n              $(showIfDiv)\n                .find(\"input.combobox\")\n                .each(function () {\n                  daComboBoxes[$(this).attr(\"id\")].enable();\n                });\n              $(showIfDiv)\n                .find(\"input.daslider\")\n                .each(function () {\n                  $(this).slider(\"enable\");\n                });\n              $(showIfDiv)\n                .find(\"input.dafile\")\n                .each(function () {\n                  $(this).data(\"fileinput\").enable();\n                });\n            }\n          }\n          var leader = false;\n          if (!daShowIfInProcess) {\n            daShowIfInProcess = true;\n            daInputsSeen = {};\n            leader = true;\n          }\n          $(showIfDiv)\n            .find(\":input\")\n            .not(\"[type='file']\")\n            .each(function () {\n              if (!daInputsSeen.hasOwnProperty($(this).attr(\"id\"))) {\n                $(this).trigger(\"change\");\n              }\n              daInputsSeen[$(this).attr(\"id\")] = true;\n            });\n          if (leader) {\n            daShowIfInProcess = false;\n          }\n        };\n        var showHideDivImmediate = function () {\n          showHideDiv.apply(this, [null]);\n        };\n        var showHideDivFast = function () {\n          showHideDiv.apply(this, [\"fast\"]);\n        };\n        daTriggerQueries.push(\"#\" + showIfVarEscaped);\n        daTriggerQueries.push(\n          \"input[type='radio'][name='\" + showIfVarEscaped + \"']\",\n        );\n        daTriggerQueries.push(\n          \"input[type='checkbox'][name='\" + showIfVarEscaped + \"']\",\n        );\n        $(\"#\" + showIfVarEscaped).change(showHideDivFast);\n        $(\"input[type='radio'][name='\" + showIfVarEscaped + \"']\").change(\n          showHideDivFast,\n        );\n        $(\"input[type='checkbox'][name='\" + showIfVarEscaped + \"']\").change(\n          showHideDivFast,\n        );\n        $(\"input.dafile[name='\" + showIfVarEscaped + \"']\").on(\n          \"filecleared\",\n          showHideDivFast,\n        );\n        $(\"#\" + showIfVarEscaped).on(\"daManualTrigger\", showHideDivImmediate);\n        $(\"input[type='radio'][name='\" + showIfVarEscaped + \"']\").on(\n          \"daManualTrigger\",\n          showHideDivImmediate,\n        );\n        $(\"input[type='checkbox'][name='\" + showIfVarEscaped + \"']\").on(\n          \"daManualTrigger\",\n          showHideDivImmediate,\n        );\n      });\n    });\n  });\n  $(\".dashowif\").each(function () {\n    var showIfVars = [];\n    var showIfSign = $(this).data(\"showif-sign\");\n    var showIfMode = parseInt($(this).data(\"showif-mode\"));\n    var initShowIfVar = $(this).data(\"showif-var\");\n    var varName = atou(initShowIfVar);\n    var elem = [];\n    if (varName.endsWith(\"[nota]\") || varName.endsWith(\"[aota]\")) {\n      var signifier = varName.endsWith(\"[nota]\") ? \"nota\" : \"aota\";\n      var cbVarName = varName.replace(/\\[[na]ota\\]$/, \"\");\n      $(\"div.da-field-group.da-field-checkboxes\").each(function () {\n        var thisVarName = atou($(this).data(\"varname\"));\n        if (thisVarName == cbVarName) {\n          elem = $(this).find(\"input.da\" + signifier + \"-checkbox\");\n          initShowIfVar = $(elem).attr(\"name\");\n        }\n      });\n    } else {\n      var initShowIfVarEscaped = initShowIfVar.replace(\n        /(:|\\.|\\[|\\]|,|=)/g,\n        \"\\\\$1\",\n      );\n      elem = $(\"[name='\" + initShowIfVarEscaped + \"']\");\n    }\n    if (elem.length > 0) {\n      showIfVars.push(initShowIfVar);\n    }\n    if (daVarLookupMulti.hasOwnProperty(initShowIfVar)) {\n      var n = daVarLookupMulti[initShowIfVar].length;\n      for (var i = 0; i < n; i++) {\n        var altShowIfVar = daVarLookupMulti[initShowIfVar][i];\n        var altShowIfVarEscaped = altShowIfVar.replace(\n          /(:|\\.|\\[|\\]|,|=)/g,\n          \"\\\\$1\",\n        );\n        var altElem = $(\"[name='\" + altShowIfVarEscaped + \"']\");\n        if (altElem.length > 0 && !$.contains(this, altElem[0])) {\n          showIfVars.push(altShowIfVar);\n        }\n      }\n    }\n    var showIfVal = $(this).data(\"showif-val\");\n    var saveAs = $(this).data(\"saveas\");\n    var showIfDiv = this;\n    showIfVars.forEach(function (showIfVar) {\n      var showIfVarEscaped = showIfVar.replace(/(:|\\.|\\[|\\]|,|=)/g, \"\\\\$1\");\n      var showHideDiv = function (speed) {\n        var elem = daGetField(varName, showIfDiv);\n        if (\n          elem != null &&\n          !$(elem)\n            .parents(\".da-form-group\")\n            .first()\n            .is($(this).parents(\".da-form-group\").first())\n        ) {\n          return;\n        }\n        var theVal;\n        var showifParents = $(this).parents(\".dashowif\");\n        if (\n          showifParents.length !== 0 &&\n          !($(showifParents[0]).data(\"isVisible\") == \"1\")\n        ) {\n          theVal = \"\";\n          //console.log(\"Setting theVal to blank.\");\n        } else if ($(this).attr(\"type\") == \"checkbox\") {\n          theVal = $(\"input[name='\" + showIfVarEscaped + \"']:checked\").val();\n          if (typeof theVal == \"undefined\") {\n            //console.log('manually setting checkbox value to False');\n            theVal = \"False\";\n          }\n        } else if ($(this).attr(\"type\") == \"radio\") {\n          theVal = $(\"input[name='\" + showIfVarEscaped + \"']:checked\").val();\n          if (typeof theVal == \"undefined\") {\n            theVal = \"\";\n          } else if (\n            theVal != \"\" &&\n            $(\"input[name='\" + showIfVarEscaped + \"']:checked\").hasClass(\n              \"daobject\",\n            )\n          ) {\n            try {\n              theVal = atou(theVal);\n            } catch (e) {}\n          }\n        } else {\n          theVal = $(this).val();\n          if (theVal != \"\" && $(this).hasClass(\"daobject\")) {\n            try {\n              theVal = atou(theVal);\n            } catch (e) {}\n          }\n        }\n        // console.log(\"There was a trigger on \" + $(this).attr('id') + \". This handler was installed based on varName \" + varName + \", showIfVar \" + atou(showIfVar) + \". This handler was installed for the benefit of the .dashowif div encompassing the field for \" + atou(saveAs) + \". The comparison value is \" + String(showIfVal) + \" and the current value of the element on the screen is \" + String(theVal) + \".\");\n        if (daShowIfCompare(theVal, showIfVal)) {\n          if (showIfSign) {\n            if ($(showIfDiv).data(\"isVisible\") != \"1\") {\n              daShowHideHappened = true;\n            }\n            if (showIfMode == 0) {\n              $(showIfDiv).show(speed);\n            }\n            $(showIfDiv).data(\"isVisible\", \"1\");\n            var firstChild = $(showIfDiv).children()[0];\n            if (\n              !$(firstChild).hasClass(\"dacollectextra\") ||\n              $(firstChild).is(\":visible\")\n            ) {\n              $(showIfDiv)\n                .find(\"input, textarea, select\")\n                .prop(\"disabled\", false);\n              $(showIfDiv)\n                .find(\"input.combobox\")\n                .each(function () {\n                  daComboBoxes[$(this).attr(\"id\")].enable();\n                });\n              $(showIfDiv)\n                .find(\"input.daslider\")\n                .each(function () {\n                  $(this).slider(\"enable\");\n                });\n              $(showIfDiv)\n                .find(\"input.dafile\")\n                .each(function () {\n                  $(this).data(\"fileinput\").enable();\n                });\n            }\n          } else {\n            if ($(showIfDiv).data(\"isVisible\") != \"0\") {\n              daShowHideHappened = true;\n            }\n            if (showIfMode == 0) {\n              $(showIfDiv).hide(speed);\n            }\n            $(showIfDiv).data(\"isVisible\", \"0\");\n            $(showIfDiv).find(\"input, textarea, select\").prop(\"disabled\", true);\n            $(showIfDiv)\n              .find(\"input.combobox\")\n              .each(function () {\n                daComboBoxes[$(this).attr(\"id\")].disable();\n              });\n            $(showIfDiv)\n              .find(\"input.daslider\")\n              .each(function () {\n                $(this).slider(\"disable\");\n              });\n            $(showIfDiv)\n              .find(\"input.dafile\")\n              .each(function () {\n                $(this).data(\"fileinput\").disable();\n              });\n          }\n        } else {\n          if (showIfSign) {\n            if ($(showIfDiv).data(\"isVisible\") != \"0\") {\n              daShowHideHappened = true;\n            }\n            if (showIfMode == 0) {\n              $(showIfDiv).hide(speed);\n            }\n            $(showIfDiv).data(\"isVisible\", \"0\");\n            $(showIfDiv).find(\"input, textarea, select\").prop(\"disabled\", true);\n            $(showIfDiv)\n              .find(\"input.combobox\")\n              .each(function () {\n                daComboBoxes[$(this).attr(\"id\")].disable();\n              });\n            $(showIfDiv)\n              .find(\"input.daslider\")\n              .each(function () {\n                $(this).slider(\"disable\");\n              });\n            $(showIfDiv)\n              .find(\"input.dafile\")\n              .each(function () {\n                $(this).data(\"fileinput\").disable();\n              });\n          } else {\n            if ($(showIfDiv).data(\"isVisible\") != \"1\") {\n              daShowHideHappened = true;\n            }\n            if (showIfMode == 0) {\n              $(showIfDiv).show(speed);\n            }\n            $(showIfDiv).data(\"isVisible\", \"1\");\n            var firstChild = $(showIfDiv).children()[0];\n            if (\n              !$(firstChild).hasClass(\"dacollectextra\") ||\n              $(firstChild).is(\":visible\")\n            ) {\n              $(showIfDiv)\n                .find(\"input, textarea, select\")\n                .prop(\"disabled\", false);\n              $(showIfDiv)\n                .find(\"input.combobox\")\n                .each(function () {\n                  daComboBoxes[$(this).attr(\"id\")].enable();\n                });\n              $(showIfDiv)\n                .find(\"input.daslider\")\n                .each(function () {\n                  $(this).slider(\"enable\");\n                });\n              $(showIfDiv)\n                .find(\"input.dafile\")\n                .each(function () {\n                  $(this).data(\"fileinput\").enable();\n                });\n            }\n          }\n        }\n        var leader = false;\n        if (!daShowIfInProcess) {\n          daShowIfInProcess = true;\n          daInputsSeen = {};\n          leader = true;\n        }\n        $(showIfDiv)\n          .find(\":input\")\n          .not(\"[type='file']\")\n          .each(function () {\n            if (!daInputsSeen.hasOwnProperty($(this).attr(\"id\"))) {\n              $(this).trigger(\"change\");\n            }\n            daInputsSeen[$(this).attr(\"id\")] = true;\n          });\n        if (leader) {\n          daShowIfInProcess = false;\n        }\n      };\n      var showHideDivImmediate = function () {\n        showHideDiv.apply(this, [null]);\n      };\n      var showHideDivFast = function () {\n        showHideDiv.apply(this, [\"fast\"]);\n      };\n      daTriggerQueries.push(\"#\" + showIfVarEscaped);\n      daTriggerQueries.push(\n        \"input[type='radio'][name='\" + showIfVarEscaped + \"']\",\n      );\n      daTriggerQueries.push(\n        \"input[type='checkbox'][name='\" + showIfVarEscaped + \"']\",\n      );\n      $(\"#\" + showIfVarEscaped).change(showHideDivFast);\n      $(\"#\" + showIfVarEscaped).on(\"daManualTrigger\", showHideDivImmediate);\n      $(\"input[type='radio'][name='\" + showIfVarEscaped + \"']\").change(\n        showHideDivFast,\n      );\n      $(\"input[type='radio'][name='\" + showIfVarEscaped + \"']\").on(\n        \"daManualTrigger\",\n        showHideDivImmediate,\n      );\n      $(\"input[type='checkbox'][name='\" + showIfVarEscaped + \"']\").change(\n        showHideDivFast,\n      );\n      $(\"input[type='checkbox'][name='\" + showIfVarEscaped + \"']\").on(\n        \"daManualTrigger\",\n        showHideDivImmediate,\n      );\n      $(\"input.dafile[name='\" + showIfVarEscaped + \"']\").on(\n        \"filecleared\",\n        showHideDivFast,\n      );\n    });\n  });\n  function daTriggerAllShowHides() {\n    var daUniqueTriggerQueries = daTriggerQueries.filter(daOnlyUnique);\n    var daFirstTime = true;\n    var daTries = 0;\n    while ((daFirstTime || daShowHideHappened) && ++daTries < 100) {\n      daShowHideHappened = false;\n      daFirstTime = false;\n      var n = daUniqueTriggerQueries.length;\n      for (var i = 0; i < n; ++i) {\n        $(daUniqueTriggerQueries[i]).trigger(\"daManualTrigger\");\n      }\n    }\n    if (daTries >= 100) {\n      console.log(\"Too many contradictory 'show if' conditions\");\n    }\n  }\n  if (daTriggerQueries.length > 0) {\n    daTriggerAllShowHides();\n  }\n  $(\".danavlink\").last().addClass(\"thelast\");\n  $(\".danavlink\").each(function () {\n    if ($(this).hasClass(\"btn\") && !$(this).hasClass(\"danotavailableyet\")) {\n      var the_a = $(this);\n      var the_delay = 1000 + 250 * parseInt($(this).data(\"index\"));\n      setTimeout(function () {\n        $(the_a).removeClass(daButtonStyle + \"secondary\");\n        if ($(the_a).hasClass(\"active\")) {\n          $(the_a).addClass(daButtonStyle + \"success\");\n        } else {\n          $(the_a).addClass(daButtonStyle + \"warning\");\n        }\n      }, the_delay);\n    }\n  });\n  daShowIfInProcess = false;\n  if (!daObserverMode) {\n    $(\"#daSend\").click(daSender);\n    if (daChatAvailable == \"unavailable\") {\n      daChatStatus = \"off\";\n    }\n    if (daChatAvailable == \"observeonly\") {\n      daChatStatus = \"observeonly\";\n    }\n    if (\n      (daChatStatus == \"off\" || daChatStatus == \"observeonly\") &&\n      daChatAvailable == \"available\"\n    ) {\n      daChatStatus = \"waiting\";\n    }\n    daDisplayChat();\n    if (daBeingControlled) {\n      daShowControl(\"fast\");\n    }\n    if (daChatStatus == \"ready\" || daBeingControlled) {\n      daInitializeSocket();\n    }\n    if (daInitialized == false && daCheckinSeconds > 0) {\n      // why was this set to always retrieve the chat log?\n      setTimeout(function () {\n        //console.log(\"daInitialize call to chat_log in checkin\");\n        $.ajax({\n          type: \"POST\",\n          url: daCheckinUrlWithInterview,\n          beforeSend: addCsrfHeader,\n          xhrFields: {\n            withCredentials: true,\n          },\n          data: $.param({ action: \"chat_log\", ajax: \"1\", csrf_token: daCsrf }),\n          success: daChatLogCallback,\n          dataType: \"json\",\n        });\n      }, 200);\n    }\n    if (daInitialized == true) {\n      //console.log(\"Publishing from memory\");\n      $(\"#daCorrespondence\").html(\"\");\n      for (var i = 0; i < daChatHistory.length; i++) {\n        daPublishMessage(daChatHistory[i]);\n      }\n    }\n    if (daChatStatus != \"off\") {\n      daSendChanges = true;\n    } else {\n      if (daDoAction == null) {\n        daSendChanges = false;\n      } else {\n        daSendChanges = true;\n      }\n    }\n  }\n  if (daSendChanges || daObserverMode) {\n    $(\"#daform\").each(function () {\n      $(this).find(\":input\").change(daOnChange);\n    });\n  }\n  daInitialized = true;\n  daShowingHelp = 0;\n  daSubmitter = null;\n  $(\"#daflash .alert-success\").each(function () {\n    var oThis = this;\n    setTimeout(function () {\n      $(oThis).hide(300, function () {\n        $(self).remove();\n      });\n    }, 3000);\n  });\n  if (doScroll && !daObserverMode) {\n    setTimeout(function () {\n      if (daJsEmbed) {\n        $(daTargetDiv)[0].scrollTo(0, 1);\n        if (daSteps > 1) {\n          $(daTargetDiv)[0].scrollIntoView();\n        }\n      } else {\n        window.scrollTo(0, 1);\n      }\n    }, 20);\n  }\n  if (daShowingSpinner) {\n    daHideSpinner();\n  }\n  if (!daObserverMode) {\n    if (daCheckinInterval != null) {\n      clearInterval(daCheckinInterval);\n    }\n    if (daCheckinSeconds > 0) {\n      setTimeout(daInitialCheckin, 100);\n      daCheckinInterval = setInterval(daCheckin, daCheckinSeconds);\n    }\n    daShowNotifications();\n    if (daUsingGA) {\n      daPageview();\n    }\n    if (daUsingSegment) {\n      daSegmentEvent();\n    }\n    hideTablist();\n  }\n}\nfunction daUpdateHeight() {\n  $(\".dagooglemap\").each(function () {\n    var size = $(this).width();\n    $(this).css(\"height\", size);\n  });\n}\nfunction daConfigureJqueryFuncs() {\n  // prototype to\tstart drawing on touch using canvas moveTo and lineTo\n  $.fn.drawTouch = function () {\n    var start = function (e) {\n      e = e.originalEvent;\n      x = e.changedTouches[0].pageX - $(\"#dasigcanvas\").offset().left;\n      y = e.changedTouches[0].pageY - $(\"#dasigcanvas\").offset().top;\n      daCtx.beginPath();\n      daCtx.arc(x, y, 0.5 * daTheWidth, 0, 2 * Math.PI);\n      daCtx.fill();\n      daCtx.beginPath();\n      daCtx.lineJoin = \"round\";\n      daCtx.moveTo(x, y);\n      if (daIsEmpty) {\n        $(\".dasigsave\").prop(\"disabled\", false);\n        daIsEmpty = 0;\n      }\n    };\n    var move = function (e) {\n      e.preventDefault();\n      e = e.originalEvent;\n      x = e.changedTouches[0].pageX - $(\"#dasigcanvas\").offset().left;\n      y = e.changedTouches[0].pageY - $(\"#dasigcanvas\").offset().top;\n      daCtx.lineTo(x, y);\n      daCtx.stroke();\n      if (daIsEmpty) {\n        daIsEmpty = 0;\n      }\n      //daCtx.fillRect(x-0.5*daTheWidth,y-0.5*daTheWidth,daTheWidth,daTheWidth);\n      //daCtx.beginPath();\n      //daCtx.arc(x, y, 0.5*daTheWidth, 0, 2*Math.PI);\n      //daCtx.fill();\n    };\n    var moveline = function (e) {\n      move(e);\n    };\n    var dot = function (e) {\n      e.preventDefault();\n      e = e.originalEvent;\n      daCtx.lineJoin = \"round\";\n      x = e.pageX - $(\"#dasigcanvas\").offset().left;\n      y = e.pageY - $(\"#dasigcanvas\").offset().top;\n      daCtx.beginPath();\n      daCtx.arc(x, y, 0.5 * daTheWidth, 0, 2 * Math.PI);\n      daCtx.fill();\n      daCtx.moveTo(x, y);\n      if (daIsEmpty) {\n        daIsEmpty = 0;\n      }\n      //daCtx.fillRect(x-0.5*daTheWidth,y-0.5*daTheWidth,daTheWidth,daTheWidth);\n      //console.log(\"Got click\");\n    };\n    $(this).on(\"click\", dot);\n    $(this).on(\"touchend\", moveline);\n    $(this).on(\"touchcancel\", moveline);\n    $(this).on(\"touchstart\", start);\n    $(this).on(\"touchmove\", move);\n  };\n\n  // prototype to\tstart drawing on pointer(microsoft ie) using canvas moveTo and lineTo\n  $.fn.drawPointer = function () {\n    var start = function (e) {\n      e = e.originalEvent;\n      daCtx.beginPath();\n      daCtx.lineJoin = \"round\";\n      x = e.pageX - $(\"#dasigcanvas\").offset().left;\n      y = e.pageY - $(\"#dasigcanvas\").offset().top;\n      daCtx.moveTo(x, y);\n      if (daIsEmpty) {\n        daIsEmpty = 0;\n      }\n      //daCtx.arc(x, y, 0.5*daTheWidth, 0, 2*Math.PI);\n      //daCtx.fill();\n    };\n    var move = function (e) {\n      e.preventDefault();\n      e = e.originalEvent;\n      x = e.pageX - $(\"#dasigcanvas\").offset().left;\n      y = e.pageY - $(\"#dasigcanvas\").offset().top;\n      daCtx.lineTo(x, y);\n      daCtx.stroke();\n      daCtx.beginPath();\n      daCtx.arc(x, y, 0.5 * daTheWidth, 0, 2 * Math.PI);\n      daCtx.fill();\n      daCtx.beginPath();\n      daCtx.moveTo(x, y);\n      if (daIsEmpty) {\n        daIsEmpty = 0;\n      }\n    };\n    var moveline = function (e) {\n      move(e);\n    };\n    $(this).on(\"MSPointerDown\", start);\n    $(this).on(\"MSPointerMove\", move);\n    $(this).on(\"MSPointerUp\", moveline);\n  };\n\n  // prototype to\tstart drawing on mouse using canvas moveTo and lineTo\n  $.fn.drawMouse = function () {\n    var clicked = 0;\n    var start = function (e) {\n      clicked = 1;\n      x = e.pageX - $(\"#dasigcanvas\").offset().left;\n      y = e.pageY - $(\"#dasigcanvas\").offset().top;\n      daCtx.beginPath();\n      daCtx.arc(x, y, 0.5 * daTheWidth, 0, 2 * Math.PI);\n      daCtx.fill();\n      daCtx.beginPath();\n      daCtx.lineJoin = \"round\";\n      daCtx.moveTo(x, y);\n      if (daIsEmpty) {\n        daIsEmpty = 0;\n      }\n    };\n    var move = function (e) {\n      if (clicked) {\n        x = e.pageX - $(\"#dasigcanvas\").offset().left;\n        y = e.pageY - $(\"#dasigcanvas\").offset().top;\n        daCtx.lineTo(x, y);\n        daCtx.stroke();\n        daCtx.beginPath();\n        daCtx.arc(x, y, 0.5 * daTheWidth, 0, 2 * Math.PI);\n        daCtx.fill();\n        daCtx.beginPath();\n        daCtx.moveTo(x, y);\n        if (daIsEmpty) {\n          daIsEmpty = 0;\n        }\n      }\n    };\n    var stop = function (e) {\n      move(e);\n      clicked = 0;\n      return true;\n    };\n    $(this).on(\"mousedown\", start);\n    $(this).on(\"mousemove\", move);\n    $(window).on(\"mouseup\", stop);\n  };\n  $.validator.setDefaults({\n    highlight: function (element) {\n      $(element).closest(\".da-form-group\").addClass(\"da-group-has-error\");\n      $(element).addClass(\"is-invalid\");\n    },\n    unhighlight: function (element) {\n      $(element).closest(\".da-form-group\").removeClass(\"da-group-has-error\");\n      $(element).removeClass(\"is-invalid\");\n    },\n    errorElement: \"span\",\n    errorClass: \"da-has-error invalid-feedback\",\n    errorPlacement: function (error, element) {\n      $(error).addClass(\"invalid-feedback\");\n      var elementName = $(element).attr(\"name\");\n      var idOfErrorSpan = $(element).attr(\"id\") + \"-error\";\n      $(\"#\" + idOfErrorSpan).remove();\n      $(error).attr(\"id\", idOfErrorSpan);\n      $(element).attr(\"aria-invalid\", \"true\");\n      $(element).attr(\"aria-errormessage\", idOfErrorSpan);\n      var lastInGroup = $.map(\n        daValidationRules[\"groups\"],\n        function (thefields, thename) {\n          var fieldsArr;\n          if (thefields.indexOf(elementName) >= 0) {\n            fieldsArr = thefields.split(\" \");\n            return fieldsArr[fieldsArr.length - 1];\n          } else {\n            return null;\n          }\n        },\n      )[0];\n      if (element.hasClass(\"dainput-embedded\")) {\n        error.insertAfter(element);\n      } else if (element.hasClass(\"dafile-embedded\")) {\n        error.insertAfter(element);\n      } else if (element.hasClass(\"daradio-embedded\")) {\n        element.parent().append(error);\n      } else if (element.hasClass(\"dacheckbox-embedded\")) {\n        element.parent().append(error);\n      } else if (element.hasClass(\"dauncheckable\") && lastInGroup) {\n        $(\"input[name='\" + lastInGroup + \"']\")\n          .parent()\n          .append(error);\n      } else if (element.parent().hasClass(\"combobox-container\")) {\n        error.insertAfter(element.parent());\n      } else if (element.hasClass(\"dafile\")) {\n        var fileContainer = $(element).parents(\".file-input\").first();\n        if (fileContainer.length > 0) {\n          $(fileContainer).append(error);\n        } else {\n          error.insertAfter(element.parent());\n        }\n      } else if (element.parent(\".input-group\").length) {\n        error.insertAfter(element.parent());\n      } else if (element.hasClass(\"da-active-invisible\")) {\n        var choice_with_help = $(element).parents(\".dachoicewithhelp\").first();\n        if (choice_with_help.length > 0) {\n          $(choice_with_help).parent().append(error);\n        } else {\n          element.parent().append(error);\n        }\n      } else if (element.hasClass(\"danon-nota-checkbox\")) {\n        element.parents(\"div.da-field-group\").append(error);\n      } else {\n        error.insertAfter(element);\n      }\n    },\n  });\n  $.validator.addMethod(\"datetime\", function (a, b) {\n    return true;\n  });\n  $.validator.addMethod(\"ajaxrequired\", function (value, element, params) {\n    var realElement = $(\"#\" + $(element).attr(\"name\") + \"combobox\");\n    var realValue = $(realElement).val();\n    if (!$(realElement).parent().is(\":visible\")) {\n      return true;\n    }\n    if (realValue == null || realValue.replace(/\\s/g, \"\") == \"\") {\n      return false;\n    }\n    return true;\n  });\n  $.validator.addMethod(\"checkone\", function (value, element, params) {\n    var number_needed = params[0];\n    var css_query = params[1];\n    if ($(css_query).length >= number_needed) {\n      return true;\n    } else {\n      return false;\n    }\n  });\n  $.validator.addMethod(\"checkatleast\", function (value, element, params) {\n    if ($(element).attr(\"name\") != \"_ignore\" + params[0]) {\n      return true;\n    }\n    if ($(\".dafield\" + params[0] + \":checked\").length >= params[1]) {\n      return true;\n    } else {\n      return false;\n    }\n  });\n  $.validator.addMethod(\"checkatmost\", function (value, element, params) {\n    if ($(element).attr(\"name\") != \"_ignore\" + params[0]) {\n      return true;\n    }\n    if ($(\".dafield\" + params[0] + \":checked\").length > params[1]) {\n      return false;\n    } else {\n      return true;\n    }\n  });\n  $.validator.addMethod(\"checkexactly\", function (value, element, params) {\n    if ($(element).attr(\"name\") != \"_ignore\" + params[0]) {\n      return true;\n    }\n    if ($(\".dafield\" + params[0] + \":checked\").length != params[1]) {\n      return false;\n    } else {\n      return true;\n    }\n  });\n  $.validator.addMethod(\"selectexactly\", function (value, element, params) {\n    if ($(element).find(\"option:selected\").length == params[0]) {\n      return true;\n    } else {\n      return false;\n    }\n  });\n  $.validator.addMethod(\"mindate\", function (value, element, params) {\n    if (value == null || value == \"\") {\n      return true;\n    }\n    try {\n      var date = new Date(value);\n      var comparator = new Date(params);\n      if (date >= comparator) {\n        return true;\n      }\n    } catch (e) {}\n    return false;\n  });\n  $.validator.addMethod(\"maxdate\", function (value, element, params) {\n    if (value == null || value == \"\") {\n      return true;\n    }\n    try {\n      var date = new Date(value);\n      var comparator = new Date(params);\n      if (date <= comparator) {\n        return true;\n      }\n    } catch (e) {}\n    return false;\n  });\n  $.validator.addMethod(\"minmaxdate\", function (value, element, params) {\n    if (value == null || value == \"\") {\n      return true;\n    }\n    try {\n      var date = new Date(value);\n      var before_comparator = new Date(params[0]);\n      var after_comparator = new Date(params[1]);\n      if (date >= before_comparator && date <= after_comparator) {\n        return true;\n      }\n    } catch (e) {}\n    return false;\n  });\n  $.validator.addMethod(\"mintime\", function (value, element, params) {\n    if (value == null || value == \"\") {\n      return true;\n    }\n    try {\n      var time = new Date(\"1970-01-01T\" + value + \"Z\");\n      var comparator = new Date(\"1970-01-01T\" + params + \"Z\");\n      if (time >= comparator) {\n        return true;\n      }\n    } catch (e) {}\n    return false;\n  });\n  $.validator.addMethod(\"maxtime\", function (value, element, params) {\n    if (value == null || value == \"\") {\n      return true;\n    }\n    try {\n      var time = new Date(\"1970-01-01T\" + value + \"Z\");\n      var comparator = new Date(\"1970-01-01T\" + params + \"Z\");\n      if (time <= comparator) {\n        return true;\n      }\n    } catch (e) {}\n    return false;\n  });\n  $.validator.addMethod(\"minmaxtime\", function (value, element, params) {\n    if (value == null || value == \"\") {\n      return true;\n    }\n    try {\n      var time = new Date(\"1970-01-01T\" + value + \"Z\");\n      var before_comparator = new Date(\"1970-01-01T\" + params[0] + \"Z\");\n      var after_comparator = new Date(\"1970-01-01T\" + params[1] + \"Z\");\n      if (time >= before_comparator && time <= after_comparator) {\n        return true;\n      }\n    } catch (e) {}\n    return false;\n  });\n  $.validator.addMethod(\"mindatetime\", function (value, element, params) {\n    if (value == null || value == \"\") {\n      return true;\n    }\n    try {\n      var datetime = new Date(value + \"Z\");\n      var comparator = new Date(params + \"Z\");\n      if (datetime >= comparator) {\n        return true;\n      }\n    } catch (e) {}\n    return false;\n  });\n  $.validator.addMethod(\"maxdatetime\", function (value, element, params) {\n    if (value == null || value == \"\") {\n      return true;\n    }\n    try {\n      var datetime = new Date(value + \"Z\");\n      var comparator = new Date(params + \"Z\");\n      if (datetime <= comparator) {\n        return true;\n      }\n    } catch (e) {}\n    return false;\n  });\n  $.validator.addMethod(\"minmaxdatetime\", function (value, element, params) {\n    if (value == null || value == \"\") {\n      return true;\n    }\n    try {\n      var datetime = new Date(value + \"Z\");\n      var before_comparator = new Date(params[0] + \"Z\");\n      var after_comparator = new Date(params[1] + \"Z\");\n      if (datetime >= before_comparator && datetime <= after_comparator) {\n        return true;\n      }\n    } catch (e) {}\n    return false;\n  });\n  $.validator.addMethod(\"maxuploadsize\", function (value, element, param) {\n    try {\n      var limit = parseInt(param) - 2000;\n      if (limit <= 0) {\n        return true;\n      }\n      var maxImageSize;\n      if ($(element).data(\"maximagesize\")) {\n        maxImageSize =\n          parseInt($(element).data(\"maximagesize\")) *\n          parseInt($(element).data(\"maximagesize\")) *\n          2;\n      } else {\n        maxImageSize = 0;\n      }\n      if ($(element).attr(\"type\") === \"file\") {\n        if (element.files && element.files.length) {\n          var totalSize = 0;\n          for (i = 0; i < element.files.length; i++) {\n            if (\n              maxImageSize > 0 &&\n              element.files[i].size > 0.2 * maxImageSize &&\n              element.files[i].type.match(/image.*/) &&\n              !(element.files[i].type.indexOf(\"image/svg\") == 0)\n            ) {\n              totalSize += maxImageSize;\n            } else {\n              totalSize += element.files[i].size;\n            }\n          }\n          if (totalSize > limit) {\n            return false;\n          }\n        }\n        return true;\n      }\n    } catch (e) {}\n    return false;\n  });\n}\nvar dataLayer = (window.dataLayer = window.dataLayer || []);\nfunction gtag() {\n  dataLayer.push(arguments);\n}\nfunction daPageview() {\n  var idToUse = daQuestionID[\"id\"];\n  if (daQuestionID[\"ga\"] != undefined && daQuestionID[\"ga\"] != null) {\n    idToUse = daQuestionID[\"ga\"];\n  }\n  if (idToUse != null) {\n    idToUse = idToUse.replace(/[^A-Za-z0-9]+/g, \"_\");\n    if (!daGAConfigured) {\n      var opts = { send_page_view: false };\n      if (daSecureCookies) {\n        opts[\"cookie_flags\"] = \"SameSite=None;Secure\";\n      }\n      for (var i = 0; i < daGaIds.length; i++) {\n        gtag(\"config\", daGaIds[i], opts);\n        daGAConfigured = true;\n      }\n    }\n    gtag(\n      \"set\",\n      \"page_path\",\n      daInterviewPackage + \"/\" + daInterviewFilename + \"/\" + idToUse,\n    );\n    gtag(\"event\", \"page_view\", {\n      page_path: daInterviewPackage + \"/\" + daInterviewFilename + \"/\" + idToUse,\n    });\n  }\n}\nfunction daStopPushChanges() {\n  if (daObserverChangesInterval != null) {\n    clearInterval(daObserverChangesInterval);\n  }\n}\nfunction daResetPushChanges() {\n  if (daObserverChangesInterval != null) {\n    clearInterval(daObserverChangesInterval);\n  }\n  daObserverChangesInterval = setInterval(daPushChanges, 6000);\n}\nfunction daReadyFunction() {\n  daInitialize(1);\n  //console.log(\"ready: replaceState \" + daSteps);\n  if (!daJsEmbed && !daIframeEmbed) {\n    history.replaceState(\n      { steps: daSteps },\n      \"\",\n      daLocationBar + daPageSep + daSteps,\n    );\n  }\n  var daReloadAfter = daReloadAfterSeconds;\n  if (daReloadAfter > 0) {\n    daReloader = setTimeout(function () {\n      daRefreshSubmit();\n    }, daReloadAfter);\n  }\n  if (daUsingGA && !daObserverMode) {\n    gtag(\"js\", new Date());\n  }\n  window.onpopstate = function (event) {\n    if (\n      event.state != null &&\n      event.state.steps < daSteps &&\n      daAllowGoingBack\n    ) {\n      $(\"#dabackbutton\").submit();\n    }\n  };\n  $(window).bind(\"unload\", function () {\n    if (!daObserverMode) {\n      daStopCheckingIn();\n    }\n    if (daSocket != null && daSocket.connected) {\n      //console.log('Terminating interview socket because window unloaded');\n      daSocket.emit(\"terminate\");\n    }\n  });\n  var daDefaultAllowList = bootstrap.Tooltip.Default.allowList;\n  daDefaultAllowList[\"*\"].push(\"style\");\n  daDefaultAllowList[\"a\"].push(\"style\");\n  daDefaultAllowList[\"img\"].push(\"style\");\n  if (daJsEmbed) {\n    $.ajax({\n      type: \"POST\",\n      url: daPostURL,\n      beforeSend: addCsrfHeader,\n      xhrFields: {\n        withCredentials: true,\n      },\n      data: \"csrf_token=\" + daCsrf + \"&ajax=1\",\n      success: function (data) {\n        setTimeout(function () {\n          daProcessAjax(data, $(\"#daform\"), 0);\n        }, 0);\n      },\n      error: function (xhr, status, error) {\n        setTimeout(function () {\n          daProcessAjaxError(xhr, status, error);\n        }, 0);\n      },\n    });\n  }\n  if (daObserverMode) {\n    if (\n      location.protocol === \"http:\" ||\n      document.location.protocol === \"http:\"\n    ) {\n      daSocket = io.connect(\"http://\" + document.domain + \"/observer\", {\n        path: daRootUrl + \"/ws/socket.io\",\n        query: \"i=\" + daYamlFilename,\n      });\n    }\n    if (\n      location.protocol === \"https:\" ||\n      document.location.protocol === \"https:\"\n    ) {\n      daSocket = io.connect(\"https://\" + document.domain + \"/observer\", {\n        path: daRootUrl + \"/ws/socket.io\",\n        query: \"i=\" + daYamlFilename,\n      });\n    }\n    if (typeof daSocket !== \"undefined\") {\n      daSocket.on(\"connect\", function () {\n        //console.log(\"Connected!\");\n        daSocket.emit(\"observe\", {\n          uid: daUid,\n          i: daYamlFilename,\n          userid: daUserObserved,\n        });\n        daConnected = true;\n      });\n      daSocket.on(\"terminate\", function () {\n        //console.log(\"Terminating socket\");\n        daSocket.disconnect();\n      });\n      daSocket.on(\"disconnect\", function () {\n        //console.log(\"Disconnected socket\");\n        //daSocket = null;\n      });\n      daSocket.on(\"stopcontrolling\", function (data) {\n        window.parent.daStopControlling(data.key);\n      });\n      daSocket.on(\"start_being_controlled\", function (data) {\n        //console.log(\"Got start_being_controlled\");\n        daConfirmed = true;\n        daPushChanges();\n        window.parent.daGotConfirmation(data.key);\n      });\n      daSocket.on(\"abortcontrolling\", function (data) {\n        //console.log(\"Got abortcontrolling\");\n        //daSendChanges = false;\n        //daConfirmed = false;\n        //daStopPushChanges();\n        window.parent.daAbortControlling(data.key);\n      });\n      daSocket.on(\"noconnection\", function (data) {\n        //console.log(\"warning: no connection\");\n        if (daNoConnectionCount++ > 2) {\n          //console.log(\"error: no connection\");\n          window.parent.daStopControlling(data.key);\n        }\n      });\n      daSocket.on(\"newpage\", function (incoming) {\n        //console.log(\"Got newpage\")\n        var data = incoming.obj;\n        $(daTargetDiv).html(data.body);\n        $(daTargetDiv).parent().removeClass();\n        $(daTargetDiv).parent().addClass(data.bodyclass);\n        daInitialize(1);\n        for (var i = 0; i < data.extra_scripts.length; i++) {\n          daEvalExtraScript(data.extra_scripts[i]);\n        }\n        for (var i = 0; i < data.extra_css.length; i++) {\n          $(\"head\").append(data.extra_css[i]);\n        }\n        document.title = data.browser_title;\n        if ($(\"html\").attr(\"lang\") != data.lang) {\n          $(\"html\").attr(\"lang\", data.lang);\n        }\n        daPushChanges();\n      });\n      daSocket.on(\"pushchanges\", function (data) {\n        //console.log(\"Got pushchanges: \" + JSON.stringify(data));\n        var valArray = Object();\n        var values = data.parameters;\n        for (var i = 0; i < values.length; i++) {\n          valArray[values[i].name] = values[i].value;\n        }\n        $(\"#daform\").each(function () {\n          $(this)\n            .find(\":input\")\n            .each(function () {\n              var type = $(this).attr(\"type\");\n              var id = $(this).attr(\"id\");\n              var name = $(this).attr(\"name\");\n              if (type == \"checkbox\") {\n                if (name in valArray) {\n                  if (valArray[name] == \"True\") {\n                    if ($(this).prop(\"checked\") != true) {\n                      $(this).prop(\"checked\", true);\n                      $(this).trigger(\"change\");\n                    }\n                  } else {\n                    if ($(this).prop(\"checked\") != false) {\n                      $(this).prop(\"checked\", false);\n                      $(this).trigger(\"change\");\n                    }\n                  }\n                } else {\n                  if ($(this).prop(\"checked\") != false) {\n                    $(this).prop(\"checked\", false);\n                    $(this).trigger(\"change\");\n                  }\n                }\n              } else if (type == \"radio\") {\n                if (name in valArray) {\n                  if (valArray[name] == $(this).val()) {\n                    if ($(this).prop(\"checked\") != true) {\n                      $(this).prop(\"checked\", true);\n                      $(this).trigger(\"change\");\n                    }\n                  } else {\n                    if ($(this).prop(\"checked\") != false) {\n                      $(this).prop(\"checked\", false);\n                      $(this).trigger(\"change\");\n                    }\n                  }\n                }\n              } else if ($(this).data().hasOwnProperty(\"sliderMax\")) {\n                $(this).slider(\"setValue\", parseInt(valArray[name]));\n              } else {\n                if (name in valArray) {\n                  $(this).val(valArray[name]);\n                }\n              }\n            });\n        });\n      });\n    }\n    daObserverChangesInterval = setInterval(daPushChanges, daCheckinSeconds);\n  }\n  $(document).trigger(\"daPageLoad\");\n}\n\nfunction daSetPosition(position) {\n  document.getElementById(\"da_track_location\").value = JSON.stringify({\n    latitude: position.coords.latitude,\n    longitude: position.coords.longitude,\n  });\n}\n\nfunction daAddListenersFor(elementId) {\n  $('[name=\"' + elementId + '\"]').change(function () {\n    if ($(this).attr(\"type\") == \"checkbox\" || $(this).attr(\"type\") == \"radio\") {\n      theVal = $('[name=\"' + elementId + '\"]:checked').val();\n    } else {\n      theVal = $(this).val();\n    }\n    var n = 0;\n    if ($(this).data(\"disableothers\")) {\n      var id_list = JSON.parse(\n        decodeURIComponent(escape(atob($(this).data(\"disableothers\")))),\n      );\n      n = id_list.length;\n    }\n    if (n) {\n      for (var i = 0; i < n; ++i) {\n        var theElementId = id_list[i].replace(/(:|\\.|\\[|\\]|,|=)/g, \"\\\\$1\");\n        if (theVal == null || theVal == \"\") {\n          daDisableIfNotHidden(\n            \"#daform [name='\" + theElementId + \"']:not([type=hidden])\",\n            false,\n          );\n          daDisableIfNotHidden(\n            \"#daform [id='\" + theElementId + \"']:not([type=hidden])\",\n            false,\n          );\n        } else {\n          daDisableIfNotHidden(\n            \"#daform [name='\" + theElementId + \"']:not([type=hidden])\",\n            true,\n          );\n          daDisableIfNotHidden(\n            \"#daform [id='\" + theElementId + \"']:not([type=hidden])\",\n            true,\n          );\n        }\n      }\n    } else {\n      if (theVal == null || theVal == \"\") {\n        daDisableIfNotHidden(\n          \"#daform input:not([name='\" +\n            elementId +\n            \"']):not([id^='\" +\n            elementId +\n            \"']):not([type=hidden])\",\n          false,\n        );\n        daDisableIfNotHidden(\n          \"#daform select:not([name='\" +\n            elementId +\n            \"']):not([id^='\" +\n            elementId +\n            \"']):not([type=hidden])\",\n          false,\n        );\n        daDisableIfNotHidden(\n          \"#daform textarea:not([name='\" + elementId + \"']):not([type=hidden])\",\n          false,\n        );\n      } else {\n        daDisableIfNotHidden(\n          \"#daform input:not([name='\" +\n            elementId +\n            \"']):not([id^='\" +\n            elementId +\n            \"']):not([type=hidden])\",\n          true,\n        );\n        daDisableIfNotHidden(\n          \"#daform select:not([name='\" +\n            elementId +\n            \"']):not([id^='\" +\n            elementId +\n            \"']):not([type=hidden])\",\n          true,\n        );\n        daDisableIfNotHidden(\n          \"#daform textarea:not([name='\" + elementId + \"']):not([type=hidden])\",\n          true,\n        );\n      }\n    }\n  });\n  $(\"[data-disableothers]\").trigger(\"change\");\n}\n\nfunction daShowError(error) {\n  switch (error.code) {\n    case error.PERMISSION_DENIED:\n      document.getElementById(\"da_track_location\").value = JSON.stringify({\n        error: \"User denied the request for Geolocation\",\n      });\n      console.log(\"User denied the request for Geolocation.\");\n      break;\n    case error.POSITION_UNAVAILABLE:\n      document.getElementById(\"da_track_location\").value = JSON.stringify({\n        error: \"Location information is unavailable\",\n      });\n      console.log(\"Location information is unavailable.\");\n      break;\n    case error.TIMEOUT:\n      document.getElementById(\"da_track_location\").value = JSON.stringify({\n        error: \"The request to get user location timed out\",\n      });\n      console.log(\"The request to get user location timed out.\");\n      break;\n    case error.UNKNOWN_ERROR:\n      document.getElementById(\"da_track_location\").value = JSON.stringify({\n        error: \"An unknown error occurred\",\n      });\n      console.log(\"An unknown error occurred.\");\n      break;\n  }\n}\n"],"names":["$","document","addEventListener","jQuery","noConflict","daJsEmbed","daTargetDiv","daPreloadImage","daImageToPreLoad","daAutoColorScheme","window","matchMedia","matches","daDesiredColorScheme","daCurrentColorScheme","documentElement","setAttribute","ajax","type","url","daUrlChangeColorScheme","xhrFields","withCredentials","data","success","scheme","error","xhr","status","console","log","dataType","ready","daReadyFunction","daObserverMode","daUpdateHeight","resize","daConfigureJqueryFuncs","i","daInitialExtraScripts","length","daEvalExtraScript","daCustomItems","daGlobalEval","js","datatype","daCtx","daColor","daWindowWidth","daTheWidth","daAspectRatio","daTheBorders","daIsEmpty","daInitializeSignature","penColor","setTimeout","isCanvasSupported","daPost","da_success","da_ajax","daNewCanvas","on","event","preventDefault","daResizeCanvas","click","e","getElementById","value","removeClass","addClass","attr","daSaveCanvas","width","dataURL","toDataURL","daSpinnerTimeout","daShowSpinner","da_the_image","cwidth","contentwidth","outerWidth","cheight","otherHeights","outerHeight","height","canvas","html","daThicknessScalingFactor","each","this","getContext","strokeStyle","fillStyle","lineWidth","drawTouch","drawPointer","drawMouse","scrollTo","daSteps","scrollIntoView","params","key","hasOwnProperty","hiddenField","submit","elem","createElement","daAutocomplete","Object","daWaitForGoogle","waitForPlaces","Promise","let","attempts","maxAttempts","interval","setInterval","found","google","maps","undefined","Error","places","clearInterval","resolve","daInitAutocomplete","info","id","opts","suggestions","async","daInitAutocompleteOld","await","Autocomplete","addListener","daFillInAddressFor","daFillInAddressOld","daInitMap","daMapInfo","googleLoaded","importLibrary","timePeriod","map_info_length","the_map","bounds","LatLngBounds","daAddMap","center","latitude","longitude","marker_length","markers","show_marker","j","new_marker","daAddMarker","extend","LatLng","position","lat","lng","map","fitBounds","map_num","center_lat","center_lon","Map","zoom","mapTypeId","MapTypeId","ROADMAP","mapId","infowindow","InfoWindow","marker_info","AdvancedMarkerElement","PinElement","marker","content","icon","element","setContent","open","daFillInAddress","origId","place","daVarLookupRev","baseVarname","atob","replace","re","RegExp","componentForm","locality","sublocality","administrative_area_level_3","administrative_area_level_2","administrative_area_level_1","country","postal_code","postal_code_suffix","componentTrans","fieldsToFill","idForPart","the_id","field_name","indexOf","m","exec","component","street_number","route","savedValues","toChange","zipCode","plusFour","addressComponents","addressType","types","val","push","the_address","adr_address","business_status","formatted_address","formatted_phone_number","theZipCode","geometry","location","international_phone_number","name","place_id","price_level","rating","utc_offset_minutes","vicinity","website","trigger","base_varname","fields_to_fill","id_for_part","getPlace","address_components","daGeolocate","navigator","geolocation","getCurrentPosition","coords","circle","Circle","radius","accuracy","setBounds","getBounds","daRequestPending","isAndroid","test","userAgent","toLowerCase","daWhichButton","daSocket","daChatHistory","daCheckinCode","daCheckingIn","daShowingHelp","daIframeEmbed","parent","daChatPartnersAvailable","daPhoneAvailable","daInitialized","daNotYetScrolled","daInformedChanged","daShowingSpinner","daSubmitter","daGAConfigured","daShowIfInProcess","daFieldsToSkip","daVarLookup","daVarLookupMulti","daVarLookupRevMulti","daVarLookupSelect","daVarLookupCheckbox","daVarLookupOption","daComboBoxes","eval","daFetchAcceptIncoming","daFetchAjaxTimeout","daFetchAjaxTimeoutRunning","daFetchAjaxTimeoutFetchAfter","daAddressAcceptIncoming","daAddressAjaxTimeout","daAddressAjaxTimeoutRunning","daAddressAjaxTimeoutCallAfter","daShowHideHappened","daCheckinInterval","daReloader","daDisable","daAllowGoingBack","daIsUser","daUserId","daChatStatus","daChatAvailable","daChatMode","daSendChanges","daBeingControlled","daInformed","daUsingGA","daUsingSegment","daDoAction","daQuestionID","daCsrf","daComboboxButtonLabel","daInterviewUrl","daLocationBar","daPostURL","daYamlFilename","daNotificationContainer","daNotificationMessage","daMessageLog","daGetVariablesUrl","daLiveHelpMessage","daLiveHelpMessagePhone","daNewChatMessage","daLiveHelpAvailableMessage","daScreenBeingControlled","daScreenNoLongerBeingControlled","daPathRoot","daCheckinSeconds","daChatRoles","daChatPartnerRoles","daAllButtonClasses","daButtonStyle","daShouldForceFullScreen","daPageSep","daAreYouSure","daOtherUser","daOtherUsers","daOperator","daOperators","daCheckinUrl","daCheckoutUrl","daCurrencyDecimalPlaces","daShouldDebugReadabilityHelp","daShouldDebugReadabilityQuestion","daEmailAddressRequired","daNeedCompleteEmail","daDefaultPopoverTrigger","daToggleWord","daCheckinUrlWithInterview","daReloadAfterSeconds","daTrackingEnabled","dagoogleapicallback","daForceFullScreen","steps","top","href","defineProperty","String","prototype","args","Array","from","arguments","defaultNumber","iValue","isNaN","defaultString","match","sign","filler","scale","precision","strOut","space","asNumber","isArray","splice","shift","parseInt","substr","repeat","parseFloat","toExponential","toFixed","toString","str","rest","daSprintf","apply","daGoToAnchor","target","scrollTarget","first","offset","animate","scrollTop","atou","b64","decodeURIComponent","escape","utoa","btoa","unescape","encodeURIComponent","dabtoa","daatob","hideTablist","anyTabs","is","getFields","allFields","rawFieldName","fieldName","daGetFields","daAppendIfExists","theArray","getField","notInDiv","n","checkboxes","prop","showifParents","parents","contains","select","fieldNameEscaped","possibleElements","returnVal","hasClass","fieldSet","daGetField","setChoices","choices","isCombobox","comboInput","find","comboObject","oldComboVal","$target","$source","oldVal","remove","opt","text","append","refresh","clearTarget","daSetField","daSetChoices","setField","theValue","wasSet","manualSelect","theVal","newVal","oldValue","option","changed","thisVal","cbSelected","selectedVals","da_val","daFormAsJSON","isInitial","formData","serializeArray","inArray","isChangedElem","JSON","stringify","img","Image","src","daShowHelpTab","tab","addCsrfHeader","settings","setRequestHeader","flash","message","priority","clear","empty","newElement","hide","da_flash","url_action","action","JSON_stringify","da_url_action","action_call","callback","forgetPrior","_action","_arguments","beforeSend","daProcessAjaxError","da_action_call","url_action_call","action_perform","param","csrf_token","daProcessAjax","da_action_perform","url_action_perform","action_perform_with_next","next_data","_next_action_to_set","da_action_perform_with_next","url_action_perform_with_next","get_interview_variables","da_get_interview_variables","daInformAbout","subject","chatMessage","waitPeriod","popover","placement","container","title","removeAttr","daPublishMessage","newDiv","is_self","daScrollChat","chatScroller","scrollHeight","daScrollChatFast","daSender","emit","focus","daShowControl","mode","css","appendTo","slideDown","show","daHideControl","slideUp","daInitializeSocket","connected","connect","protocol","io","domain","path","query","daDisplayChat","daPushChanges","arg","messages","disconnect","daTurnOnChat","numpartners","daCloseChat","incoming","obj","valArray","values","parse","parameters","slider","clicked","daUnfakeHtmlResponse","daInjectTrim","handler","tagName","trim","call","daInvalidHandler","form","validator","errors","numberOfInvalids","errorList","daValidator","daValidationRules","daValidationHandler","visibleElements","seen","filter","theName","off","daOnChange","tableOrder","tableOrderChanges","tableName","tableChanged","collectToDelete","lastOk","last","keys","join","do_iframe_upload","inline_succeeded","filesToRead","filesRead","newFileList","nullFileList","fileArray","file_list","inline_file_list","namesWithImages","the_file_input","the_max_size","the_image_type","hasImages","files","the_file","originalFileList","concat","fileInfoList","file_input","max_size","image_type","image_mime_type","this_has_images","a_file","tempFunc","has_images","reader","FileReader","thisFileInfo","size","onload","readerEvent","convertedName","convertedType","pos","lastIndexOf","image","imageEvent","drawImage","daResumeUploadSubmission","result","readAsDataURL","iframe","bind","parseJSON","contents","f","daShowErrorScreen","contentWindow","body","innerHTML","serialize","daSetupValidation","rules","submitHandler","invalidHandler","onfocusout","defaults","validate","showErrors","daRecordLocation","daSetPosition","daShowError","timeout","maximumAge","daSignatureSubmit","stopPropagation","s","json","c","charCodeAt","slice","disabled","oThis","daCheckin","daObserverChangesInterval","daConnected","uid","daUid","userid","daUserObserved","responseType","theHtml","responseText","daDivs","children","otherScripts","startsWith","daErrorScript","errorScriptDiv","daScripts","scriptElement","appendChild","reload","daShowNotifications","daAddScriptToHead","head","getElementsByTagName","script","defer","which","tag","activeElement","not","blur","daAddListenersFor","tooltip","enabled","color","doScroll","actionURL","clearTimeout","question_data","daQuestionData","bodyclass","do_action","livehelp","availability","roles","partner_roles","history","state","pushState","browser_title","replaceState","allow_going_back","id_dict","message_log","daInitialize","extra_scripts","scrollToTarget","extra_css","lang","reload_after","daRefreshSubmit","daHideSpinner","input","daEmbeddedJs","daEmbeddedAction","confirm","actionData","theURL","daReviewAction","daRingChat","daChatLogCallback","daResetCheckinCode","Math","random","daCheckinCallback","checkin_code","commands","command","extra","assignments","possible_assignment","assignment","oldDaChatStatus","phone","statusChanged","chat_status","num_peers","help_available","observerControl","daCheckoutCallback","daInitialCheckin","datastring","chatstatus","chatmode","checkinCode","raw_parameters","daCheckout","daStopCheckingIn","newSpan","newI","daObserverSubmitter","theAction","embeddedJs","embeddedAction","linkNum","theId","skey","daAdjustInputWidth","leftBracket","rightBracket","daIgnoreAllButTab","code","keyCode","daDisableIfNotHidden","showIfParent","disable","enable","daShowIfCompare","showIfVal","rationalizeListCollect","finalNum","num","firstNum","seenAddAnother","current","daFetchAjax","cb","doShow","wordStart","shown","wordstart","upperWordStart","toUpperCase","emptyItem","notYetSelected","selectedValue","item","keyList","sort","$element","lookup","fileinput","theme","language","allowedPreviewTypes","row","prev","insertBefore","next","insertAfter","valid","visible","isObject","varname","theSelect","cbList","theType","variable","cleanNum","replaceAll","selects","querySelectorAll","labelauty","class","label","anyChanged","firstEncountered","existing_val","combobox","buttonLabel","inputBox","daInputBox","clearIfNoMatch","functionalButton","showButton","matcher","lookupWhileTyping","thisId","Place","AutocompleteSessionToken","AutocompleteSuggestion","token","priorQuery","priorResults","request","region","sessionToken","$container","selected","placePrediction","toPlace","fetchFields","fields","includedPrimaryTypes","fetchAutocompleteSuggestions","results","sugMap","suggestion","addressText","every","index","options","items","reduce","revMap","process","_attachment_email_address","minlength","required","email","errorClass","daPopoverTriggerList","daPopoverTrigger","daPopoverList","daPopoverTriggerEl","bootstrap","Popover","informed","theCode","the_key","box","toggler","toggleClass","firstInput","inputType","strLength","setSelectionRange","err","firstButton","theIds","navMain","collapse","the_hash","patt","pattObj","pattRaw","checkboxName","baseName","bracketPart","transBaseName","daNameOne","daNameTwo","daNameThree","daNameBase","daTriggerQueries","daInputsSeen","daOnlyUnique","self","showIfDiv","jsInfo","showIfSign","showIfMode","jsExpression","forEach","infoItem","showIfVars","initShowIfVar","initShowIfVarEscaped","altShowIfVar","altShowIfVarEscaped","altElem","showIfVar","showIfVarEscaped","varToUse","showHideDiv","speed","resultt","leader","showHideDivImmediate","showHideDivFast","change","varName","endsWith","signifier","cbVarName","thisVarName","saveAs","firstChild","daTriggerAllShowHides","daUniqueTriggerQueries","daFirstTime","daTries","the_a","the_delay","daPageview","daSegmentEvent","fn","start","originalEvent","x","changedTouches","pageX","left","y","pageY","beginPath","arc","PI","fill","lineJoin","moveTo","move","lineTo","stroke","moveline","dot","stop","setDefaults","highlight","closest","unhighlight","errorElement","errorPlacement","elementName","idOfErrorSpan","lastInGroup","thefields","thename","fieldsArr","split","fileContainer","choice_with_help","addMethod","a","b","realElement","realValue","number_needed","css_query","date","Date","comparator","before_comparator","after_comparator","time","datetime","limit","maxImageSize","totalSize","dataLayer","gtag","idToUse","send_page_view","daSecureCookies","daGaIds","daInterviewPackage","daInterviewFilename","page_path","daStopPushChanges","daResetPushChanges","daReloadAfter","onpopstate","daDefaultAllowList","Tooltip","Default","allowList","daRootUrl","daStopControlling","daConfirmed","daGotConfirmation","daAbortControlling","daNoConnectionCount","elementId","id_list","theElementId","PERMISSION_DENIED","POSITION_UNAVAILABLE","TIMEOUT","UNKNOWN_ERROR"],"mappings":"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"}